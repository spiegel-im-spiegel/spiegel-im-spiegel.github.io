<!DOCTYPE html>
<html lang="ja">
<head prefix="og: http://ogp.me/ns#">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Hugo 0.152.0">
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="https://text.baldanders.info/golang/wasi-with-tinygo/">
<script defer src="/fa/js/all.min.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=BIZ+UDGothic:wght@400;700&family=BIZ+UDMincho:wght@400;700&family=Intel+One+Mono:wght@400;700&family=Noto+Color+Emoji&family=Noto+Sans:wght@400;700&family=Noto+Serif+Hentaigana:wght@400;700&family=Noto+Serif:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/css/local-font.css" type='text/css'>
<link rel="stylesheet" href="/css/baldanders-info-dark.css" type='text/css'>

<link rel="alternate" href="https://text.baldanders.info/index.xml" type="application/rss+xml" title="text.Baldanders.info">
<link rel="alternate" href="https://text.baldanders.info/index.json" type="application/json" title="text.Baldanders.info">
<meta name="google-site-verification" content="jTjBCslPtf8gwVatiY-GDgGv7pV5csa8aUOw1MRPUD4">
<link rel="me" href="https://fedibird.com/@spiegel">
<title>TinyGo ã§ WASI ã€å¤±æ•—ç·¨ã€‘ [text.Baldanders.info]</title>
<meta property="og:title" content="TinyGo ã§ WASI ã€å¤±æ•—ç·¨ã€‘">
<meta name="description" content="ã©ã†ã‚„ã£ãŸã‚‰å‹•ã‹ã›ã‚‹ã®ã‹ã€‚ã©ãªãŸã‹æ•™ãˆã¦ãã ã•ã„ ğŸ™‡">
<meta property="og:description" content="ã©ã†ã‚„ã£ãŸã‚‰å‹•ã‹ã›ã‚‹ã®ã‹ã€‚ã©ãªãŸã‹æ•™ãˆã¦ãã ã•ã„ ğŸ™‡">
<meta property="og:image" content="https://text.baldanders.info/images/attention/go-logo_blue.png">
<meta name="author" content="Spiegel">


<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@spiegel_2007">
<meta name="twitter:creator" content="@spiegel_2007">
<link rel="me" href="https://goark.fedicity.net/@spiegel">
<meta name="keywords" content="programming, golang, tinygo, webassembly">
<link rel='prev' href='https://text.baldanders.info/golang/webassembly-with-tinygo/' title='TinyGo ã§ WebAssembly'>
<link rel='next' href='https://text.baldanders.info/golang/token-bucket/' title='Go ã«ã‚ˆã‚‹ Token Bucket å®Ÿè£…'>

<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "WebSite",
	"@id": "https://text.baldanders.info/",
	"inLanguage": "ja",
	"name": "text.Baldanders.info",
    "url": "https://text.baldanders.info/",
	"publisher": {
		"@id": "https://text.baldanders.info/#org"
	},
	"author": {
		"@id": "https://text.baldanders.info/#maker"
	},
	"image": "https://text.baldanders.info/images/attention/site.jpg",
	"description": "å¸°ã£ã¦ããŸã€Œã—ã£ã½ã®ã•ãã£ã¡ã‚‡ã€"
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Organization",
	"@id": "https://text.baldanders.info/#org",
	"name": "Spiegel",
	"logo": {
		"@type": "ImageObject",
		"@id": "https://text.baldanders.info/#logo",
		"url": "https://text.baldanders.info/images/avatar.jpg"
	}
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Person",
	"@id": "https://text.baldanders.info/#maker",
	"name": "Spiegel",
	"url": "https://baldanders.info/profile/",
	"image": "https://text.baldanders.info/images/avatar.jpg"
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Blog",
	"@id": "https://text.baldanders.info/golang/",
	"url": "https://text.baldanders.info/golang/",
	"inLanguage": "ja",
	"name": "ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª Go",
	"description": "Go è¨€èªãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã«é–¢ã™ã‚‹è©±é¡Œã€‚",
	"image": "https://text.baldanders.info/images/attention/go-logo_blue.png",
	"publisher": {
		"@id": "https://text.baldanders.info/#org"
	},
	"author": {
		"@id": "https://text.baldanders.info/#maker"
	}
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "BreadcrumbList",
	"@id": "https://text.baldanders.info/golang/wasi-with-tinygo/#breadcrumb-list",
	"itemListElement": [
		{
			"@type": "ListItem",
			"position": 1,
			"item": {
				"@id": "https://text.baldanders.info/"
			}
		},
		{
			"@type": "ListItem",
			"position": 2,
			"item": {
				"@id": "https://text.baldanders.info/golang/"
			}
		}
	]
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "BlogPosting",
	"@id": "https://text.baldanders.info/golang/wasi-with-tinygo/",
	"url": "https://text.baldanders.info/golang/wasi-with-tinygo/",
	"mainEntityOfPage": "https://text.baldanders.info/golang/wasi-with-tinygo/",
	"inLanguage": "ja",
	"name": "TinyGo ã§ WASI ã€å¤±æ•—ç·¨ã€‘",
	"description": "ã©ã†ã‚„ã£ãŸã‚‰å‹•ã‹ã›ã‚‹ã®ã‹ã€‚ã©ãªãŸã‹æ•™ãˆã¦ãã ã•ã„ ğŸ™‡",
	"headline": "ã©ã†ã‚„ã£ãŸã‚‰å‹•ã‹ã›ã‚‹ã®ã‹ã€‚ã©ãªãŸã‹æ•™ãˆã¦ãã ã•ã„ ğŸ™‡",
	"keywords": "programming, golang, tinygo, webassembly",
	"image": "https://text.baldanders.info/images/attention/go-logo_blue.png",
	"datePublished": "2021-03-21T08:38:59+00:00",
	"dateModified": "2024-05-10T22:02:32+00:00",
	"publisher": {
		"@id": "https://text.baldanders.info/#org"
	},
	"author": {
		"@id": "https://text.baldanders.info/#maker"
	},
	"license": "https://creativecommons.org/licenses/by-sa/4.0/"
}
</script>
</head>
<body>

<div id='container'>

<main>
<nav class="breadcrumb">
<a href="https://text.baldanders.info/">text.Baldanders.info</a> &raquo; <a href="/golang/">ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª Go</a>
</nav>
<article>
<h1>TinyGo ã§ WASI ã€å¤±æ•—ç·¨ã€‘</h1>
<nav class="tags">
	<div><a href='/tags/'>Tags</a>: #<a href="/tags/golang/">golang</a> #<a href="/tags/programming/">programming</a> #<a href="/tags/tinygo/">tinygo</a> #<a href="/tags/webassembly/">webassembly</a></div>
	<div class="cloud">
		<span class="share-color" title="Share this entry"><i class="fa-solid fa-share-from-square"></i></span>&nbsp;:
		&nbsp;<a href="https://getpocket.com/edit?url=https%3a%2f%2ftext.baldanders.info%2fgolang%2fwasi-with-tinygo%2f&amp;title=TinyGo%20%e3%81%a7%20WASI%20%e3%80%90%e5%a4%b1%e6%95%97%e7%b7%a8%e3%80%91" target="_blank"><span class="pocket-color"><abbr title="Share Pocket"><i class="fab fa-get-pocket" aria-hidden="true"></i></abbr></span></a>
		&nbsp;<a href="http://www.facebook.com/share.php?u=https%3a%2f%2ftext.baldanders.info%2fgolang%2fwasi-with-tinygo%2f" target="_blank"><span class="facebook-color"><abbr title="Share facebook"><i class="fab fa-square-facebook" aria-hidden="true"></i></abbr></span></a>
		&nbsp;<a href="http://twitter.com/share?text=TinyGo%20%e3%81%a7%20WASI%20%e3%80%90%e5%a4%b1%e6%95%97%e7%b7%a8%e3%80%91+by+@spiegel_2007&amp;url=https%3a%2f%2ftext.baldanders.info%2fgolang%2fwasi-with-tinygo%2f" target="_blank"><span class="x-twitter-color"><abbr title="Share Twitter"><i class="fa-brands fa-square-x-twitter" aria-hidden="true"></i></abbr></span></a>
		&nbsp;<a href="https://donshare.net/share.html?text=TinyGo%20%e3%81%a7%20WASI%20%e3%80%90%e5%a4%b1%e6%95%97%e7%b7%a8%e3%80%91+by+@spiegel%40goark.fedicity.net%20+https%3a%2f%2ftext.baldanders.info%2fgolang%2fwasi-with-tinygo%2f" target="_blank"><span class="mastodon-color"><abbr title="Share Mastodon"><i class="fa-brands fa-mastodon" aria-hidden="true"></i></abbr></span></a>
	</div>
</nav>
<nav class="history">History in
  <a href="https://github.com/spiegel-im-spiegel/spiegel-im-spiegel.github.io/commits/master/golang/wasi-with-tinygo/index.html">GitHub Page</a>
</nav>

<section>
<p><a href="/golang/webassembly-with-tinygo/">å‰å›</a>ã¯ <a href="https://go.dev/">Go</a> ãŠã‚ˆã³ <a href="https://tinygo.org/" title="TinyGo - Go on Microcontrollers and WASM">TinyGo</a> ã‚’ä½¿ã£ã¦ <a href="https://webassembly.org/" title="WebAssembly">WebAssembly</a> ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§å®Ÿè¡Œã™ã‚‹ã¨ã“ã‚ã¾ã§ã‚„ã£ãŸã€‚</p>
<p>ã—ã‹ã—ï¼Œã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§å‹•ã‹ã™ã ã‘ã§ã¯ã‚ã¾ã‚Šé¢ç™½ããªã„ã‚ˆã­ã€‚
ãã“ã§ WASI (WebAssembly System Interface) ã¨ã„ã† POSIX é¢¨ã®æ¨™æº–è¦æ ¼ãŒã‚ã‚‹ãã†ãªã€‚
WASI ã«å‰‡ã£ãŸ <a href="https://webassembly.org/" title="WebAssembly">WebAssembly</a> ã‚³ãƒ¼ãƒ‰ã¨ï¼Œãã‚Œã‚’é§†å‹•ã™ã‚‹ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ç’°å¢ƒã‚’ç”¨æ„ã™ã‚‹ã“ã¨ã§ â€œWrite Once, Run Anywhereâ€ ã®å¤¢ã‚ˆã‚‚ã†ä¸€åº¦ï¼Œã¨ã„ã†ã‚ã‘<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>ï¼ˆç¬‘ï¼‰</p>
<p>å®Ÿã¯æœ¬å®¶ <a href="https://go.dev/">Go</a> ã® <code>wasm</code> ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯ WASI ã«å¯¾å¿œã—ã¦ã„ãªã„ã€‚
ãŸã ã— <a href="https://tinygo.org/" title="TinyGo - Go on Microcontrollers and WASM">TinyGo</a> ã®ã»ã†ã¯ã‚¤ã‚±ã‚‹ã¿ãŸã„ãªã®ã§ï¼Œä»Šå›ã¯ <a href="https://tinygo.org/" title="TinyGo - Go on Microcontrollers and WASM">TinyGo</a> ã‚ªãƒ³ãƒªãƒ¼ã§ãŠé€ã‚Šã™ã‚‹ã€‚</p>
<h2>WASI ãƒ©ãƒ³ã‚¿ã‚¤ãƒ </h2>
<p>ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³ã§å‹•ã WASI ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã«ã¯è‰²ã€…ã‚ã‚‹ã‚ˆã†ã§</p>
<ul>
<li><a href="https://github.com/bytecodealliance/lucet" title="bytecodealliance/lucet: Lucet, the Sandboxing WebAssembly Compiler.">Lucet</a></li>
<li><a href="https://wasmtime.dev/" title="Wasmtime â€” a small and efficient runtime for WebAssembly &amp; WASI">Wasmtime</a></li>
<li><a href="https://docs.wasmer.io/" title="Wasmer Docs">Wasmer</a></li>
<li><a href="https://wavm.github.io/">WAVM</a></li>
<li><a href="https://www.secondstate.io/ssvm/" title="The Second State WebAssembly VM">SSVM</a></li>
</ul>
<p>ã¨ã„ã£ãŸå®Ÿè£…ãŒã‚ã‚‹ã‚‰ã—ã„ã€‚</p>
<p>ãŸã  <a href="https://tinygo.org/" title="TinyGo - Go on Microcontrollers and WASM">TinyGo</a> ã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå®šç¾©ãŒ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;llvm-target&#34;</span><span class="p">:</span>   <span class="s2">&#34;wasm32--wasi&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;build-tags&#34;</span><span class="p">:</span>    <span class="p">[</span><span class="s2">&#34;wasm&#34;</span><span class="p">,</span> <span class="s2">&#34;wasi&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;goos&#34;</span><span class="p">:</span>          <span class="s2">&#34;linux&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;goarch&#34;</span><span class="p">:</span>        <span class="s2">&#34;arm&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;compiler&#34;</span><span class="p">:</span>      <span class="s2">&#34;clang&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;linker&#34;</span><span class="p">:</span>        <span class="s2">&#34;wasm-ld&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;libc&#34;</span><span class="p">:</span>          <span class="s2">&#34;wasi-libc&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;cflags&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;--target=wasm32--wasi&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;--sysroot={root}/lib/wasi-libc/sysroot&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;-Oz&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;ldflags&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;--allow-undefined&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;--stack-first&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;--export-dynamic&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;--no-demangle&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line hl"><span class="cl">    <span class="nt">&#34;emulator&#34;</span><span class="p">:</span>      <span class="p">[</span><span class="s2">&#34;wasmtime&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;wasm-abi&#34;</span><span class="p">:</span>      <span class="s2">&#34;generic&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>ã¨ <a href="https://wasmtime.dev/" title="Wasmtime â€” a small and efficient runtime for WebAssembly &amp; WASI">Wasmtime</a> ã‚’ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã¨ã—ã¦ã„ã‚‹ã¿ãŸã„ãªã®ã§ï¼Œä»Šå›ã¯ã“ã‚Œã‚’ä½¿ã†ã€‚</p>
<h3><a href="https://wasmtime.dev/" title="Wasmtime â€” a small and efficient runtime for WebAssembly &amp; WASI">Wasmtime</a> ã®å°å…¥</h3>
<p><a href="https://wasmtime.dev/" title="Wasmtime â€” a small and efficient runtime for WebAssembly &amp; WASI">Wasmtime</a> ã®ãƒªãƒã‚¸ãƒˆãƒªã§ãƒã‚¤ãƒŠãƒªãŒ<a href="https://github.com/bytecodealliance/wasmtime/releases" title="Releases Â· bytecodealliance/wasmtime">ãƒªãƒªãƒ¼ã‚¹</a>ã•ã‚Œã¦ã„ã‚‹ã®ã§ï¼Œã“ã‚Œã‚’å–ã£ã¦ãã¦ PATH ã®é€šã£ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«æ”¾ã‚Šè¾¼ã‚“ã§ãŠã‘ã°ã‚ˆã„ã€‚</p>
<p>ã‚ã‚‹ã„ã¯</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ curl https://wasmtime.dev/install.sh -sSf | bash
</span></span></code></pre></div><p>ã¨ã™ã‚Œã° <code>$HOME/.wasmtime/bin/</code> ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æ˜ã£ã¦å…¥ã‚Œã¦ãã‚Œã‚‹ã€‚
ã•ã‚‰ã« PATH ã‚’é€šã™ãŸã‚ã« <code>$HOME/.bashrc</code> ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›¸ãæ›ãˆã¦ãã‚Œã‚„ãŒã‚‹ã®ã§ï¼Œã”æ³¨æ„ã‚’ã€‚</p>
<p>ãªãŠ <a href="https://wasmtime.dev/" title="Wasmtime â€” a small and efficient runtime for WebAssembly &amp; WASI">Wasmtime</a> è‡ªä½“ã®ãƒ“ãƒ«ãƒ‰ã«ã¯ Rust ã¨ C++ (å¤šåˆ† GCC ã® g++) ã®ãƒ“ãƒ«ãƒ‰ç’°å¢ƒãŒå¿…è¦ã‚‰ã—ã„ã€‚
æ™‚ä»£ã¯ Rust ãªã‚“ã ã­ã‡ã€‚</p>
<p>ä»¥ä¸‹ï¼Œå‹•ä½œç¢ºèªã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ wasmtime --help
</span></span><span class="line"><span class="cl">wasmtime 0.25.0
</span></span><span class="line"><span class="cl">Wasmtime WebAssembly Runtime
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">USAGE:
</span></span><span class="line"><span class="cl">    wasmtime &lt;SUBCOMMAND&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">FLAGS:
</span></span><span class="line"><span class="cl">    -h, --help       Prints help information
</span></span><span class="line"><span class="cl">    -V, --version    Prints version information
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">SUBCOMMANDS:
</span></span><span class="line"><span class="cl">    config      Controls Wasmtime configuration settings
</span></span><span class="line"><span class="cl">    help        Prints this message or the help of the given subcommand(s)
</span></span><span class="line"><span class="cl">    run         Runs a WebAssembly module
</span></span><span class="line"><span class="cl">    wasm2obj    Translates a WebAssembly module to native object file
</span></span><span class="line"><span class="cl">    wast        Runs a WebAssembly test script file
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">If a subcommand is not provided, the `run` subcommand will be used.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Usage examples:
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Running a WebAssembly module with a start function:
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  wasmtime example.wasm
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Passing command line arguments to a WebAssembly module:
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  wasmtime example.wasm arg1 arg2 arg3
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Invoking a specific function (e.g. `add`) in a WebAssembly module:
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  wasmtime example.wasm --invoke add 1 2
</span></span></code></pre></div><h2>ã¿ã‚“ãªå¤§å¥½ã Hello World</h2>
<p>ä½•ã¯ã¨ã‚‚ã‚ã‚Œï¼Œã‚³ãƒ¼ãƒ‰ã‚’ç”¨æ„ã—ãªã„ã¨ã­ã€‚
ã„ã¤ã‚‚ã®ã‚ˆã†ã«ï¼Œã¿ã‚“ãªå¤§å¥½ã Hello World ã§ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nx">main</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="s">&#34;fmt&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">func</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Hello, World!&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>ã“ã‚Œã‚’ <a href="https://tinygo.org/" title="TinyGo - Go on Microcontrollers and WASM">TinyGo</a> ã§å‡¦ç†ã™ã‚‹ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ tinygo build -o hello.wasm -target wasi ./hello.go
</span></span></code></pre></div><p>ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãŒ <code>wasi</code> ã«ãªã£ã¦ã„ã‚‹ç‚¹ã«æ³¨æ„ã€‚</p>
<h2><a href="https://wasmtime.dev/" title="Wasmtime â€” a small and efficient runtime for WebAssembly &amp; WASI">Wasmtime</a> ã§ WASI ã‚³ãƒ¼ãƒ‰ã‚’å‹•ã‹ã™</h2>
<p>ã‚“ã§ã¯ãƒ“ãƒ«ãƒ‰ã—ãŸ <code>hello.wasm</code> ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ wasmtime run hello.wasm 
</span></span><span class="line"><span class="cl">Hello, World!
</span></span></code></pre></div><p>ã‚ˆãƒ¼ã—ï¼Œã†ã‚€ã†ã‚€ï¼Œã‚ˆãƒ¼ã—ã€‚</p>
<h2><a href="https://github.com/bytecodealliance/wasmtime-go" title="bytecodealliance/wasmtime-go: Go WebAssembly runtime powered by Wasmtime">wasmtime-go</a> ã§ WASI ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚’çµ„ã¿è¾¼ã‚€ã€å¤±æ•—ç·¨ã€‘</h2>
<p><a href="https://github.com/bytecodealliance/wasmtime-go" title="bytecodealliance/wasmtime-go: Go WebAssembly runtime powered by Wasmtime">bytecodealliance/wasmtime-go</a> ã‚’ä½¿ã†ã¨ <a href="https://wasmtime.dev/" title="Wasmtime â€” a small and efficient runtime for WebAssembly &amp; WASI">Wasmtime</a> ã®ãƒ©ãƒ³ã‚¿ã‚¤ãƒ æ©Ÿèƒ½ã‚’ <a href="https://go.dev/">Go</a> ã®ã‚³ãƒ¼ãƒ‰ã¨ã—ã¦åŸ‹ã‚è¾¼ã‚ã‚‹ã‚‰ã—ã„ï¼ˆè¦ cgoï¼‰ã€‚
ã“ã‚“ãªæ„Ÿã˜ã‹ãªã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nx">main</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">_</span><span class="w"> </span><span class="s">&#34;embed&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s">&#34;fmt&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s">&#34;os&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s">&#34;github.com/bytecodealliance/wasmtime-go&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="cp">//go:embed hello.wasm</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">var</span><span class="w"> </span><span class="nx">wasm</span><span class="w"> </span><span class="p">[]</span><span class="kt">byte</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">func</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">store</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">wasmtime</span><span class="p">.</span><span class="nf">NewStore</span><span class="p">(</span><span class="nx">wasmtime</span><span class="p">.</span><span class="nf">NewEngine</span><span class="p">())</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">wasiConfig</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">wasmtime</span><span class="p">.</span><span class="nf">NewWasiConfig</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">wasiConfig</span><span class="p">.</span><span class="nf">InheritStdout</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">wasi</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">wasmtime</span><span class="p">.</span><span class="nf">NewWasiInstance</span><span class="p">(</span><span class="nx">store</span><span class="p">,</span><span class="w"> </span><span class="nx">wasiConfig</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;wasi_snapshot_preview1&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Fprintln</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Stderr</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Errorf</span><span class="p">(</span><span class="s">&#34;error in wasmtime.NewWasiInstance() : %w&#34;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">))</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">linker</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">wasmtime</span><span class="p">.</span><span class="nf">NewLinker</span><span class="p">(</span><span class="nx">store</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">linker</span><span class="p">.</span><span class="nf">DefineWasi</span><span class="p">(</span><span class="nx">wasi</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Fprintln</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Stderr</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Errorf</span><span class="p">(</span><span class="s">&#34;error in wasmtime.Linker.DefineWasi() : %w&#34;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">))</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">wasmtime</span><span class="p">.</span><span class="nf">ModuleValidate</span><span class="p">(</span><span class="nx">store</span><span class="p">,</span><span class="w"> </span><span class="nx">wasm</span><span class="p">);</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Fprintln</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Stderr</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Errorf</span><span class="p">(</span><span class="s">&#34;error in wasmtime.ModuleValidate() : %w&#34;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">))</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">module</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">wasmtime</span><span class="p">.</span><span class="nf">NewModule</span><span class="p">(</span><span class="nx">store</span><span class="p">.</span><span class="nx">Engine</span><span class="p">,</span><span class="w"> </span><span class="nx">wasm</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Fprintln</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Stderr</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Errorf</span><span class="p">(</span><span class="s">&#34;error in wasmtime.NewModule() : %w&#34;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">))</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">instance</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">linker</span><span class="p">.</span><span class="nf">Instantiate</span><span class="p">(</span><span class="nx">module</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Fprintln</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Stderr</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Errorf</span><span class="p">(</span><span class="s">&#34;error in wasmtime.Linker.Instantiate() : %w&#34;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">))</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">instance</span><span class="p">.</span><span class="nf">GetExport</span><span class="p">(</span><span class="s">&#34;_start&#34;</span><span class="p">).</span><span class="nf">Func</span><span class="p">().</span><span class="nf">Call</span><span class="p">();</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Fprintln</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Stderr</span><span class="p">,</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Errorf</span><span class="p">(</span><span class="s">&#34;error in \&#34;_start\&#34; : %w&#34;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">))</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>ã§ã¯ï¼Œã“ã‚Œã‚’å‹•ã‹ã—ã¦ã¿ã‚ˆã†ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ go run sample.go 
</span></span><span class="line"><span class="cl">error in wasmtime.Linker.Instantiate() : unknown import: `wasi_unstable::fd_write` has not been defined
</span></span></code></pre></div><p>ãŠã†ãµã€‚
ãªã‚“ã‹è¶³ã‚‰ã‚“ã¨è¨€ã£ã¦ã„ã‚‹ã€‚</p>
<p><a href="https://tinygo.org/" title="TinyGo - Go on Microcontrollers and WASM">TinyGo</a> å´ã§ãªã«ã‹ä¸å‚™ãŒã‚ã‚‹ã®ã‹ã¨æ€ã£ã¦ä»¥ä¸‹ã®<a href="https://pkg.go.dev/github.com/bytecodealliance/wasmtime-go#example-package-Wasi">ã‚µãƒ³ãƒ—ãƒ«ãƒ»ã‚³ãƒ¼ãƒ‰</a>ã‚‚ãã®ã¾ã¾å‹•ã‹ã—ã¦ã¿ãŸãŒ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nx">main</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s">&#34;fmt&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s">&#34;io/ioutil&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s">&#34;os&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s">&#34;path/filepath&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s">&#34;github.com/bytecodealliance/wasmtime-go&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">const</span><span class="w"> </span><span class="nx">TextWat</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">`(module
</span></span></span><span class="line"><span class="cl"><span class="s">    ;; Import the required fd_write WASI function which will write the given io vectors to stdout
</span></span></span><span class="line"><span class="cl"><span class="s">    ;; The function signature for fd_write is:
</span></span></span><span class="line"><span class="cl"><span class="s">    ;; (File Descriptor, *iovs, iovs_len, nwritten) -&gt; Returns number of bytes written
</span></span></span><span class="line"><span class="cl"><span class="s">    (import &#34;wasi_unstable&#34; &#34;fd_write&#34; (func $fd_write (param i32 i32 i32 i32) (result i32)))
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">    (memory 1)
</span></span></span><span class="line"><span class="cl"><span class="s">    (export &#34;memory&#34; (memory 0))
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">    ;; Write &#39;hello world\n&#39; to memory at an offset of 8 bytes
</span></span></span><span class="line"><span class="cl"><span class="s">    ;; Note the trailing newline which is required for the text to appear
</span></span></span><span class="line"><span class="cl"><span class="s">    (data (i32.const 8) &#34;hello world\n&#34;)
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">    (func $main (export &#34;_start&#34;)
</span></span></span><span class="line"><span class="cl"><span class="s">        ;; Creating a new io vector within linear memory
</span></span></span><span class="line"><span class="cl"><span class="s">        (i32.store (i32.const 0) (i32.const 8))  ;; iov.iov_base - This is a pointer to the start of the &#39;hello world\n&#39; string
</span></span></span><span class="line"><span class="cl"><span class="s">        (i32.store (i32.const 4) (i32.const 12))  ;; iov.iov_len - The length of the &#39;hello world\n&#39; string
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">        (call $fd_write
</span></span></span><span class="line"><span class="cl"><span class="s">            (i32.const 1) ;; file_descriptor - 1 for stdout
</span></span></span><span class="line"><span class="cl"><span class="s">            (i32.const 0) ;; *iovs - The pointer to the iov array, which is stored at memory location 0
</span></span></span><span class="line"><span class="cl"><span class="s">            (i32.const 1) ;; iovs_len - We&#39;re printing 1 string stored in an iov - so one.
</span></span></span><span class="line"><span class="cl"><span class="s">            (i32.const 20) ;; nwritten - A place in memory to store the number of bytes written
</span></span></span><span class="line"><span class="cl"><span class="s">        )
</span></span></span><span class="line"><span class="cl"><span class="s">        drop ;; Discard the number of bytes written from the top of the stack
</span></span></span><span class="line"><span class="cl"><span class="s">    )
</span></span></span><span class="line"><span class="cl"><span class="s">)`</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">func</span><span class="w"> </span><span class="nf">check</span><span class="p">(</span><span class="nx">e</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">e</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nb">panic</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">func</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">dir</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">ioutil</span><span class="p">.</span><span class="nf">TempDir</span><span class="p">(</span><span class="s">&#34;&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;out&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nf">check</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">defer</span><span class="w"> </span><span class="nx">os</span><span class="p">.</span><span class="nf">RemoveAll</span><span class="p">(</span><span class="nx">dir</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">stdoutPath</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">filepath</span><span class="p">.</span><span class="nf">Join</span><span class="p">(</span><span class="nx">dir</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;stdout&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">engine</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">wasmtime</span><span class="p">.</span><span class="nf">NewEngine</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">store</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">wasmtime</span><span class="p">.</span><span class="nf">NewStore</span><span class="p">(</span><span class="nx">engine</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">linker</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">wasmtime</span><span class="p">.</span><span class="nf">NewLinker</span><span class="p">(</span><span class="nx">store</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// Configure WASI imports to write stdout into a file.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">wasiConfig</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">wasmtime</span><span class="p">.</span><span class="nf">NewWasiConfig</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">wasiConfig</span><span class="p">.</span><span class="nf">SetStdoutFile</span><span class="p">(</span><span class="nx">stdoutPath</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// Set the version to the same as in the WAT.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">wasi</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">wasmtime</span><span class="p">.</span><span class="nf">NewWasiInstance</span><span class="p">(</span><span class="nx">store</span><span class="p">,</span><span class="w"> </span><span class="nx">wasiConfig</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;wasi_snapshot_preview1&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nf">check</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// Link WASI</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">err</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">linker</span><span class="p">.</span><span class="nf">DefineWasi</span><span class="p">(</span><span class="nx">wasi</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nf">check</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// Create our module</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">wasm</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">wasmtime</span><span class="p">.</span><span class="nf">Wat2Wasm</span><span class="p">(</span><span class="nx">TextWat</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nf">check</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">module</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">wasmtime</span><span class="p">.</span><span class="nf">NewModule</span><span class="p">(</span><span class="nx">store</span><span class="p">.</span><span class="nx">Engine</span><span class="p">,</span><span class="w"> </span><span class="nx">wasm</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nf">check</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">instance</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">linker</span><span class="p">.</span><span class="nf">Instantiate</span><span class="p">(</span><span class="nx">module</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nf">check</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// Run the function</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">nom</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">instance</span><span class="p">.</span><span class="nf">GetExport</span><span class="p">(</span><span class="s">&#34;_start&#34;</span><span class="p">).</span><span class="nf">Func</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">nom</span><span class="p">.</span><span class="nf">Call</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nf">check</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// Print WASM stdout</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">out</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">ioutil</span><span class="p">.</span><span class="nf">ReadFile</span><span class="p">(</span><span class="nx">stdoutPath</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nf">check</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Print</span><span class="p">(</span><span class="nb">string</span><span class="p">(</span><span class="nx">out</span><span class="p">))</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>çµæœã¯åŒã˜ã§ <code>wasi_unstable::fd_write</code> ãªã‚“ãçŸ¥ã‚‰ã‚“ã¨è¨€ã£ã¦ãã•ã‚‹ã€‚
ãˆã£ï¼Ÿ ã¿ã‚“ãªã“ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰å‹•ã‹ã›ã‚‹ã®ï¼Ÿ ã©ã†ã‚„ã‚“ã ï¼Ÿ å¤šåˆ†ãƒ©ãƒ³ã‚¿ã‚¤ãƒ å´ã§ä½•ã‹è¶³ã‚‰ãªã„ã‚“ã ã‚ã†ã‘ã©ï¼Œã‚ˆãåˆ†ã‹ã‚‰ã‚“ã€‚
<code>wasmtime-c-api</code> ã‚’çµ„ã¿è¾¼ã‚ã°ã„ã„ã®ã‹ãªã¨æ€ã£ãŸãŒï¼Œé•ã†ã‚ˆãªãï¼Ÿ</p>
<p>ã¨ã„ã†ã¨ã“ã‚ã§æŒ«æŠ˜ã—ãŸ <code>orz</code> ã©ãªãŸã‹æ•™ãˆã¦ãã ã•ã„ <abbr class="emoji-chars" title="ãƒšã‚³ãƒ³">&#x1f647;</abbr></p>
<h3>ã€2021-03-22 è¿½è¨˜ã€‘</h3>
<p>Twitter ã§<a href="https://twitter.com/sago35tk/status/1373929809827536898">æ•™ãˆã¦ã„ãŸã ãã¾ã—ãŸ</a>ã€‚
æ„Ÿè¬ï¼</p>
<p>ã©ã†ã‚‚ <a href="https://tinygo.org/" title="TinyGo - Go on Microcontrollers and WASM">TinyGo</a> ã¨ <a href="https://github.com/bytecodealliance/wasmtime-go" title="bytecodealliance/wasmtime-go: Go WebAssembly runtime powered by Wasmtime">wasmtime-go</a> ã¨ã®é–“ã§ <a href="https://github.com/WebAssembly/WASI/blob/main/design/application-abi.md">WASI Application ABI (Application Binary Interface)</a> ãŒ ãƒãƒƒãƒã—ã¦ã„ãªã„æ¨¡æ§˜ã€‚
ãŸã—ã‹ã« <code>$TINYGOROOT/src/runtime/runtime_wasm.go</code> ã«</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="cp">//go:wasm-module wasi_unstable</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="cp">//export fd_write</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">func</span><span class="w"> </span><span class="nf">fd_write</span><span class="p">(</span><span class="nx">id</span><span class="w"> </span><span class="kt">uint32</span><span class="p">,</span><span class="w"> </span><span class="nx">iovs</span><span class="w"> </span><span class="o">*</span><span class="nx">__wasi_iovec_t</span><span class="p">,</span><span class="w"> </span><span class="nx">iovs_len</span><span class="w"> </span><span class="kt">uint</span><span class="p">,</span><span class="w"> </span><span class="nx">nwritten</span><span class="w"> </span><span class="o">*</span><span class="kt">uint</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">errno</span><span class="w"> </span><span class="kt">uint</span><span class="p">)</span><span class="w">
</span></span></span></code></pre></div><p>ã£ã¦è¨˜è¿°ãŒã‚ã‚‹ã‚ã€‚
ãµã‚€ã‚€ãƒ¼ã€‚
<code>//go:wasm-module</code> ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’ã‚­ãƒ¼ã«èª¿ã¹ã¦ã¿ã‚Œã°ã„ã„ã®ã‹ãªã€‚
å‚è€ƒã«ãªã£ãŸã€‚</p>
<p>ã¡ãªã¿ã«ï¼Œã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’å‚è€ƒã«</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">wasi</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">wasmtime</span><span class="p">.</span><span class="nf">NewWasiInstance</span><span class="p">(</span><span class="nx">store</span><span class="p">,</span><span class="w"> </span><span class="nx">wasiConfig</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;wasi_snapshot_preview1&#34;</span><span class="p">)</span><span class="w">
</span></span></span></code></pre></div><p>ã®éƒ¨åˆ†ã‚’</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">wasi</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">wasmtime</span><span class="p">.</span><span class="nf">NewWasiInstance</span><span class="p">(</span><span class="nx">store</span><span class="p">,</span><span class="w"> </span><span class="nx">wasiConfig</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;wasi_unstable&#34;</span><span class="p">)</span><span class="w">
</span></span></span></code></pre></div><p>ã«å·®ã—æ›¿ãˆãŸã‚‰å‹•ãå‡ºã—ãŸã€‚
ãªã‚‹ã»ã©ã­ãƒ¼ã€‚</p>
<p><a href="https://tinygo.org/" title="TinyGo - Go on Microcontrollers and WASM">TinyGo</a> å´ã® <a href="https://github.com/tinygo-org/tinygo/pull/1691" title="Upgrade WASI version to wasi_snapshot_preview1 by fgsch Â· Pull Request #1691 Â· tinygo-org/tinygo">PR</a> ã¯å—ç†ã•ã‚Œã¦ãƒãƒ¼ã‚¸ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ãªã®ã§ï¼Œæ¬¡ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã¯ <code>wasi_snapshot_preview1</code> ã§è¡Œã‘ã‚‹ã ã‚ã†ã€‚</p>
<h2>ã€ãŠã¾ã‘ã€‘ Node.js ã§ WASI ã‚’å‹•ã‹ã™</h2>
<p>Node.js ã¯ v13 ã‹ã‚‰ WASI ã«å¯¾å¿œã—ã¦ã„ã‚‹ã‚‰ã—ã„ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ npm i wasi
</span></span></code></pre></div><p>ã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’çµ„ã¿è¾¼ã‚ã°ä½¿ãˆã‚‹ã‚ˆã†ã ã€‚
ã§ï¼Œã“ã‚“ãªæ„Ÿã˜ã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="s1">&#39;use strict&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="p">{</span> <span class="nx">WASI</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;wasi&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">wasi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WASI</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">args</span><span class="o">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">argv</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">env</span><span class="o">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">preopens</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">importObject</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">wasi_unstable</span><span class="o">:</span> <span class="nx">wasi</span><span class="p">.</span><span class="nx">wasiImport</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="c1">// const importObject = { wasi_snapshot_preview1: wasi.wasiImport };
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="kr">async</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">try</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">wasm</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">WebAssembly</span><span class="p">.</span><span class="nx">compile</span><span class="p">(</span><span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s1">&#39;./hello.wasm&#39;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">instance</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">WebAssembly</span><span class="p">.</span><span class="nx">instantiate</span><span class="p">(</span><span class="nx">wasm</span><span class="p">,</span> <span class="nx">importObject</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">wasi</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="nx">instance</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">})();</span>
</span></span></code></pre></div><p>å‹•ã‹ã—ã¦ã¿ã‚‹ã¨</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ node --experimental-wasi-unstable-preview1 --experimental-wasm-bigint wasi.js
</span></span><span class="line"><span class="cl">(node:210549) ExperimentalWarning: WASI is an experimental feature. This feature could change at any time
</span></span><span class="line"><span class="cl">(Use `node --trace-warnings ...` to show where the warning was created)
</span></span><span class="line"><span class="cl">Hello, World!
</span></span></code></pre></div><p>ãŠãƒ¼ï¼Œå‹•ã„ãŸå‹•ã„ãŸã€‚
ã“ã‚Œã§ <a href="https://go.dev/">Go</a> ã®ã‚³ãƒ¼ãƒ‰ã‚’ WSAI çµŒç”±ã§ JavaScript ã‚³ãƒ¼ãƒ‰ã«åŸ‹ã‚è¾¼ã‚ã‚‹ã‚ã‘ã ã€‚</p>
<h2>ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯</h2>
<ul>
<li><a href="https://dev.to/sendilkumarn/wasi-webassembly-system-interface-with-wasmtime-4cec">WASI - WebAssembly System Interface with Wasmtime - DEV Community</a></li>
<li><a href="https://medium.com/nttlabs/wasi-6060b243ac90">ã‚³ãƒ³ãƒ†ãƒŠæŠ€è¡“ã‚’æ¨ã¦ã€ WASIã‚’è©¦ã™. ã“ã‚“ã«ã¡ã¯ã€NTTã®è—¤ç”°ã§ã™ã€‚ | by FUJITA Tomonori | nttlabs | Medium</a></li>
<li><a href="https://qiita.com/sago35/items/33e63ca5073f572ad69c">TinyGo ã®é–‹ç™ºç‰ˆã®ãƒ“ãƒ«ãƒ‰æ–¹æ³•ã¨ã€ãƒ“ãƒ«ãƒ‰ã›ãšã«é–‹ç™ºç‰ˆãƒã‚¤ãƒŠãƒªã‚’æ‰‹ã«å…¥ã‚Œã‚‹æ–¹æ³• - Qiita</a></li>
</ul>
<h2>å‚è€ƒå›³æ›¸</h2>
<div class="hreview">
  <div class="photo"><a href="https://www.amazon.co.jp/dp/B08T7D2LFR?tag=baldandersinf-22&amp;linkCode=ogi&amp;th=1&amp;psc=1"><img src="https://m.media-amazon.com/images/I/51hVE3r&#43;6XL._SL160_.jpg" width="113" alt="photo"></a></div>
  <dl>
    <dt class="item"><a class="fn url" href="https://www.amazon.co.jp/dp/B08T7D2LFR?tag=baldandersinf-22&amp;linkCode=ogi&amp;th=1&amp;psc=1">ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãƒ‡ã‚¶ã‚¤ãƒ³ 2021å¹´3æœˆå·</a></dt>
    <dd>è°·æœ¬ å¿ƒ (è‘—), æ°´å³¶ å®å¤ª (è‘—), å¢—ç”° äº¨ (è‘—), å±±æœ¬ æ‚ æ»‹ (è‘—), æŠ˜åŸ ãƒ¬ã‚ªãƒŠãƒ«ãƒ‰è³¢ (è‘—), ç±³ç”° æ­¦ (è‘—), æ¸…æ°´ æ´‹æ²» (è‘—), çµåŸ æµ© (è‘—), åˆ€æ ¹ è«’ (è‘—), å¤§ä¸² è‚‡ (è‘—), æ¾æœ¬ ç›´äºº (è‘—), ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ æœ¨æ‘(ä½œ) (è‘—), ã‚¨ã‚¯ã‚¹ãƒ‡ã‚¶ã‚¤ãƒ³ ninnzinn(ç”») (è‘—), ãã¤ãªã‚Šã‚‡ã†ã™ã‘ (è‘—), åºƒæœ¨ å¤§åœ° (è‘—), ä¸­å³¶ æ˜æ—¥é¦™ (è‘—), é‡‘è°· æ‹“å“‰ (è‘—), é«˜æ©‹ æ°¸æˆ (è‘—), å¹³å²¡ æ­£å¯¿ (è‘—), æ¢¶åŸ ç›´äºº(ç›£ä¿®) (è‘—), å¹³æ«› è²´ç«  (è‘—), æ˜Ÿå· çœŸéº» (è‘—), ã‘ã‚“ã¡ã‚‡ã‚“(å¤§æ§» å…¼è³‡) (è‘—), å¤§å¶‹ å¥å®¹ (è‘—), è·æ¥­ã€Œæˆ¸å€‰å½©ã€ (è‘—), mattn (è‘—), å°é‡ è¼ä¹Ÿ (è‘—), æ¿±ç”° åº·è²´ (è‘—), æ£®è‹¥ å’Œé›„ (è‘—), å¤å· èœæ‘˜ (è‘—), å˜‰å±± é™½ä¸€ (è‘—), å¹³é‡ å°šå¿— (è‘—), æ‰å±± è²´ç«  (è‘—), Software Designç·¨é›†éƒ¨ (ç·¨é›†)</dd>
    <dd>æŠ€è¡“è©•è«–ç¤¾ 2021-02-18 (Release 2021-02-18)</dd>
    <dd>é›‘èªŒ</dd>
    <dd>B08T7D2LFR (ASIN), 4910058270316 (EAN)</dd>
    <dd>è©•ä¾¡<abbr class="rating fa-sm" title="3">&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="far fa-star"></i>&nbsp;<i class="far fa-star"></i></abbr></dd>
  </dl>
  <p class="description">ç¬¬2ç‰¹é›†ãŒã€ŒWebAssembly å…¥é–€ã€è¿‘å¹´ã®å‹•å‘ã‚’æŠŠæ¡ã™ã‚‹ã«ã¯ä¸åº¦ã„ã„ã ã‚ã†ã€‚</p>
  <p class="powered-by">reviewed by <a href='#maker' class='reviewer'>Spiegel</a> on <abbr class="dtreviewed" title="2021-03-21">2021-03-21</abbr> (powered by <a href="https://affiliate.amazon.co.jp/assoc_credentials/home">PA-APIv5</a>)</p>
</div> <!-- ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãƒ‡ã‚¶ã‚¤ãƒ³ 2021å¹´3æœˆå· -->
<div class="hreview">
  <div class="photo"><a href="https://www.amazon.co.jp/dp/4621300253?tag=baldandersinf-22&amp;linkCode=ogi&amp;th=1&amp;psc=1"><img src="https://m.media-amazon.com/images/I/41meaSLNFfL._SL160_.jpg" width="122" alt="photo"></a></div>
  <dl>
    <dt class="item"><a class="fn url" href="https://www.amazon.co.jp/dp/4621300253?tag=baldandersinf-22&amp;linkCode=ogi&amp;th=1&amp;psc=1">ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªGo (ADDISON-WESLEY PROFESSIONAL COMPUTING SERIES)</a></dt>
    <dd>Alan A.A. Donovan (è‘—), Brian W. Kernighan (è‘—), æŸ´ç”° èŠ³æ¨¹ (ç¿»è¨³)</dd>
    <dd>ä¸¸å–„å‡ºç‰ˆ 2016-06-20</dd>
    <dd>å˜è¡Œæœ¬ï¼ˆã‚½ãƒ•ãƒˆã‚«ãƒãƒ¼ï¼‰</dd>
    <dd>4621300253 (ASIN), 9784621300251 (EAN), 4621300253 (ISBN)</dd>
    <dd>è©•ä¾¡<abbr class="rating fa-sm" title="5">&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="fas fa-star"></i></abbr></dd>
  </dl>
  <p class="description">è‘—è€…ã®ã²ã¨ã‚Šã¯ï¼ˆã‚ã®ã€Œãƒã‚¤ãƒ–ãƒ«ã€ã¨ã‚‚å‘¼ã°ã‚Œã‚‹ï¼‰é€šç§° â€œK&amp;Râ€ ã® K ã®ã»ã†ã§ã‚ã‚‹ã€‚ã“ã®æœ¬ã¯ Go è¨€èªã®æ•™ç§‘æ›¸ã¨è¨€ã£ã¦ã‚‚ã„ã„ã ã‚ã†ã€‚ã¨æ€ã£ãŸã‚‰çµ¶ç‰ˆçŠ¶æ…‹ã‚‰ã—ã„ï¼ˆ2025-01 ç¾åœ¨ï¼‰ã€‚å¾©åˆŠã‚’æœ›ã‚€ï¼</p>
  <p class="powered-by">reviewed by <a href='#maker' class='reviewer'>Spiegel</a> on <abbr class="dtreviewed" title="2016-07-13">2016-07-13</abbr> (powered by <a href="https://affiliate.amazon.co.jp/assoc_credentials/home">PA-APIv5</a>)</p>
</div> <!-- ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªGo -->
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>â€œWrite Once, Run Anywhereâ€ ã¯åˆæœŸã® Java ã®ã‚­ãƒ£ãƒƒãƒãƒ•ãƒ¬ãƒ¼ã‚ºã ã£ãŸã€‚å½“æ™‚ã¯ UNIX æ©Ÿã®ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢éäº’æ›ã®å•é¡ŒãŒé…·ãã¦ï¼Œãªã‚“ã¨ã‹ãƒã‚¤ãƒŠãƒªäº’æ›ã‚’ç¢ºä¿ã™ã‚‹æ–¹æ³•ãŒãªã„ã‹ã¿ã‚“ãªé ­ã‚’æ‚©ã¾ã›ã¦ã„ãŸã€‚ãã“ã«ç™»å ´ã—ãŸã®ãŒ Sun Microsystems ã® Java ã ã£ãŸã‚ã‘ã€‚ã§ã‚‚å®Ÿéš›ã«ã¯ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ é–“ã®å·®ç•°ãŒå¾®å¦™ã«æ®‹ã£ã¦ã—ã¾ã„ï¼Œã‚€ã—ã‚ â€œWrite Once, Debug Everywhereâ€ ãªã©ã¨æ¶æ„ã•ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã£ãŸã€‚ãã‚Œã§ã‚‚ Virtual Machine ä¸Šã§æ¨™æº–åŒ–ã•ã‚ŒãŸãƒã‚¤ãƒˆã‚³ãƒ¼ãƒ‰ã‚’é§†å‹•ã•ã›ã‚‹ã¨ã„ã†ã‚¢ã‚¤ãƒ‡ã‚¢ã¯ç§€é€¸ã ã£ãŸã®ã§ Java ä»¥å¤–ã®å‡¦ç†ç³»ã§ã‚‚å¿œç”¨ã•ã‚Œï¼Œç‰¹ã«çµ„ã¿è¾¼ã¿ç”¨é€”ã§ã¯é‡å®ã•ã‚Œã¦ã„ã‚‹ã€‚&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

</section>

</article>
</main>
<nav class="page-nav">
<div class="prev-page">&laquo; <a href="/golang/webassembly-with-tinygo/">TinyGo ã§ WebAssembly</a></div>
<div class="next-page"><a href="/golang/token-bucket/">Go ã«ã‚ˆã‚‹ Token Bucket å®Ÿè£…</a> &raquo;</div>
</nav>

<aside class="feedback" id='feedback'>
<h1>Feedback</h1>
<p>GitHub ã«<a href="https://github.com/spiegel-im-spiegel/github-pages-env/discussions">ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ç”¨ã®ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ãƒšãƒ¼ã‚¸</a>ã‚’ç”¨æ„ã—ã¾ã—ãŸã€‚
æ›¸ãè¾¼ã¿ã«ã¯ GitHub ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒå¿…è¦ã§ã™ãŒï¼ŒãŠæ°—è»½ã«ã”åˆ©ç”¨ãã ã•ã„ã€‚</p>
<p>ä»–ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯æ‰‹æ®µã¨ã—ã¦ Mastodon ãªã©ã® SNS ã‚„é›»å­ãƒ¡ãƒ¼ãƒ«ã‚‚åˆ©ç”¨ã§ãã¾ã™ã€‚é›»å­ãƒ¡ãƒ¼ãƒ«ã‚’åˆ©ç”¨ã™ã‚‹éš›ã®å…¬é–‹éµã¯<a href="https://baldanders.info/profile/">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</a>ã‹ã‚‰å–å¾—ã§ãã¾ã™ã€‚</p>
</aside>
<footer>


<div class="userinfo">
	<div class="userinfo-avater">
		<a href="https://baldanders.info/profile/"><img src="https://text.baldanders.info/images/avatar.jpg" width="48" height="48" alt="avatar" id="logo"></a>
	</div>
	<div class="userinfo-info" id="maker">
		Text by <a href="https://baldanders.info/profile/" rel="cc:attributionURL" property="cc:attributionName">Spiegel</a>
		in <time property='dc:dateCopyrighted'>2021-03-21</time> (revised in 2024-05-11)
		<a rel='cc:license' href="https://creativecommons.org/licenses/by-sa/4.0/"><i class="fab fa-creative-commons"></i>&nbsp;<i class="fab fa-creative-commons-by"></i>&nbsp;<i class="fab fa-creative-commons-sa"></i></a>
		<ul class="social"><li><a rel="me" href="https://github.com/spiegel-im-spiegel"><span class="github-color"><abbr title="GitHub"><i class="fab fa-github"></i></abbr></span></a></li><li><a rel="me" href="https://www.flickr.com/photos/spiegel/"><span class="flickr-color"><abbr title="Flickr"><i class="fab fa-flickr"></i></abbr></span></a></li><li><a rel="me" href="https://goark.fedicity.net/@spiegel"><span class="mastodon-color"><abbr title="Mastodon"><i class="fa-brands fa-mastodon"></i></abbr></span></a></li><li><a rel="me" href="https://bsky.app/profile/baldanders.info"><span class="bluesky-color"><abbr title="Bluesky"><i class="fa-brands fa-bluesky"></i></abbr></span></a></li><li><a rel="me" href="https://www.strava.com/athletes/122077389"><span class="strava-color"><abbr title="Strava"><i class="fa-brands fa-strava"></i></abbr></span></a></li><li><a rel="me" href="https://x.com/spiegel_2007"><span class="x-twitter-color"><abbr title="X (Twitter)"><i class="fab fa-x-twitter"></i></abbr></span></a></li></ul>
	</div>
</div>

<nav>
<ul class='cloud center'>
<li><a href='/about-feeds/'>Feeds</a></li>
<li><a href='/reviews/'>Reviews</a></li>
<li><a href='/site-policy/'>Policy</a></li>
<li><a href='https://github.com/spiegel-im-spiegel/spiegel-im-spiegel.github.io'>Repository</a></li>
<li><a href='https://validator.w3.org/nu/?doc=https%3a%2f%2ftext.baldanders.info%2fgolang%2fwasi-with-tinygo%2f&amp;showoutline=yes'>Debug</a></li>
</ul>
<ul class='cloud center'>
<li><a href='https://baldanders.info/'>Home</a></li>
<li><a href='https://photo.baldanders.info/'>Photos</a></li>
<li><a href='https://slide.baldanders.info/'>Slide</a></li>
<li><a href='https://zenn.dev/spiegel'>Zenn</a></li>
</ul>
<ul class='cloud center'>
<li>Powered by <a href='https://gohugo.io/'>Hugo 0.152.0</a> and <a href="https://github.com/spiegel-im-spiegel/hugo-theme-baldanders-info
">Theme of Baldanders.info</a>.</li>
</ul>
</nav>
</footer>
</div>

</body>
</html>
