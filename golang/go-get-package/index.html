<!DOCTYPE html>
<html lang="ja">
<head prefix="og: http://ogp.me/ns#">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Hugo 0.156.0">
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="https://text.baldanders.info/golang/go-get-package/">
<script defer src="/fa/js/all.min.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=BIZ+UDGothic:wght@400;700&family=BIZ+UDMincho:wght@400;700&family=Intel+One+Mono:wght@400;700&family=Noto+Color+Emoji&family=Noto+Sans:wght@400;700&family=Noto+Serif+Hentaigana:wght@400;700&family=Noto+Serif:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/css/local-font.css" type='text/css'>
<link rel="stylesheet" href="/css/baldanders-info-dark.css" type='text/css'>

<link rel="alternate" href="https://text.baldanders.info/index.xml" type="application/rss+xml" title="text.Baldanders.info">
<link rel="alternate" href="https://text.baldanders.info/index.json" type="application/json" title="text.Baldanders.info">
<meta name="google-site-verification" content="jTjBCslPtf8gwVatiY-GDgGv7pV5csa8aUOw1MRPUD4">
<link rel="me" href="https://fedibird.com/@spiegel">
<title>go get コマンドでパッケージを管理する [text.Baldanders.info]</title>
<meta property="og:title" content="go get コマンドでパッケージを管理する">
<meta name="description" content="今回は Go 言語のパッケージ管理について。">
<meta property="og:description" content="今回は Go 言語のパッケージ管理について。">
<meta property="og:image" content="https://text.baldanders.info/images/attention/go-logo_blue.png">
<meta name="author" content="Spiegel">


<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@spiegel_2007">
<meta name="twitter:creator" content="@spiegel_2007">
<link rel="me" href="https://goark.fedicity.net/@spiegel">
<meta name="keywords" content="golang, package, engineering">
<link rel='prev' href='https://text.baldanders.info/golang/hello/' title='インストールから Hello World まで'>
<link rel='next' href='https://text.baldanders.info/golang/search-prime-numbers/' title='素数探索アルゴリズムで遊ぶ'>

<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "WebSite",
	"@id": "https://text.baldanders.info/",
	"inLanguage": "ja",
	"name": "text.Baldanders.info",
    "url": "https://text.baldanders.info/",
	"publisher": {
		"@id": "https://text.baldanders.info/#org"
	},
	"author": {
		"@id": "https://text.baldanders.info/#maker"
	},
	"image": "https://text.baldanders.info/images/attention/site.jpg",
	"description": "帰ってきた「しっぽのさきっちょ」"
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Organization",
	"@id": "https://text.baldanders.info/#org",
	"name": "Spiegel",
	"logo": {
		"@type": "ImageObject",
		"@id": "https://text.baldanders.info/#logo",
		"url": "https://text.baldanders.info/images/avatar.jpg"
	}
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Person",
	"@id": "https://text.baldanders.info/#maker",
	"name": "Spiegel",
	"url": "https://baldanders.info/profile/",
	"image": "https://text.baldanders.info/images/avatar.jpg"
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Blog",
	"@id": "https://text.baldanders.info/golang/",
	"url": "https://text.baldanders.info/golang/",
	"inLanguage": "ja",
	"name": "プログラミング言語 Go",
	"description": "Go 言語プログラミングに関する話題。",
	"image": "https://text.baldanders.info/images/attention/go-logo_blue.png",
	"publisher": {
		"@id": "https://text.baldanders.info/#org"
	},
	"author": {
		"@id": "https://text.baldanders.info/#maker"
	}
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "BreadcrumbList",
	"@id": "https://text.baldanders.info/golang/go-get-package/#breadcrumb-list",
	"itemListElement": [
		{
			"@type": "ListItem",
			"position": 1,
			"item": {
				"@id": "https://text.baldanders.info/"
			}
		},
		{
			"@type": "ListItem",
			"position": 2,
			"item": {
				"@id": "https://text.baldanders.info/golang/"
			}
		}
	]
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "BlogPosting",
	"@id": "https://text.baldanders.info/golang/go-get-package/",
	"url": "https://text.baldanders.info/golang/go-get-package/",
	"mainEntityOfPage": "https://text.baldanders.info/golang/go-get-package/",
	"inLanguage": "ja",
	"name": "go get コマンドでパッケージを管理する",
	"description": "今回は Go 言語のパッケージ管理について。",
	"headline": "今回は Go 言語のパッケージ管理について。",
	"keywords": "golang, package, engineering",
	"image": "https://text.baldanders.info/images/attention/go-logo_blue.png",
	"datePublished": "2015-09-13T13:16:34+00:00",
	"dateModified": "2024-05-10T22:02:32+00:00",
	"publisher": {
		"@id": "https://text.baldanders.info/#org"
	},
	"author": {
		"@id": "https://text.baldanders.info/#maker"
	},
	"license": "https://creativecommons.org/licenses/by-sa/4.0/"
}
</script>
</head>
<body>

<div id='container'>

<main>
<nav class="breadcrumb">
<a href="https://text.baldanders.info/">text.Baldanders.info</a> &raquo; <a href="/golang/">プログラミング言語 Go</a>
</nav>
<article>
<h1>go get コマンドでパッケージを管理する</h1>
<nav class="tags">
	<div><a href='/tags/'>Tags</a>: #<a href="/tags/engineering/">engineering</a> #<a href="/tags/golang/">golang</a> #<a href="/tags/package/">package</a></div>
	<div class="cloud">
		<span class="share-color" title="Share this entry"><i class="fa-solid fa-share-from-square"></i></span>&nbsp;:
		&nbsp;<a href="https://getpocket.com/edit?url=https%3a%2f%2ftext.baldanders.info%2fgolang%2fgo-get-package%2f&amp;title=go%20get%20%e3%82%b3%e3%83%9e%e3%83%b3%e3%83%89%e3%81%a7%e3%83%91%e3%83%83%e3%82%b1%e3%83%bc%e3%82%b8%e3%82%92%e7%ae%a1%e7%90%86%e3%81%99%e3%82%8b" target="_blank"><span class="pocket-color"><abbr title="Share Pocket"><i class="fab fa-get-pocket" aria-hidden="true"></i></abbr></span></a>
		&nbsp;<a href="http://www.facebook.com/share.php?u=https%3a%2f%2ftext.baldanders.info%2fgolang%2fgo-get-package%2f" target="_blank"><span class="facebook-color"><abbr title="Share facebook"><i class="fab fa-square-facebook" aria-hidden="true"></i></abbr></span></a>
		&nbsp;<a href="http://x.com/intent/post?text=go%20get%20%e3%82%b3%e3%83%9e%e3%83%b3%e3%83%89%e3%81%a7%e3%83%91%e3%83%83%e3%82%b1%e3%83%bc%e3%82%b8%e3%82%92%e7%ae%a1%e7%90%86%e3%81%99%e3%82%8b+by+@spiegel_2007&amp;url=https%3a%2f%2ftext.baldanders.info%2fgolang%2fgo-get-package%2f" target="_blank"><span class="x-twitter-color"><abbr title="Share Twitter"><i class="fa-brands fa-square-x-twitter" aria-hidden="true"></i></abbr></span></a>
		&nbsp;<a href="https://donshare.net/share.html?text=go%20get%20%e3%82%b3%e3%83%9e%e3%83%b3%e3%83%89%e3%81%a7%e3%83%91%e3%83%83%e3%82%b1%e3%83%bc%e3%82%b8%e3%82%92%e7%ae%a1%e7%90%86%e3%81%99%e3%82%8b+by+@spiegel%40goark.fedicity.net%20+https%3a%2f%2ftext.baldanders.info%2fgolang%2fgo-get-package%2f" target="_blank"><span class="mastodon-color"><abbr title="Share Mastodon"><i class="fa-brands fa-mastodon" aria-hidden="true"></i></abbr></span></a>
	</div>
</nav>
<nav class="history">History in
  <a href="https://github.com/spiegel-im-spiegel/spiegel-im-spiegel.github.io/commits/master/golang/go-get-package/index.html">GitHub Page</a>
</nav>

<section>
<p>（初出： <a href="http://qiita.com/spiegel-im-spiegel/items/a52a47942fd3946bb583">はじめての Go 言語 (on Windows) その3 - Qiita</a>）</p>
<div class="box"><p>【追記 2021-02-25】 バージョン 1.11 からパッケージの管理は「モジュール」をベースにしたものに移行しつつある。
最新状況については以下の Zenn 記事を参照のこと。</p>
<ul>
<li><a href="https://zenn.dev/spiegel/articles/20210223-go-module-aware-mode">Go のモジュール管理【バージョン 1.16 改訂版】</a></li>
</ul></div>
<h2 id="package">Go のパッケージ</h2>
<p><a href="/golang/hello/" title="インストールから Hello World まで">前回</a>の最後に載せた hello.go をもう一度を挙げてみる。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nx">main</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="kn">import</span><span class="w"> </span><span class="s">&#34;fmt&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="kd">func</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Hello World!&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>最初の宣言文 <code>package main</code> はこのファイルが <code>main</code> パッケージに属することを示している。
<a href="https://golang.org/" title="The Go Programming Language">Go 言語</a>では <code>main</code> パッケージにある <code>main</code> 関数がプログラム実行時の起点となる。
C 言語などと異なり， <a href="https://golang.org/" title="The Go Programming Language">Go 言語</a>では <code>main</code> 関数に渡す引数はなく  <code>main</code> 関数が返す返り値もない<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>。</p>
<p><code>import &quot;fmt&quot;</code> はパッケージ <a href="https://golang.org/pkg/fmt/" title="fmt - The Go Programming Language"><code>fmt</code></a> を呼び出すもので，ソースファイルの最初の方でまとめて呼び出す。
複数のパッケージを呼び出す場合は以下のように</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">import</span><span class="w"> </span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s">&#34;flag&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s">&#34;fmt&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="p">)</span><span class="w">
</span></span></span></code></pre></div><p>などと <code>( )</code> で囲む。
ちなみに，パッケージ <a href="https://golang.org/pkg/flag/" title="flag - The Go Programming Language"><code>flag</code></a> はコマンドライン引数を処理するためのパッケージである。</p>
<p>パッケージの関数等を使う際は <code>fmt.Println</code> のようにパッケージ名を関数等の名前の前に付ける。</p>
<h3 id="gofmt">gofmt</h3>
<p>余談だが <a href="https://golang.org/" title="The Go Programming Language">Go 言語</a>ではソースコードを整形するための <a href="https://golang.org/cmd/gofmt/" title="gofmt - The Go Programming Language"><code>gofmt</code></a> コマンドが存在する。
このコマンドはコンパイラからも <code>go fmt</code> で呼び出すことができる。</p>
<pre tabindex="0"><code>C:&gt;go help fmt
usage: go fmt [-n] [-x] [packages]

Fmt runs the command &#39;gofmt -l -w&#39; on the packages named
by the import paths.  It prints the names of the files that are modified.

For more about gofmt, see &#39;go doc cmd/gofmt&#39;.
For more about specifying packages, see &#39;go help packages&#39;.

The -n flag prints commands that would be executed.
The -x flag prints commands as they are executed.

To run gofmt with specific options, run gofmt itself.

See also: go fix, go vet.
</code></pre><p><a href="https://golang.org/" title="The Go Programming Language">Go 言語</a>は比較的冗長な表現を許容している。
こういうタイプの言語にはとっつきやすい利点はあるが，記述形式を巡って宗教論争が起きることも多い（あるいは<a href="https://baldanders.info/blog/000195/">品質を落とすコーディングというのも存在する</a>）。
そこで <code>gofmt</code> コマンドを使ってある程度記述形式を統一することで，この手の混乱を避ける狙いがある。</p>
<h2 id="external">外部パッケージ</h2>
<p>パッケージの import は <a href="https://golang.org/pkg/fmt/" title="fmt - The Go Programming Language"><code>fmt</code></a> のような標準ライブラリの他に任意のライブラリをパッケージとして含めることができる。
またインターネット上の GitHub などにある repository からパッケージを取得することもできる。
外部パッケージを取り込むために <code>go get</code> コマンドが用意されている。</p>
<pre tabindex="0"><code>C:&gt;go help get
usage: go get [-d] [-f] [-fix] [-insecure] [-t] [-u] [build flags] [packages]

Get downloads and installs the packages named by the import paths,
along with their dependencies.

The -d flag instructs get to stop after downloading the packages; that is,
it instructs get not to install the packages.

The -f flag, valid only when -u is set, forces get -u not to verify that
each package has been checked out from the source control repository
implied by its import path. This can be useful if the source is a local fork
of the original.

The -fix flag instructs get to run the fix tool on the downloaded packages
before resolving dependencies or building the code.

The -insecure flag permits fetching from repositories and resolving
custom domains using insecure schemes such as HTTP. Use with caution.

The -t flag instructs get to also download the packages required to build
the tests for the specified packages.

The -u flag instructs get to use the network to update the named packages
and their dependencies.  By default, get uses the network to check out
missing packages but does not use it to look for updates to existing packages.

Get also accepts build flags to control the installation. See &#39;go help build&#39;.

When checking out or updating a package, get looks for a branch or tag
that matches the locally installed version of Go. The most important
rule is that if the local installation is running version &#34;go1&#34;, get
searches for a branch or tag named &#34;go1&#34;. If no such version exists it
retrieves the most recent version of the package.

If the vendoring experiment is enabled (see &#39;go help gopath&#39;),
then when go get checks out or updates a Git repository,
it also updates any git submodules referenced by the repository.

For more about specifying packages, see &#39;go help packages&#39;.

For more about how &#39;go get&#39; finds source code to
download, see &#39;go help importpath&#39;.

See also: go build, go install, go clean.
</code></pre><p>たとえば <a href="https://github.com/mitchellh/cli">https://github.com/mitchellh/cli</a> にあるパッケージを取得する場合には以下のようにする。</p>
<pre tabindex="0"><code>C:&gt;go get -v github.com/mitchellh/cli
github.com/mitchellh/cli (download)
Fetching https://golang.org/x/crypto/ssh/terminal?go-get=1
Parsing meta tags from https://golang.org/x/crypto/ssh/terminal?go-get=1 (status code 200)
get &#34;golang.org/x/crypto/ssh/terminal&#34;: found meta tag main.metaImport{Prefix:&#34;golang.org/x/crypto&#34;, VCS:&#34;git&#34;, RepoRoot:&#34;https://go.googlesource.com/crypto&#34;} at https://golang.org/x/crypto/ssh/terminal?go-get=1
get &#34;golang.org/x/crypto/ssh/terminal&#34;: verifying non-authoritative meta tag
Fetching https://golang.org/x/crypto?go-get=1
Parsing meta tags from https://golang.org/x/crypto?go-get=1 (status code 200)
golang.org/x/crypto (download)
golang.org/x/crypto/ssh/terminal
github.com/mitchellh/cli
</code></pre><p>もし取得するパッケージが別のパッケージを呼び出している場合でも，依存関係ごとまとめて取得できる。
取得したパッケージをソースコード上で呼び出すには</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">import</span><span class="w"> </span><span class="s">&#34;github.com/mitchellh/cli&#34;</span><span class="w">
</span></span></span></code></pre></div><p>と記述する。
URL（の scheme を除いた部分）をそのまま記述するのがポイントである。</p>
<p><a href="https://golang.org/" title="The Go Programming Language">Go 言語</a>では， <code>import</code> で指定するパッケージの path と repository の URL がそのまま連動していて， <code>go get</code> コマンドでパッケージ内の依存関係を解決する際にもパッケージの path を URL と解釈してパッケージを取得しようとする。</p>
<p>実際にコード上でパッケージを使用する際はパッケージの path のベース名がコード上のパッケージ名になる。
<code>github.com/mitchellh/cli</code> パッケージなら <code>cli.Run()</code> のように記述する。
このパッケージ名が被る場合などは</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">import</span><span class="w"> </span><span class="nx">mcli</span><span class="w"> </span><span class="s">&#34;github.com/mitchellh/cli&#34;</span><span class="w">
</span></span></span></code></pre></div><p>などとする。</p>
<h2>GOPATH 環境変数</h2>
<p><code>go get</code> コマンドでは，環境変数 <code>GOPATH</code> に取得したソースコードやコンパイル後のモジュールを格納する。
<code>GOPATH</code> 環境変数がないと以下のように怒られる。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">C:&gt;go get -v github.com/mitchellh/cli
</span></span><span class="line"><span class="cl">package github.com/mitchellh/cli: cannot download, <span class="nv">$GOPATH</span> not set. For more details see: go <span class="nb">help</span> gopath
</span></span></code></pre></div><p>と怒られる。
<code>GOPATH</code> の詳しい解説は以下のとおり。</p>
<pre tabindex="0"><code>C:&gt;go help gopath
The Go path is used to resolve import statements.
It is implemented by and documented in the go/build package.

The GOPATH environment variable lists places to look for Go code.
On Unix, the value is a colon-separated string.
On Windows, the value is a semicolon-separated string.
On Plan 9, the value is a list.

GOPATH must be set to get, build and install packages outside the
standard Go tree.

Each directory listed in GOPATH must have a prescribed structure:

The src directory holds source code.  The path below src
determines the import path or executable name.

The pkg directory holds installed package objects.
As in the Go tree, each target operating system and
architecture pair has its own subdirectory of pkg
(pkg/GOOS_GOARCH).

If DIR is a directory listed in the GOPATH, a package with
source in DIR/src/foo/bar can be imported as &#34;foo/bar&#34; and
has its compiled form installed to &#34;DIR/pkg/GOOS_GOARCH/foo/bar.a&#34;.

The bin directory holds compiled commands.
Each command is named for its source directory, but only
the final element, not the entire path.  That is, the
command with source in DIR/src/foo/quux is installed into
DIR/bin/quux, not DIR/bin/foo/quux.  The &#34;foo/&#34; prefix is stripped
so that you can add DIR/bin to your PATH to get at the
installed commands.  If the GOBIN environment variable is
set, commands are installed to the directory it names instead
of DIR/bin.

Here&#39;s an example directory layout:

    GOPATH=/home/user/gocode

    /home/user/gocode/
        src/
            foo/
                bar/               (go code in package bar)
                    x.go
                quux/              (go code in package main)
                    y.go
        bin/
            quux                   (installed command)
        pkg/
            linux_amd64/
                foo/
                    bar.a          (installed package object)

Go searches each directory listed in GOPATH to find source code,
but new packages are always downloaded into the first directory
in the list.

See https://golang.org/doc/code.html for an example.

Internal Directories

Code in or below a directory named &#34;internal&#34; is importable only
by code in the directory tree rooted at the parent of &#34;internal&#34;.
Here&#39;s an extended version of the directory layout above:

    /home/user/gocode/
        src/
            crash/
                bang/              (go code in package bang)
                    b.go
            foo/                   (go code in package foo)
                f.go
                bar/               (go code in package bar)
                    x.go
                internal/
                    baz/           (go code in package baz)
                        z.go
                quux/              (go code in package main)
                    y.go


The code in z.go is imported as &#34;foo/internal/baz&#34;, but that
import statement can only appear in source files in the subtree
rooted at foo. The source files foo/f.go, foo/bar/x.go, and
foo/quux/y.go can all import &#34;foo/internal/baz&#34;, but the source file
crash/bang/b.go cannot.

See https://golang.org/s/go14internal for details.

Vendor Directories

Go 1.5 includes experimental support for using local copies
of external dependencies to satisfy imports of those dependencies,
often referred to as vendoring. Setting the environment variable
GO15VENDOREXPERIMENT=1 enables that experimental support.

When the vendor experiment is enabled,
code below a directory named &#34;vendor&#34; is importable only
by code in the directory tree rooted at the parent of &#34;vendor&#34;,
and only using an import path that omits the prefix up to and
including the vendor element.

Here&#39;s the example from the previous section,
but with the &#34;internal&#34; directory renamed to &#34;vendor&#34;
and a new foo/vendor/crash/bang directory added:

    /home/user/gocode/
        src/
            crash/
                bang/              (go code in package bang)
                    b.go
            foo/                   (go code in package foo)
                f.go
                bar/               (go code in package bar)
                    x.go
                vendor/
                    crash/
                        bang/      (go code in package bang)
                            b.go
                    baz/           (go code in package baz)
                        z.go
                quux/              (go code in package main)
                    y.go

The same visibility rules apply as for internal, but the code
in z.go is imported as &#34;baz&#34;, not as &#34;foo/vendor/baz&#34;.

Code in vendor directories deeper in the source tree shadows
code in higher directories. Within the subtree rooted at foo, an import
of &#34;crash/bang&#34; resolves to &#34;foo/vendor/crash/bang&#34;, not the
top-level &#34;crash/bang&#34;.

Code in vendor directories is not subject to import path
checking (see &#39;go help importpath&#39;).

When the vendor experiment is enabled, &#39;go get&#39; checks out
submodules when checking out or updating a git repository
(see &#39;go help get&#39;).

The vendoring semantics are an experiment, and they may change
in future releases. Once settled, they will be on by default.

See https://golang.org/s/go15vendor for details.
</code></pre><p>（<a href="https://golang.org/" title="The Go Programming Language">Go 言語</a>のバージョン 1.5 から Internal Packages や Vendoring の機能が追加された。
これについては「<a href="/golang/gopath-pollution/">GOPATH 汚染問題</a>」および「<a href="/golang/internal-packages/">パッケージ外部からの呼び出しを禁止する Internal Packages</a>」で解説している）</p>
<p>また <code>go get</code> コマンドでは内部でソースコード管理ツールを呼び出す。
呼び出される可能性のあるツールは以下のとおり。</p>
<ul>
<li>svn : <a href="http://subversion.apache.org/" title="Apache Subversion">Subversion</a></li>
<li>hg : <a href="http://mercurial.selenic.com/" title="Mercurial SCM">Mercurial</a></li>
<li>git : <a href="http://git-scm.com/" title="Git">Git</a></li>
<li>bzr : <a href="http://bazaar.canonical.com/" title="Bazaar">Bazaar</a></li>
</ul>
<p>たとえば get コマンド実行時に</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">C:&gt;go get -v github.com/spf13/hugo
</span></span><span class="line"><span class="cl">go: missing Mercurial command. See http://golang.org/s/gogetcmd
</span></span><span class="line"><span class="cl">package github.com/spf13/hugo/commands
</span></span><span class="line"><span class="cl">        imports bitbucket.org/pkg/inflect: exec: <span class="s2">&#34;hg&#34;</span>: executable file not found in %PATH%
</span></span></code></pre></div><p>などとエラーが出たらいずれかのバージョン管理ツール（この場合は <a href="http://mercurial.selenic.com/" title="Mercurial SCM">Mercurial</a>）がないことになる。
必要に応じてインストールしておくとよい。</p>
<h3>Proxy 設定</h3>
<p>GitHub や Bitbucket 等のよく知られた repository から取得する場合は直に上記のコマンドを起動するが，それ以外のサイトでは HTTP/HTTPS でいったん fetch してから，どのコマンドで取得するか判断してるようだ。
このとき Firewall/Proxy で阻まれている環境ではエラーになってしまう。</p>
<p>この場合は Proxy の設定が必要。
設定には <code>http_proxy</code> および <code>https_proxy</code> 環境変数をセットする。たとえばこんな感じ。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">SET <span class="nv">http_proxy</span><span class="o">=</span>http://username:password@proxy.exsample.com:8080/
</span></span><span class="line"><span class="cl">SET <span class="nv">https_proxy</span><span class="o">=</span>%http_proxy%
</span></span></code></pre></div><h2>go get コマンドでツールをインストールする</h2>
<p><code>go get</code> ではライブラリだけではなく，ツールそのものもパッケージとしてダウンロード→インストールできる。</p>
<p>たとえば静的サイト・ジェネレータの <a href="https://gohugo.io/" title="The world’s fastest framework for building websites | Hugo">Hugo</a> <sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup> は以下のように <code>go get</code> コマンド一発で依存関係ごとパッケージを取得しインストールまで自動で行う。</p>
<pre tabindex="0"><code>C:\workspace&gt;mkdir hugo

C:\workspace&gt;cd hugo

C:\workspace\hugo&gt;SET GOPATH=C:\workspace\hugo

C:\workspace\hugo&gt;go get -v github.com/spf13/hugo
github.com/spf13/hugo (download)
github.com/kardianos/osext (download)
github.com/spf13/afero (download)
github.com/spf13/cast (download)
github.com/spf13/jwalterweatherman (download)
github.com/spf13/cobra (download)
github.com/cpuguy83/go-md2man (download)
github.com/russross/blackfriday (download)
github.com/shurcooL/sanitized_anchor_name (download)
github.com/inconshreveable/mousetrap (download)
github.com/spf13/pflag (download)
github.com/spf13/fsync (download)
github.com/PuerkitoBio/purell (download)
github.com/opennota/urlesc (download)
github.com/miekg/mmark (download)
github.com/BurntSushi/toml (download)
Fetching https://gopkg.in/yaml.v2?go-get=1
Parsing meta tags from https://gopkg.in/yaml.v2?go-get=1 (status code 200)
get &#34;gopkg.in/yaml.v2&#34;: found meta tag main.metaImport{Prefix:&#34;gopkg.in/yaml.v2&#34;, VCS:&#34;git&#34;, RepoRoot:&#34;https://gopkg.in/yaml.v2&#34;} at https://gopkg.in/yaml.v2?go-get=1
gopkg.in/yaml.v2 (download)
github.com/spf13/viper (download)
github.com/kr/pretty (download)
github.com/kr/text (download)
github.com/magiconair/properties (download)
github.com/mitchellh/mapstructure (download)
Fetching https://golang.org/x/text/transform?go-get=1
Parsing meta tags from https://golang.org/x/text/transform?go-get=1 (status code 200)
get &#34;golang.org/x/text/transform&#34;: found meta tag main.metaImport{Prefix:&#34;golang.org/x/text&#34;, VCS:&#34;git&#34;, RepoRoot:&#34;https://go.googlesource.com/text&#34;} at https://golang.org/x/text/transform?go-get=1
get &#34;golang.org/x/text/transform&#34;: verifying non-authoritative meta tag
Fetching https://golang.org/x/text?go-get=1
Parsing meta tags from https://golang.org/x/text?go-get=1 (status code 200)
golang.org/x/text (download)
Fetching https://golang.org/x/text/unicode/norm?go-get=1
Parsing meta tags from https://golang.org/x/text/unicode/norm?go-get=1 (status code 200)
get &#34;golang.org/x/text/unicode/norm&#34;: found meta tag main.metaImport{Prefix:&#34;golang.org/x/text&#34;, VCS:&#34;git&#34;, RepoRoot:&#34;https://go.googlesource.com/text&#34;} at https://golang.org/x/text/unicode/norm?go-get=1
get &#34;golang.org/x/text/unicode/norm&#34;: verifying non-authoritative meta tag
bitbucket.org/pkg/inflect (download)
github.com/dchest/cssmin (download)
github.com/eknkc/amber (download)
github.com/yosssi/ace (download)
github.com/spf13/nitro (download)
github.com/gorilla/websocket (download)
Fetching https://gopkg.in/fsnotify.v1?go-get=1
Parsing meta tags from https://gopkg.in/fsnotify.v1?go-get=1 (status code 200)
get &#34;gopkg.in/fsnotify.v1&#34;: found meta tag main.metaImport{Prefix:&#34;gopkg.in/fsnotify.v1&#34;, VCS:&#34;git&#34;, RepoRoot:&#34;https://gopkg.in/fsnotify.v1&#34;} at https://gopkg.in/fsnotify.v1?go-get=1
gopkg.in/fsnotify.v1 (download)
github.com/shurcooL/sanitized_anchor_name
github.com/spf13/afero
github.com/inconshreveable/mousetrap
github.com/spf13/hugo/bufferpool
github.com/kr/text
github.com/kardianos/osext
github.com/spf13/jwalterweatherman
github.com/spf13/pflag
github.com/russross/blackfriday
github.com/opennota/urlesc
github.com/BurntSushi/toml
github.com/PuerkitoBio/purell
gopkg.in/yaml.v2
github.com/spf13/cast
github.com/kr/pretty
github.com/magiconair/properties
github.com/spf13/fsync
github.com/cpuguy83/go-md2man/md2man
github.com/spf13/hugo/hugofs
github.com/mitchellh/mapstructure
golang.org/x/text/transform
bitbucket.org/pkg/inflect
github.com/dchest/cssmin
github.com/miekg/mmark
github.com/eknkc/amber/parser
github.com/spf13/cobra
github.com/yosssi/ace
golang.org/x/text/unicode/norm
github.com/spf13/nitro
github.com/spf13/hugo/parser
github.com/spf13/viper
github.com/eknkc/amber
github.com/gorilla/websocket
github.com/spf13/hugo/utils
gopkg.in/fsnotify.v1
github.com/spf13/hugo/transform
github.com/spf13/hugo/watcher
github.com/spf13/hugo/livereload
github.com/spf13/hugo/helpers
github.com/spf13/hugo/source
github.com/spf13/hugo/target
github.com/spf13/hugo/tpl
github.com/spf13/hugo/hugolib
github.com/spf13/hugo/create
github.com/spf13/hugo/commands
github.com/spf13/hugo

C:\workspace\hugo&gt;bin\hugo.exe version
Hugo Static Site Generator v0.15-DEV BuildDate: 2015-09-05T13:45:44+09:00
</code></pre><p>実行モジュールは <code>%GOPATH%\bin</code> フォルダに置かれる。
実際に使う場合は， <code>%GOPATH%\bin</code> フォルダに <code>PATH</code> を通すか， <code>PATH</code> の通った場所にコピーすればよい。</p>
<p>パッケージをアップデートする場合は <code>-u</code> オプションを組み合わせる。</p>
<pre tabindex="0"><code>C:\workspace\hugo&gt;go get -u -v github.com/spf13/hugo
</code></pre><h2>ブックマーク</h2>
<ul>
<li><a href="http://golang.org/doc/code.html">How to Write Go Code - The Go Programming Language</a> （<a href="http://golang-jp.org/doc/code.html">日本語版</a>は情報が少し古いので注意）</li>
</ul>
<h2>参考図書</h2>
<div class="hreview">
  <div class="photo"><a href="https://www.amazon.co.jp/dp/4621300253?tag=baldandersinf-22&amp;linkCode=ogi&amp;th=1&amp;psc=1"><img src="https://m.media-amazon.com/images/I/41meaSLNFfL._SL160_.jpg" width="122" alt="photo"></a></div>
  <dl>
    <dt class="item"><a class="fn url" href="https://www.amazon.co.jp/dp/4621300253?tag=baldandersinf-22&amp;linkCode=ogi&amp;th=1&amp;psc=1">プログラミング言語Go (ADDISON-WESLEY PROFESSIONAL COMPUTING SERIES)</a></dt>
    <dd>Alan A.A. Donovan (著), Brian W. Kernighan (著), 柴田 芳樹 (翻訳)</dd>
    <dd>丸善出版 2016-06-20</dd>
    <dd>単行本（ソフトカバー）</dd>
    <dd>4621300253 (ASIN), 9784621300251 (EAN), 4621300253 (ISBN)</dd>
    <dd>評価<abbr class="rating fa-sm" title="5">&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="fas fa-star"></i></abbr></dd>
  </dl>
  <p class="description">著者のひとりは（あの「バイブル」とも呼ばれる）通称 “K&amp;R” の K のほうである。この本は Go 言語の教科書と言ってもいいだろう。と思ったら絶版状態らしい（2025-01 現在）。復刊を望む！</p>
  <p class="powered-by">reviewed by <a href='#maker' class='reviewer'>Spiegel</a> on <abbr class="dtreviewed" title="2016-07-13">2016-07-13</abbr> (powered by <a href="https://affiliate.amazon.co.jp/assoc_credentials/home">PA-APIv5</a>)</p>
</div> <!-- プログラミング言語Go -->
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>コマンドライン引数を取得するには <a href="https://golang.org/pkg/os/" title="os - The Go Programming Language"><code>os</code></a><code>.Args</code> を，システムの <code>$?</code> や <code>%ERRORLEVEL%</code> に値を返す場合は <a href="https://golang.org/pkg/os/" title="os - The Go Programming Language"><code>os</code></a><code>.Exit()</code> 関数を使う。これらはプラットフォーム依存なので（そもそも組み込みなら引数も返り値もなくて当たり前），言語仕様に含めるのではなくパッケージとして実装しているようだ。ちなみに <a href="https://golang.org/pkg/os/" title="os - The Go Programming Language"><code>os</code></a><code>.Exit()</code> 関数はプロセスを強制終了してしまうため <a href="http://blog.golang.org/defer-panic-and-recover" title="Defer, Panic, and Recover - The Go Blog">Defer</a> 構文で予約された処理が起動しないので注意が必要。&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p><a href="https://gohugo.io/" title="The world’s fastest framework for building websites | Hugo">Hugo</a> については「<a href="/hugo">ゼロから始める Hugo</a>」で解説している。以上，宣伝でした（笑）&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

</section>

</article>
</main>
<nav class="page-nav">
<div class="prev-page">&laquo; <a href="/golang/hello/">インストールから Hello World まで</a></div>
<div class="next-page"><a href="/golang/search-prime-numbers/">素数探索アルゴリズムで遊ぶ</a> &raquo;</div>
</nav>

<aside class="feedback" id='feedback'>
<h1>Feedback</h1>
<p>GitHub に<a href="https://github.com/spiegel-im-spiegel/github-pages-env/discussions">フィードバック用のディスカッションページ</a>を用意しました。
書き込みには GitHub のアカウントが必要ですが，お気軽にご利用ください。</p>
<p>他のフィードバック手段として Mastodon などの SNS や電子メールも利用できます。電子メールを利用する際の公開鍵は<a href="https://baldanders.info/profile/">プロフィール</a>から取得できます。</p>
</aside>
<footer>


<div class="userinfo">
	<div class="userinfo-avater">
		<a href="https://baldanders.info/profile/"><img src="https://text.baldanders.info/images/avatar.jpg" width="48" height="48" alt="avatar" id="logo"></a>
	</div>
	<div class="userinfo-info" id="maker">
		Text by <a href="https://baldanders.info/profile/" rel="cc:attributionURL" property="cc:attributionName">Spiegel</a>
		in <time property='dc:dateCopyrighted'>2015-09-13</time> (revised in 2024-05-11)
		<a rel='cc:license' href="https://creativecommons.org/licenses/by-sa/4.0/"><i class="fab fa-creative-commons"></i>&nbsp;<i class="fab fa-creative-commons-by"></i>&nbsp;<i class="fab fa-creative-commons-sa"></i></a>
		<ul class="social"><li><a rel="me" href="https://github.com/spiegel-im-spiegel"><span class="github-color"><abbr title="GitHub"><i class="fab fa-github"></i></abbr></span></a></li><li><a rel="me" href="https://www.flickr.com/photos/spiegel/"><span class="flickr-color"><abbr title="Flickr"><i class="fab fa-flickr"></i></abbr></span></a></li><li><a rel="me" href="https://goark.fedicity.net/@spiegel"><span class="mastodon-color"><abbr title="Mastodon"><i class="fa-brands fa-mastodon"></i></abbr></span></a></li><li><a rel="me" href="https://bsky.app/profile/baldanders.info"><span class="bluesky-color"><abbr title="Bluesky"><i class="fa-brands fa-bluesky"></i></abbr></span></a></li><li><a rel="me" href="https://www.strava.com/athletes/122077389"><span class="strava-color"><abbr title="Strava"><i class="fa-brands fa-strava"></i></abbr></span></a></li><li><a rel="me" href="https://x.com/spiegel_2007"><span class="x-twitter-color"><abbr title="X (Twitter)"><i class="fab fa-x-twitter"></i></abbr></span></a></li></ul>
	</div>
</div>

<nav>
<ul class='cloud center'>
<li><a href='/about-feeds/'>Feeds</a></li>
<li><a href='/reviews/'>Reviews</a></li>
<li><a href='/site-policy/'>Policy</a></li>
<li><a href='https://github.com/spiegel-im-spiegel/spiegel-im-spiegel.github.io'>Repository</a></li>
<li><a href='https://validator.w3.org/nu/?doc=https%3a%2f%2ftext.baldanders.info%2fgolang%2fgo-get-package%2f&amp;showoutline=yes'>Debug</a></li>
</ul>
<ul class='cloud center'>
<li><a href='https://baldanders.info/'>Home</a></li>
<li><a href='https://photo.baldanders.info/'>Photos</a></li>
<li><a href='https://slide.baldanders.info/'>Slide</a></li>
<li><a href='https://zenn.dev/spiegel'>Zenn</a></li>
</ul>
<ul class='cloud center'>
<li>Powered by <a href='https://gohugo.io/'>Hugo 0.156.0</a> and <a href="https://github.com/spiegel-im-spiegel/hugo-theme-baldanders-info
">Theme of Baldanders.info</a>.</li>
</ul>
</nav>
</footer>
</div>

</body>
</html>
