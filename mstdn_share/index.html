<!DOCTYPE html>
<html>
    <head>
        <meta name="robots" content="noindex,nofollow">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <title>Mastodon Post Example</title>

        <style>
            body{
                max-width: 900px;
            }
            h1{
                font-size:1.5rem;
                margin-left:1rem;
            }
            h2{
                font-size:1.3rem;
                margin-left:1.5rem;
            }
            .desc{
                margin-left:4rem;
                margin-bottom:1.5rem;
            }
            .code{
                display:block;
                max-width:800px;
                font-size:14px;
                line-height:1.4em;
                margin:0.5rem;
                padding:0.5em;
                text-align:left;
                white-space:nowrap;
                background-color:#fafafa;
                border:1px solid #ccc;
                overflow:scroll;
            }
            i{
                color:#888;
            }
            li{
                margin-bottom:1rem;
            }
            .red{
                color:red;
            }
            footer{
                margin:3rem 2rem 1rem 100px;
                font-size:0.8rem;
                text-align: right;
            }
        </style>



        <link rel="stylesheet" href="mstdn_share.css">
        <script src="mstdn_share.js"></script>

        <script>
            // 投稿（共有）したい文章をセットする
            mstdn_share.set_share_text( "これはテスト投稿です。\n https://freefielder.jp" );
        </script>
        
    </head>

    <body>
        <h1>Mastodonのシェアボタン：mstdn_share.js</h1>
        <h2>概要</h2>
        <div class="desc">
            <p>ウェブページに「Mastodonで共有」ボタンをかんたんに設置する JavaScript および CSS。</p>
        </div>
        <h2>設置例</h2>
        <div class="desc">
           <p><a href="https://freefielder.jp/lab/mstdn_share/example.html" target="_blank">サンプルページ</a>や<a href="https://freefielder.jp/blog/2024/11/share-on-mastodon-button.html" target="_blank">こちらの記事</a>をご覧ください。</p>
 
        </div>
        <h2>設置方法</h2>
        <div class="desc">
            <ol>
                <li><a href="https://freefielder.jp/lab/mstdn_share/mstdn_share.zip">mstdn_share.zip をダウンロード</a>・展開し、mstdn_share フォルダをウェブサーバの適切な場所に設置する。</li>

                <li>mstdn_share.js と mstdn_share.css をウェブページに読み込む。
                    <div class="code">
                        &lt;link rel="stylesheet" href="<i>path/to/mstdn_share/</i>mstdn_share.css"&gt;<br>
                        &lt;script src="<i>path/to/mstdn_share/</i>mstdn_share.js"&gt;&lt;/script&gt;
                    </div>
                </li>
                <li>mstdn_share.set_share_text() で投稿する文章をセット。
                    <div class="code">
                        &lt;script&gt;<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;mstdn_share.set_share_text('<i>投稿したい文字列</i>');<br>
                        &lt;/script&gt;
                    </div>
                </li>
                <li>ページ内にアイコンを設置。クラス名に mstdn_share を設定。
                    <div class="code">
                        &lt;img src="<i>path/to/mstdn_share/pics/</i>Mastodon.svg" <span class="red">class="mstdn_share"</span> style="width:72px;height:72px;"&gt;
                    </div>
                    ※ img に限らず、任意の要素に クラス：mstdn_share を設定することができます。その要素をクリック / タップすれば Mastodonへの投稿ポップアップダイアログが表示されます。
                </li>
            </ol>
        </div>

        <footer>
            (c) 2024 tyz@freefielder.jp https://freefielder.jp
        </footer>

    </body>
</html>