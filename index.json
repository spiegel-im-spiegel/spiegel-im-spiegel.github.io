{
  "title": "text.Baldanders.info",
  "url": "https://text.baldanders.info/",
  "feed": "https://text.baldanders.info/index.xml",
  "description": "帰ってきた「しっぽのさきっちょ」",
  "entry": [
    {
      "title": "2022-09-25 のブックマーク",
      "section": "bookmarks",
      "description": "「Linus Torvalds: Rust will go into Linux 6.1」他",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/bookmarks/2022/09/25-bookmarks/",
      "published": "2022-09-25T04:59:50+00:00",
      "update": "2022-09-25T05:00:11+00:00",
      "content": "リリース情報 Release August 2022 Recovery 2 · microsoft/vscode · GitHub Release v1.0.0: Release Wasmtime 1.0.0 (#4930) · bytecodealliance/wasmtime · GitHub WebAssemblyランタイム「Wasmtime」がバージョン1.0に到達、本番利用に対応。Bytecode Allianceによる事実上の参照実装 － Publickey 「Thunderbird 102.3.0」が公開 ～プロファイルのインポートと開発者ツールに仕様変更【9月22日追記】 - 窓の杜 「Firefox 105」が安定版に ～印刷オプションを拡充、メモリ不足でも安定して動作 - 窓の杜 Release v0.104.0 · gohugoio/hugo · GitHub Release 4.4.13_0 · nyaosorg/nyagos · GitHub Release v0.8.3 · nyaosorg/go-readline-ny · GitHub セキュリティ＆プライバシー関連 iOS 16に新たに搭載、「最悪の事態」を想定した2つのセキュリティ機能 | WIRED.jp : うーん\u0026hellip; 銃声を検知して犯罪を減らすはずのAI「ShotSpotter」が街を混乱に陥れている - GIGAZINE 「積極的サイバー防御」（アクティブ・サイバー・ディフェンス）とは何か ―より具体的な議論に向けて必要な観点について― - JPCERT/CC Eyes | JPCERTコーディネーションセンター公式ブログ Google ChromeとMicrosoft Edgeで機密性の高い情報が拡張スペルチェック機能経由で外部サーバーに送信されている - GIGAZINE : スペルチェックはOFFにすること Telegram Has a Serious Doxing Problem | WIRED スマホ位置情報の精度が向上、“高さ”特定可能に。日本で10月より「垂直測位サービス」提供開始～MetCom【地図と位置情報】 - INTERNET Watch Lens reflections may betray your secrets in Zoom video calls • The Register Leaking Screen Information on Zoom Calls through Reflections in Eyeglasses - Schneier on Security 暗号化の規制ではなく代替案の模索を：オランダ政府にサイバーセキュリティ諮問機関が勧告 | p2ptk[.]org Go言語で作成したプログラムがWindows Defenderに「Wacatac!ml」と誤検知される件と回避方法 SF感がすごい。ドローンを迎撃するマシンガン型ジャマー | ギズモード・ジャパン : これ走行中の自動車にも効果があるんじゃ\u0026hellip; チョークポイント資本主義 ミュージシャンが報われないのはSpotifyが買い叩いてるせい？ それともレコードレーベルが強欲だから？ | p2ptk[.]org 知財関連 Netflixが頭を悩ませる『パスワード共有』問題のソリューションをAdobeが提供開始 | p2ptk[.]org 違法素数 | 巨大数研究 Wiki | Fandom AGPLを理解する: もっとも誤解されたライセンス | フューチャー技術ブログ Linux または Ubuntu に関する話題 うぶんちゅ！ まがじん ざっぱ～ん♪ vol.13：team zpn Amazon.co.jp: ［試して理解］Linuxのしくみ　―実験と図解で学ぶOS、仮想マシン、コンテナの基礎知識【増補改訂版】 eBook : 武内 覚: 本 Ubuntu 22.04 その274 - UI向けに最適化された日本語のフォント・IPA UIゴシックフォントをインストールするには - kledgeb : そんなんあったっけ？ と思ったが Ver.002 まではあったらしい。 Ver.003 でライセンスとか随分変わったからな Go 言語関連 GitHub - noahgorstein/jqp: A TUI playground to experiment with jq Wails v2 Released | Wails Java 言語関連 Release v2.6.12 · spring-projects/spring-boot · GitHub Release v2.7.4 · spring-projects/spring-boot · GitHub 天文関連 各地のこよみ (日の出入り、月の出入り、南中時、月齢) - 国立天文台暦計算室 : 日没時間が知りたくて その他 Building the future of the command line · GitHub Denoのフルスタックフレームワーク「Fresh 1.1」登場。プラグインシステム、Preact DevTools対応、404ページのレンダリングなど新機能 － Publickey BigQueryへMySQLやPostgreSQLから直接ニアリアルタイムでレプリケーション可能に。「Datastream for BigQuery」登場 － Publickey Linus Torvalds: Rust will go into Linux 6.1 | ZDNET 「Linux」、バージョン6.1でRustを導入へ\u0026ndash;トーバルズ氏が明言 - ZDNet Japan Chromeに実装された疑似クラス「:has()」がjQueryの「:has()」に悪影響、一定の条件下でWebサイトが壊れる可能性 － Publickey メディアとしてのメタバースのメッセージを（ニコラス・カーが底意地悪く）読み解く – WirelessWire News WirelessWire Newsブログ更新（メディアとしてのメタバースのメッセージを（ニコラス・カーが底意地悪く）読み解く） - YAMDAS現更新履歴 Announcing Rust 1.64.0 | Rust Blog NVIDIA、AIで目線を調整する技術 - PC Watch Apple is raising prices on App Store across multiple countries in Asia and Europe • TechCrunch Rust 2024\u0026hellip;the year of everywhere? ブログ: Rust 2024\u0026hellip;あらゆる場所に対応する年? Jens Tore Fremmegaard\u0026rsquo;s answer to How is MySQL pronounced correctly? - Quora : MySQL の “My” は人名なんだって "
    },
    {
      "title": "APT で upgrade/dist-upgrade できなかったとき",
      "section": "remark",
      "description": "apt install で無理やりアップグレードすればいいらしい",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2022/09/cannot-upgrade-with-apt/",
      "published": "2022-09-25T04:33:56+00:00",
      "update": "2022-09-25T05:47:56+00:00",
      "content": "実は今回で2度目。 たぶん3度目もあるだろうということで，覚え書きとして残しておく。 つっても大した話ではないが。\nAPT (Advanced Package Tool) で apt upgrade する際「以下のパッケージは保留されます」みたいな感じで保留されることがある。 そういうときは大抵 apt dist-upgrade で何とかなると聞いているのだが（本来はディストリビューションのアップグレードで使うコマンド），それでも上手くアップグレードしてくれない場合がある。\n諦めてググってみたら「結局apt installで明示的に指定すればいいみたいです」という身も蓋もない解決策を見かけて「ええのん？」と思ったが，他に方法も見当たらないので思い切って apt install でアップグレードした。 なお apt install を使う場合は対象のパッケージを明示する必要がある。\nいや，流石に xwayland や systemd がアップグレードされないのは拙いだろう，ということで。 なんか NAS に SAMBA 経由でアクセスできなくなってたし。\napt install で無理やりアップグレードして再起動（厳密にはシャットダウンからのコールド・スタート）後 SAMBA アクセスもちゃんとできるようになった。 まずはめでたし。 ホンマにええんかなぁ\u0026hellip;\n参考図書 スーパーユーザーなら知っておくべきLinuxシステムの仕組み Brian Ward (著), 柴田 芳樹 (翻訳) インプレス 2022-03-08 (Release 2022-03-08) 単行本（ソフトカバー） 4295013498 (ASIN), 9784295013495 (EAN), 4295013498 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 版元で PDF 版が買えるが，今回はセキュリティ・エリアにも持ち込めるよう紙の本を買った。Linux システムの扱い方に関するリファレンス本として優れている。最初に軽く流し読みして，必要に応じて該当項目を拾い読みしていけばいいだろう。\nreviewed by Spiegel on 2022-07-17 (powered by PA-APIv5)\n"
    },
    {
      "title": "駐輪場をたずねて三千里（ってほどでもない）",
      "section": "remark",
      "description": "自転車ってどこ停めればいいの？",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2022/09/bike-parking/",
      "published": "2022-09-24T12:32:18+00:00",
      "update": "2022-09-24T12:49:42+00:00",
      "content": "持病持ちの私は定期的にかかりつけのクリニックに通っている。 「せっかくチャリンコ買うたし乗っていこうかな」と思ったのだが「あれ？ どこに自転車停めればいいんだ？」となった。\n私が地元松江市を離れたのは大学進学のときで，それまでは自転車なんかどこにでも停め放題だったし，わざわざ自転車を盗む奴もいなかった。 牧歌的な時代である（笑）\nしかし今はそういうわけにはいかない。 その辺に停めると怒られるし，場所によっては問答無用で撤去される。 しかもスポーツサイクルはママチャリよりも盗難リスクが高い（高価な上に軽くて運びやすいから）。 広島にいた時はホンマにカジュアルに盗む奴がいたからなぁ（広島では自転車は施錠せず放置してはいけないし，傘は傘立てに置いてはいけない。秒で盗られるw）。\nというわけで，今回は自転車移動を諦めて，バス\u0026amp;徒歩で松江市内で行きそうな場所の駐輪場を調べてみた。\nまずは かかりつけ医 まずはかかりつけのクリニックだが，一応駐輪スペースがあった。 ていうか，みんなそこに停めてるので多分そうなんだろうって感じ（笑） 地球ロック不可。\n松江市立病院 かかりつけ医があるので予防接種のとき以外は用がないのだが，この前4回目の接種で行ったばっかりなので。\nヤクをキメてきたぜ（4回目） | Flickr 「交通アクセス」のページを見ても駐輪場の場所が分かりにくくて。 一般駐車場出入口から入ると途中で自転車を抱えて階段を降りる羽目になる罠（笑） 道路をぐるっと回って裏手から入らないといけない。 運がよければ地球ロック可。\n島根県立美術館 まだ行ったことないけどそのうち行こうと思っているのが島根県立美術館。 私が高校生の頃は確かそこに小学校があった筈。\n「美術館ロータリー内駐輪場・バイク置き場をご利用ください」とあるのだが，路線バスでロータリーを回ってるときには見当たらなかった。 今度はチャリでちょろんと行ってみよう。\n島根県立図書館 ここは子供の頃からチャリンコで通ってたから大丈夫。 駐輪場の場所も昔通り。 今でも週末にバスで行くことがあるが，停まってる2輪車が殆どないんだよなぁ。 まぁ，好都合だけど。 運がよければ地球ロック可。\n松江駅東・西駐輪場 JR 松江駅の周辺は路上の駐輪は禁止されている。\n松江駅付近自転車路駐禁止区域 | Flickr その代わり駅の東西に駐輪場があって，そこそこの台数（松江市の人口基準1 でね）を停めれる感じ。 有料である。\n松江駅東駐輪場 | Flickr 駐輪場の管理人のおじさんに訊いてみたが，一見さんで利用する場合と定期で契約する場合で設備が違うようだ。 もちろん定期契約のほうが自転車をしっかり固定できるし，スタッフの方が見回って監視してくれている。 ちなみに3ヵ月定期契約で4,180円。 安全を込みで考えるなら決して高い値段ではないが，私は週末しか利用しないからなぁ。 悩みどころ。\n松江イオン JR 松江駅近くのイオンは路駐禁エリアからギリギリ外れてるのよ。 上の看板地図で言うと左端にある「松江サティ」と書かれている辺りが現在の松江イオン。\nまぁ，大規模小売店なので駐輪場はあるにはあるのだが\n松江イオンの駐輪場 | Flickr すンごい密集していて，しかも自転車を固定できない。 一応屋根はあるけど基本的に吹き曝しなので風の強い日は将棋倒しになってる光景をたまに見かける。 さらに（改めて見て気がついたが）ニッパで切れそうな安いワイヤーロックで括ってあるだけの（そこそこいいお値段ぽい）クロスバイクが放置気味に置いてあったりして「やっぱ松江って田舎なんだなぁ」とほっこりしたり（笑）\n正直に言ってここには停めたくない。 それなら多少歩いても松江駅の駐輪場に停めるわ。\n月に1,2回程度とはいえ，私は結構利用してるんだよね。 髪切ったりとか回るお寿司屋さんで昼飯喰ったりとか2。\n昼飯 | Flickr んー。 やっぱ松江駅の駐輪場を基点にしてあとは徒歩・バスで周辺を歩き回るのがいいだろうか。\nその他 駐輪スペースに気をつけながら周囲を見回すと2輪が微妙に冷遇されているのがよく分かる。\n田舎なので，コンビニ程度でもそこそこ広く駐車スペースがあるんだけど，やはり自動車中心で「自転車ってどこ停めればいいの？」な感じ。 まぁ，元々通勤用に買ったので，お買い物自転車にするつもりはないし，いいっちゃあいいんだけどね。\nせっかく安くもない買い物をしたんだから，身体を自転車に慣らしつつ，少しずつ行動範囲を広げていければなぁ，と思ったり。 そのために今後も駐輪場をたずねて回る必要があるかもしれないけど（笑）\nブックマーク ロードバイクをパクられないためにやっておくべき3つのこと - YouTube 松江城自転車駐輪場マップ 島根県松江市の自転車駐輪場一覧 - NAVITIME 参考 ブリヂストン(BRIDGESTONE) コンパクトワイヤーロック ブラック 長さΦ3×180cm WL-SP1 ブリヂストン(BRIDGESTONE) スポーツ用品 B00DL74Q0Y (ASIN), 4977716051878 (EAN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 本来の鍵とは別に，コンビニとかでごく短時間自転車を停めるために購入。ニッパで切れそうだが「鍵をかけている」という状態が示せればカジュアル盗難は抑止できる？ みたいな。\nreviewed by Spiegel on 2022-09-24 (powered by PA-APIv5)\n松江市における「住民基本台帳登録数」は2022年8月末時点で198,341人だそうな。20万人いかんのか。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nもちろんノンアルコール・ビールっすよ。若い頃ならともかく，もう昼間から呑んだくれる元気はない（笑）\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n"
    },
    {
      "title": "SSH, MySQL, Zerolog, そして Kra",
      "section": "golang",
      "description": "LOAD DATA INFILE 文を駆動させるところまで。",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/golang/ssh-mysql-zerolog-and-kra/",
      "published": "2022-09-22T14:05:54+00:00",
      "update": "2022-09-23T04:11:04+00:00",
      "content": "SSH, MySQL, Zerolog VPS 上に構築された MySQL サービスに大量のデータを送り込む必要がありまして。 Go でバッチ処理を組もうと考えたわけだ。 当然 MySQL サービスは VPS の外から直接アクセスできないので SSH トンネルをくぐる必要がある。\nというわけで最初に作ったのが github.com/goark/sshql だった。\nSSH 越しに DB サーバにアクセスする 再掲載すると，こんな感じに書ける。\npackage main import ( \u0026#34;database/sql\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; \u0026#34;github.com/goark/sshql\u0026#34; \u0026#34;github.com/goark/sshql/mysqldrv\u0026#34; ) func main() { dialer := \u0026amp;sshql.Dialer{ Hostname: \u0026#34;sshserver\u0026#34;, Port: 22, Username: \u0026#34;remoteuser\u0026#34;, Password: \u0026#34;passphraseforauthkey\u0026#34;, PrivateKey: \u0026#34;/home/username/.ssh/id_eddsa\u0026#34;, } mysqldrv.New(dialer).RegisterDial(\u0026#34;ssh+tcp\u0026#34;) db, err := sql.Open(\u0026#34;mysql\u0026#34;, \u0026#34;dbuser:dbpassword@ssh+tcp(localhost:3306)/dbname\u0026#34;) if err != nil { fmt.Fprintln(os.Stderr, err) return } defer dialer.Close() defer db.Close() rows, err := db.Query(\u0026#34;SELECT id, name FROM example ORDER BY id\u0026#34;) if err != nil { fmt.Fprintln(os.Stderr, err) return } for rows.Next() { var id int64 var name string if err := rows.Scan(\u0026amp;id, \u0026amp;name); err != nil { fmt.Fprintln(os.Stderr, err) break } fmt.Printf(\u0026#34;ID: %d Name: %s\\n\u0026#34;, id, name) } rows.Close() } ssh+tcp という名前で dialer を登録し，この名前を使って DSN (Data Source Name) を構成するというのがポイント。 Dialer のクローズを忘れずに（笑）\nただ，これだとログが取れない。 んで，どうせログを取るなら github.com/rs/zerolog パッケージを使いたいわけですよ。\nそこで登場するのが github.com/simukti/sqldb-logger パッケージ。 これを使えば標準の sql.DB に zerolog などのサードパーティ製 logger を仕込むことができる。 こんな感じ。\npackage main import ( \u0026#34;database/sql\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; \u0026#34;github.com/goark/sshql\u0026#34; \u0026#34;github.com/goark/sshql/mysqldrv\u0026#34; \u0026#34;github.com/rs/zerolog\u0026#34; sqldblogger \u0026#34;github.com/simukti/sqldb-logger\u0026#34; \u0026#34;github.com/simukti/sqldb-logger/logadapter/zerologadapter\u0026#34; ) func main() { dialer := \u0026amp;sshql.Dialer{ Hostname: \u0026#34;sshserver\u0026#34;, Port: 22, Username: \u0026#34;remoteuser\u0026#34;, Password: \u0026#34;passphraseforauthkey\u0026#34;, PrivateKey: \u0026#34;/home/username/.ssh/id_eddsa\u0026#34;, } mysqldrv.New(dialer).RegisterDial(\u0026#34;ssh+tcp\u0026#34;) dsn := \u0026#34;dbuser:dbpassword@ssh+tcp(localhost:3306)/dbname\u0026#34; mysqlDb, err := sql.Open(\u0026#34;mysql\u0026#34;, dsn) if err != nil { fmt.Fprintln(os.Stderr, err) return } db := sqldblogger.OpenDriver( dsn, mysqlDb.Driver(), zerologadapter.New(zerolog.New(os.Stderr)), sqldblogger.WithMinimumLevel(sqldblogger.LevelDebug), ) defer dialer.Close() defer db.Close() rows, err := db.Query(\u0026#34;SELECT id, name FROM example ORDER BY id\u0026#34;) if err != nil { fmt.Fprintln(os.Stderr, err) return } for rows.Next() { var id int64 var name string if err := rows.Scan(\u0026amp;id, \u0026amp;name); err != nil { fmt.Fprintln(os.Stderr, err) break } fmt.Printf(\u0026#34;ID: %d Name: %s\\n\u0026#34;, id, name) } rows.Close() } DSN を2回指定しないといけないのが若干鬱陶しいが，ともかくこれで zerolog による構造化ログが出るようになった。\nさらに Kra を仕込む 2022年春の Go Conference でとても感銘を受けたのが github.com/taichi/kra パッケージ。\nDBアクセスライブラリ Kra いや ent とかってデータ構造とその関係を最初から構築するならいい道具だと思うけど（コードで設計できるのは素晴らしい！），既にある RDBMS 環境を使う場合には必ずしもマッチしないのよね。 更に言うと，既存 ORM やクエリビルダとかの中途半端な SQL 抽象化・隠蔽にはウンザリしてるのよ（この辺は Go に限らないけど）。 それなら最初からガチで SQL 文を書いて，クエリプランをチェックしつつ評価・最適化して，それから実装を進めるべきだと常々思っていた1。\nというわけで github.com/taichi/kra を使うチャンスを伺っていたのだが，今回はお試しにはちょうどいいサイズだったので採用した。 とはいえ，今回のような構成ではどうすればいいのか分からなくて kra パッケージのソースコードやサンプルコードを眺めながら，まずは以下のように書いてみる。\npackage main import ( \u0026#34;database/sql\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; \u0026#34;github.com/goark/sshql\u0026#34; \u0026#34;github.com/goark/sshql/mysqldrv\u0026#34; \u0026#34;github.com/rs/zerolog\u0026#34; sqldblogger \u0026#34;github.com/simukti/sqldb-logger\u0026#34; \u0026#34;github.com/simukti/sqldb-logger/logadapter/zerologadapter\u0026#34; \u0026#34;github.com/taichi/kra\u0026#34; kraSql \u0026#34;github.com/taichi/kra/sql\u0026#34; ) func main() { dialer := \u0026amp;sshql.Dialer{ Hostname: \u0026#34;sshserver\u0026#34;, Port: 22, Username: \u0026#34;remoteuser\u0026#34;, Password: \u0026#34;passphraseforauthkey\u0026#34;, PrivateKey: \u0026#34;/home/username/.ssh/id_eddsa\u0026#34;, } mysqldrv.New(dialer).RegisterDial(\u0026#34;ssh+tcp\u0026#34;) dsn := \u0026#34;dbuser:dbpassword@ssh+tcp(localhost:3306)/dbname\u0026#34; mysqlDb, err := sql.Open(\u0026#34;mysql\u0026#34;, dsn) if err != nil { fmt.Fprintln(os.Stderr, err) return } db := kraSql.NewDB( sqldblogger.OpenDriver( dsn, mysqlDb.Driver(), zerologadapter.New(zerolog.New(os.Stderr)), sqldblogger.WithMinimumLevel(sqldblogger.LevelDebug), ), kraSql.NewCore(kra.NewCore(kra.MySQL)), ) defer dialer.Close() defer db.Close() rs, err := db.Query(context.TODO(), \u0026#34;SELECT id, name FROM example ORDER BY id\u0026#34;) if err != nil { fmt.Fprintln(os.Stderr, err) return } rows := rs.Rows() for rows.Next() { rec := struct { Id int64 `db:\u0026#34;id\u0026#34;` Name string `db:\u0026#34;name\u0026#34;` }{} if err := kraSql.NewRows(kraSql.NewCore(kra.NewCore(kra.MySQL)), rows).Scan(\u0026amp;rec); err != nil { fmt.Fprintln(os.Stderr, err) break } fmt.Printf(\u0026#34;%#v\\n\u0026#34;, rec) } rows.Close() } クエリ結果の取り出しが若干まどろこしいが，これは kra/sql.Rows には何故か Next() メソッドがないため2。 しょうがないので 標準の sql.Rows を取り出して，そちらの Next() メソッドで回している。\nこれでちゃんと動いてログも取れているのを確認できた。\nトランザクション制御 トランザクション制御用に以下のような関数を用意する。\nfunc Transaction(ctx context.Context, db *kraSql.DB, opts *sql.TxOptions, fn func(tx *kraSql.Tx) error) error { tx, err := db.BeginTx(ctx, opts) if err != nil { return errs.Wrap(err) } defer func() { if v := recover(); v != nil { _ = tx.Rollback() panic(v) } }() if err := fn(tx); err != nil { if rErr := tx.Rollback(); rErr != nil { return errs.Wrap(rErr, errs.WithCause(err)) } return errs.Wrap(err) } if err := tx.Commit(); err != nil { return errs.Wrap(err) } return nil } なお，エラーハンドリングには自作の github.com/goark/errs パッケージを使っている。 zerolog と組み合わせてエラーを構造化してログに吐けるのが利点。\n実際にトランザクション処理を行う場合は，たとえば\n// logger := zerolog.New(os.Stderr) // ctx := context.TODO() values := struct { Id int64 `db:\u0026#34;id\u0026#34;` Name string `db:\u0026#34;name\u0026#34;` }{ Id: 100, Name: \u0026#34;Alice\u0026#34;, } if err := Transaction(ctx, db, \u0026amp;sql.TxOptions{}, func(tx *kraSql.Tx) error { stmt, err := tx.Prepare(ctx, \u0026#34;INSERT INTO example(id,name) VALUES (:id,:name)\u0026#34;) if err != nil { return errs.Wrap(err) } defer stmt.Close() res, err := stmt.Exec(ctx, \u0026amp;values) if err != nil { return errs.Wrap(err) } count, err := res.RowsAffected() if err != nil { return errs.Wrap(err) } logger.Info().Int64(\u0026#34;affected\u0026#34;, count).Send() return nil }); err != nil { logger.Error().Interface(\u0026#34;error\u0026#34;, err).Send() ... } てな感じに書ける。 こういうのが kra にあるとめがっさ便利なんだけどねぇ（それを言い出すとパッケージがどんどん膨れてしまうのだがw）。\nLOAD DATA INFILE 文で大量のデータを突っ込む さて，いよいよ MySQL の テーブルに大量のデータを突っ込むのだが， INSERT 文でちまちまやってたら日が暮れてしまうので（実際に試して日が暮れた） LOAD DATA INFILE 文を使うことにする。\nMySQL :: MySQL 5.6 リファレンスマニュアル :: 13.2.6 LOAD DATA INFILE 構文 こんな感じの SQL 文。\nLOAD DATA LOCAL INFILE \u0026#39;input.file\u0026#39; INTO TABLE exsample_table CHARACTER SET utf8mb4 FIELDS TERMINATED BY \u0026#39;\\t\u0026#39; LINES TERMINATED BY \u0026#39;\\n\u0026#39; ( field1, field2, ... ) これでローカルにある input.file ファイルの内容をリモートの MySQL の exsample_table テーブルに送り込める。 (field1, field2, ...) の並びと入力ファイルの要素の並びが同じであることが前提。 またサーバ側の MySQL サービスが --local_infile オプション付きで起動されていること。\nCHARACTER SET 句はファイルの文字エンコードディングがDBサービスのデフォルトと異なる場合に設定する。 FIELDS 句および LINES を省略した場合のデフォルト値はこうなっているそうな。\nFIELDS TERMINATED BY \u0026#39;\\t\u0026#39; ENCLOSED BY \u0026#39;\u0026#39; ESCAPED BY \u0026#39;\\\\\u0026#39; LINES TERMINATED BY \u0026#39;\\n\u0026#39; STARTING BY \u0026#39;\u0026#39; いわゆる TSV (Tab Separated Value) 形式のレコードだね。 これ以外の形式なら明示的に設定する必要がある。\nで，これを github.com/go-sql-driver/mysql パッケージで実装するには，3つのステップが必要。\nひとつ目はデータ読み込みハンドラを登録する。 こんな感じ3。\nfile, err := os.Open(\u0026#34;input.file\u0026#34;) if err != nil { return err } defer file.Close() mysql.RegisterReaderHandler(\u0026#34;data\u0026#34;, func() io.Reader { return file }) 次に実際の SQL 文を発行する。\n// logger := zerolog.New(os.Stderr) // ctx := context.TODO() if err := Transaction(ctx, db, \u0026amp;sql.TxOptions{}, func(tx *kraSql.Tx) error { res, err := tx.Exec(ctx, `LOAD DATA LOCAL INFILE \u0026#39;Reader::data\u0026#39; INTO TABLE exsample_table (field1, field2, ...)`) if err != nil { return errs.Wrap(err) } count, err := res.RowsAffected() if err != nil { return errs.Wrap(err) } logger.Info().Int64(\u0026#34;affected\u0026#34;, count).Send() return nil }); err != nil { logger.Error().Interface(\u0026#34;error\u0026#34;, err).Send() ... } ファイルを指定する部分に先ほど登録したハンドラの名前を使って 'Reader::data' と指定する。 爆速でした。\nちなみに，うっかり tx.Prepare() で前準備しようとすると「そんな構文はサポートしてない」（←超意訳）と怒られる。 PREPARE で対応している構文は以下のページが参考になる。\nMySQL :: MySQL 8.0 リファレンスマニュアル :: 13.5 プリペアドステートメント 最後に mysql.DeregisterReaderHandler() 関数で登録を解除する。 後始末はきちんとね。\nブックマーク 【自分用のメモ】MySQL8でインポート・エクスポート - Qiita 参考図書 プログラミング言語Go アラン・ドノバン (著), ブライアン・カーニハン (著), 柴田芳樹 (著) 丸善出版 2016-06-20 (Release 2021-07-13) Kindle版 B099928SJD (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; Kindle 版出た！ 一部内容が古びてしまったが，この本は Go 言語の教科書と言ってもいいだろう。感想はこちら。\nreviewed by Spiegel on 2021-05-22 (powered by PA-APIv5)\nデベロッパーゴースーパーゴラン Tシャツ Geek Go Super Golang Tees ウェア\u0026amp;シューズ B09C2XBC2F (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; ついカッとなってポチった。反省はしない\nreviewed by Spiegel on 2022-04-10 (powered by PA-APIv5)\nSQL はひとつの独立した言語で（チューリング完全），宣言型プログラミング言語と考えるのが分かりやすい（異論は認めるw）。宣言型で分かりやすいのは正規表現だろう（関数型言語には宣言型が多い。 Lisp とか Haskell とか）。特に Go は宣言型の言語とはあまり相性がよくない。たとえば，正規表現の（構文解析やコンパイラではなく）ビルダを作ろうと考える人は少ないだろう（労力に見合わない）。どの言語・フレームワークでも同じことだが ORM やクエリビルダを使って頑張って抽象化や隠蔽をしても上手くマッチしない局面が多く，結局は「ガチの SQL でいいぢゃん。 PREPARE 構文で事前準備して変数部分はプレースホルダ経由で渡せば安全は確保される」となる。そういう意味じゃ Go 標準の database/sql パッケージは，かなり妥当な割り切りをしてると思う。まぁ，後方互換性を保つためにちょっとアレな感じになっているのは否めないけど（笑）\u0026#160;\u0026#x21a9;\u0026#xfe0e;\ngithub.com/jackc/pgx 専用の kra/pgx.Rows にはちゃんと Next() メソッドが付いている。提供されているメソッドが微妙に違う理由はよく分からないが，ソースコードを眺めるに，何となく意図的にそうなってる気がする。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n実は mysql.RegisterLocalFile() 関数を使えば直接ファイルパスを登録することができる。ハンドラ登録で io.Reader interface 型で渡すほうが応用が効きやすいので，今回はこちら。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n"
    },
    {
      "title": "Java 19 がリリースされた",
      "section": "release",
      "description": "2023-03 までの短期サポート・バージョン",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/release/2022/09/java-19-is-released/",
      "published": "2022-09-20T20:13:14+00:00",
      "update": "2022-09-25T05:00:11+00:00",
      "content": "予定通り Java 19 がリリースされた。 2023-03 までの短期サポート・バージョンである。\nOpenJDK JDK 19 GA Release JDK 19 JDK 19 Release Notes Overview (Java SE 19 \u0026amp; JDK 19) 主な内容は以下の通り。\n405: Record Patterns (Preview) 422: Linux/RISC-V Port 424: Foreign Function \u0026amp; Memory API (Preview) 425: Virtual Threads (Preview) 426: Vector API (Fourth Incubator) 427: Pattern Matching for switch (Third Preview) 428: Structured Concurrency (Incubator) via JDK 19 OpenJDK を APT で管理するメリットはないので，実行バイナリをリリースページから直接ダウンロードして配置する。 以下は完全手動でのインストール（笑）\n$ cd /usr/local/src $ sudo curl -L \u0026#34;https://download.java.net/java/GA/jdk19/877d6127e982470ba2a7faa31cc93d04/36/GPL/openjdk-19_linux-x64_bin.tar.gz\u0026#34; -O $ cd .. $ sudo unlink java # 以前のバージョンの Java 環境がある場合 $ sudo tar xvf src/openjdk-19_linux-x64_bin.tar.gz $ sudo ln -s jdk-19 java $ java -version # すでに PATH が通っている場合 openjdk version \u0026#34;19\u0026#34; 2022-09-20 OpenJDK Runtime Environment (build 19+36-2238) OpenJDK 64-Bit Server VM (build 19+36-2238, mixed mode, sharing) LTS 版 Java バイナリが欲しいなら Adoptium で取得できる。\n私としては PlantUML が動けばいいので，試しておく1。\nFactory Method Pattern Oracle Java のサポート期間 “Oracle Java SE Support Roadmap” より。\nRelease GA Date Premier Support Extended Support 11 (LTS) 2018-09 2023-09 2026-09 17 (LTS) 2021-09 2026-09 2029-09 18 2022-03 2022-09 - 19 2022-09 2023-03 - 20 2023-03 2023-09 - 21 (LTS) 2023-09 2028-09 2031-09 2022-09 時点で Premier Support が終了しているものは除いている。 Java 8 については Adoptium などで最新バイナリを取得可能。\nぶっちゃけ Java 17 の Premier Support が2026年まであるので，少なくとも LTS に関しては 17→21 への換装は進まないと思うなぁ。 11→21 はあるかもしれんけど。 Azure の Web Apps とか今年に入ってようやく Java 17 に対応したんだぜ。 そんで来年は21とか LTS の意味がねー！ 多分その次に出るであろう 25? まで保留だよな。\nブックマーク Java 19が正式リリース。より軽量な仮想スレッド、RISC-Vへの移植など新機能。1年後のJava 21が次のLTS版に － Publickey Oracle、「Java 19」を発表 ～より軽量な「仮想スレッド」をプレビュー導入 - 窓の杜 JDK 19 Security Enhancements 参考図書 Spring Data JPAプログラミング入門 溝口賢司 (著) 秀和システム 2017-08-03 (Release 2018-04-23) Kindle版 B07CKHR8C1 (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; JPA のお勉強用に購入。紙のほうはプレミアが付いてるっぽいが Kindle で買えるよ。固定レイアウトだからブラウザの Kindle Cloud Reader で読めるし。真面目に基本を押さえて書いていて分かりやすい。\nreviewed by Spiegel on 2021-08-26 (powered by PA-APIv5)\nEffective Java 第3版 Joshua Bloch (著), 柴田 芳樹 (翻訳) 丸善出版 2018-10-30 単行本（ソフトカバー） 4621303252 (ASIN), 9784621303252 (EAN), 4621303252 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 再勉強中。 Kindle 版のほうがちょっと安いが，勤務先でも使いたかったので紙の本にした。\nreviewed by Spiegel on 2021-03-17 (powered by PA-APIv5)\nSpring Boot 2 入門: 基礎から実演まで 原田 けいと (著), 竹田 甘地 (著), Robert Segawa (著) 2020-05-22 (Release 2020-05-22) Kindle版 B0893LQ5KY (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; Spring Boot を勉強することになって急遽買った本。めっさ分かりやすかった。 PDF 版が欲しいくらい（笑） Spring Boot 2.7 対応にアップデートされていた。素敵！\nreviewed by Spiegel on 2022-08-14 (powered by PA-APIv5)\n2021-08-22 に PlantUML v1.2022.7 がリリースされている。 PlantUML の使い方等については拙文「真面目に PlantUML」シリーズを参考にどうぞ。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n"
    },
    {
      "title": "CC と NFT に関する FAQ を翻訳してみた",
      "section": "remark",
      "description": "なんたる蛮勇（笑）",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2022/09/nfts-and-cc/",
      "published": "2022-09-19T08:44:04+00:00",
      "update": "2022-09-20T20:21:23+00:00",
      "content": "いやぁ，ン年振りに cc-licenses セクションに記事を追加したぜ（笑）\n発端は yomoyomo さんの記事。\na16zが提唱するNFT向け「Can’t Be Evil」ライセンスとクリエイティブ・コモンズのNFTに対する見解 - YAMDAS現更新履歴 恥ずかしながら，この記事を読んではじめて Creative Commons が CC と NFT に関する FAQ を公開しているのを知ったですよ。\nFAQ: CC and NFTs - Creative Commons で，一念発起いたしまして，この FAQ の翻訳を敢行した。 やっちまったんだよ！\nNFT と CC Licenses なんたる蛮勇（笑）\nいやね，この前読んだ本で思ったわけさ。\n苦手・不得手は言い訳にならない！ ちなみに翻訳の内容については 全く自信がありません \u0026#x1f647;\nいや，ホンマにちょいちょい怪しい部分があるのよ。 もし「わしが見ちゃる！」という奇特な方がおられましたら，添削して頂けると助かります。 フィードバックはこちら（Twitter でも OK）。\n（訳文が正しいなら）けっこう読み応えのある FAQ だと思う。 上から順に全文読むことをお勧めします。 「NFT って何？」って方も一度読んでみたらいいと思うよ。\nその上で\nCC’s mission is not just sharing but better sharing—sharing in a way that promotes a more vibrant commons and generates more support for the creators of freely reusable works. via FAQ: CC and NFTs - Creative Commons という部分に軽く感動してしまった。 そうだよな。 これこそが Creative Commons の意義だよね。\nとりあえず\u0026hellip; もうしばらく英語はいいです。\nブックマーク New FAQ on NFTs and CC0 - Creative Commons a16z/a16z-contracts: a16z Contracts is a library for solidity contracts, including licenses 参考図書 クリエイティブ・コモンズ―デジタル時代の知的財産権 レッシグ,ローレンス (著), 敬士, 椙山 (著), 圭介, 上村 (著), 紘一郎, 林 (著), 絵美, 若槻 (著), 大洋, 土屋 (著), クリエイティブコモンズジャパン (編集), Lessig,Lawrence (原著) NTT出版 2005-03-01 単行本 475710152X (ASIN), 9784757101524 (EAN), 475710152X (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 残念ながら紙の本は実質的に絶版なんですよねぇ。是非デジタル化を希望します。\nreviewed by Spiegel on 2014-08-02 (powered by PA-APIv5)\n著作権は文化を発展させるのか: 人権と文化コモンズ 山田 奨治 (著) 人文書院 2021-07-29 (Release 2021-07-29) Kindle版 B099RTG3J7 (ASIN) 2021年夏に出てたのだが，仕事が忙しくなってすっかり忘れていた。これから読みます。\nreviewed by Spiegel on 2021-12-06 (powered by PA-APIv5)\n著作権法 第3版 中山 信弘 (著) 有斐閣 2020-09-04 単行本 4641243336 (ASIN), 9784641243330 (EAN), 4641243336 (ISBN) 第3版が出てた。第2版は図書館で借りて読んだが，途中でギブアップした。個人が興味本位で読める本ではないらしい（笑）\nreviewed by Spiegel on 2020-10-12 (powered by PA-APIv5)\n"
    },
    {
      "title": "NFT と CC Licenses",
      "section": "cc-licenses",
      "description": "この記事は Creative Commons が FAQ (よくある質問) として公開している “FAQ: CC and NFTs” を試みに翻訳したものです。",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/cc-licenses/06-nfts-and-cc/",
      "published": "2022-09-19T08:07:21+00:00",
      "update": "2022-09-19T08:07:47+00:00",
      "content": "この記事は Creative Commons が FAQ (よくある質問) として公開している FAQ: CC and NFTs を試みに翻訳したものです。 原文の FAQ: CC and NFTs は Creative Commons により CC-BY \u0026nbsp; ライセンスの下で公開されています。\nなお，翻訳に関する間違いは全て翻訳者である Spiegel に帰します。 もし間違いがあればフィードバックして頂けると助かります。\nFAQ： CC と NFT 我々は多くの人が CC0 (パブリック・ドメインへの献呈) および CC ライセンスを代替不可トークン（Non-Fungible Token; NFT）とともに使用しているのを見てきました。 CC0 や CC ライセンスと NFT を組み合わせる方法には多くの混乱があります。 そこでよく目にする質問を明らかにするために，この基本的なガイダンスをまとめました。\nこれらの技術，およびその説明となる慣行（practices），ポリシー，用語は継続的に進化しています。 この FAQ は NFT が CC オープンライセンスやパブリック・ドメイン・ツールとどのように関係しているかについて CC 最新の理解と解釈を提供しますが，包括的なガイドでも特定の法的助言でもありません。理解と解釈が進むにつれて，この FAQ を更新し続けます。\n最終更新日： 2022-09-09\nNFT とはなんですか， CC ライセンスと組み合わせて使えますか？ NFT は芸術作品やその他の著作物を含む電子ファイルにリンクできる一意に識別可能なデータ単位です。 作品に紐付けられた NFT が「ミント1（mint）」されると，その NFT の売却がブロックチェーン2（blockchain） 上にデジタルで記録され， NFT の購入者は作品に紐付けられた固有のトークンを所有することになります。\nただし NFT の購入者は，明示的に著作権を譲渡する別の法的契約を結んでない限り，紐付いている作品の著作権を自動的に取得することはありません。 芸術作品の番号付きプリントを所有するようなもので， NFT の所有者は所有する特定のトークンに対してなにが起きるかを制御します。 別途の委譲がない限り，トークンの基となる作品の権利は保有されず，作品をコピーまたはリミックスする他者を規制できません（これらの権利は基となる作品の権利者が独占的に保有します）。\nCC 法的ツールはクリエイターが自分の作品を一般に向けてコピー，共有，および再利用できるようにするための標準化された方法で，本来は，権利者の特別な許可がない限り，著作権法で禁じられていたものです。 NFT の所有権と基となる作品の著作権の保有は分離できるため， NFT の基となる作品に CC ライセンスを適用することは可能ですし，既にそうしているクリエイターもいます。\nCC0 とはなんですか？ どのように機能しますか？ それはライセンスですか？ CC0 はパブリック・ドメインへの作品の献呈です。 作品の著作権に影響を与えるためライセンスと誤って呼ばれることがよくあります。 しかし，しかしライセンスは権利者があなたに許可することを記述しますが， CC0 献呈は全ての権利を解放するため，誰も権利を保有せず，作品は公衆に帰属します。 CC0 を使用すると著作権に基づく全ての権利を解放し作品に対する権利を管理したくない（つまり誰でも自由に利用できる）ことを表明することになります。\nCC0 は（全ての CC ライセンスとそのツールも同様ですが）著作権に基づく権利にのみ適用されます。人格権，商標権，プライバシー権といった他の権利は，他の何かの仕組みで明示的に放棄されない限り，依然として講師される可能性があります。 作品に紐付いている NFT の所有権は著作権下で保有される権利ではないため，基となる作品が CC0 の下にリリースされているとしても， NFT は引き続き保有・移転することが出来ます。\n一部の法域では完全なパブリック・ドメインへのリリースが不可能なため， CC0 ではこれに備えて権利保有者が可能な全ての許諾を付与する予備（fallback）ライセンスを含んでいます。 法律上の技術的な問題は異なりますが結果は同じです：誰もがどんな目的でも CC0 の作品を利用できます。\nNFT で CC0 を使用することは意味はありますか？ もしあるならどんな意味ですか？ NFT に紐付かれた作品が CC0 でパブリック・ドメイン下にリリースされると，トークン自体は一度にひとりの所有者しか持てませんが，基となる作品は誰でも自由に共有したりリミックスしたりできます。\nCC0 パブリック・ドメインへの献呈は基となる作品に適用され，その利用は，商業目的だろうが非商業目的だろうが作品をコピーおよびリミックスする権利を， NFT の所有者でもなく元の権利者でもなく，誰も独占的に保有しないことを意味します。 作品を利用する権利の保有者は，その作品に紐付けられたトークンの所有者とは別のものです。\n誰でも CC0 を使用してパブリック・ドメイン下にリリースされた作品のコピーを自由に作成できますが，紐付いている NFT の購入は購入者にとって依然として意味がある場合があります。 たとえば， NFT を発行するクリエイターや機関を財政的に支援したい， NFT 保有に関連する排他的なクラブやフォーラムの会員になりたい，あるいは単に NFT の所有者であることを主張できるという社会的利益を得たい，とか。\nNFT に紐づく作品をパブリック・ドメインにするために CC0 を使用する際，別のライセンス条項を提示することはできますか？ たとえば，商用利用のために別のライセンス条項を設定することはできますか？ CC0 は全てのユーザと全ての利用に対するパブリック・ドメインへのリリースです。 したがって他のライセンス条項を提示しても，誰でも CC0 作品の無制限な利用を選択できます。\nたとえば，ある作品を非商用利用には CC0 としてリリースし商用利用にはより厳しいライセンス・スキームを使用することは意味がありません（商用利用者も CC0 条件下で作品を利用する資格があるため意図通りには機能しません）。\n（これは CC ライセンスにも当てはまります。 付与された全ての許可は全ての人に適用されます。 しかし，ライセンスが制限していることを行う許可を個別に付与することを選択することは出来ます： たとえば，作品を CC BY-NC として提供し，お金を払うユーザには商用でのコピーができるようにします）\nCC ライセンスは全ての人が作品を利用できるようにするためのものですが NFT の所有者はひとりしかいません。これは矛盾していますか？ ある作品の NFT がミントされると，その作品に紐づく一意のトークンが作成され，そのトークンが売りに出されます。 NFT の購入者はその固有のデジタル・データに対する排他的権利を有し，所有に伴う特権，利益，社会的名声を手に入れます。 しかし， NFT の購入に権利譲渡の追加契約が含まれていない限り，紐付いている作品の著作権の独占的な保有者にはなっていません。\n物理的メディアを作成するアーティストについて考えてみるといいかもしれません： アーティストが物理的な作品を販売するとき，それが一点ものの収集品であろうとコピーであろうと，根底にある著作権の販売と結び付けられることは殆どありません。 アーティストは通常，自身の作品の複製に対する排他的権利を保持し，物理メディアの所有者または一般大衆に対して権利の一部または全部をライセンスしたり，あるいは全くライセンスを付与しないこともできます。\n多くの場合， NFT の所有者は紐付いている作品自体に対するコピーやリミックスの排他的な支配を特に望んでいないかもしれません。 たとえばクリエイターを経済的に支援する手段として NFT を購入する人は通常，そのクリエイターに著作権を保持させ，その作品を別の方法でライセンスすることで引き続き利益を得られるようにしたいと考えるでしょう。\n作品が CC ライセンスされている場合，作品の NFT が販売されてもライセンス条項は引き続き適用されます； NFT の所有者がひとりであっても，作品自体は付与されている CC ライセンス条項の下に誰もが自由に利用できることに変わりありません。 作品がパブリック・ドメインにある場合や CC0 リリースの場合は誰も排他的権利を有していないため，権利を売買することができなくなります。 一般の人は自由に作品をコピーしたりリミックスしたりできます。 トークンの所有は，これらの条項と矛盾しません。\n他人の CC ライセンス作品の NFT をミントできますか？ 技術的には CC ライセンスで付与された権利の使用（全体または一部のコピー，または作品のリミックスなど）を伴わない方法でこれを行っている場合，ライセンスはあなたの行為を抑えず，あなたはライセンスの条件に従う必要はありません。 創造的な作品に対して NFT をミントするだけならこれらの権利は必ずしも必要ではありませんが，多くの NFT 関連の利用では恐らく必要です。 NFT のミントおよび販売の際に著作権の許可が必要となる方法で作品のコピーを行う場合は，そのライセンスの要求に従わなければなりません（たとえば NC ライセンスの作品を商業利用目的でコピーすることは出来ません）。\nただし，既に作品がパブリック・ドメインにある場合を除き， CC は通常，クリエイターの同意なしに他人の作品をミントすること支援していません。 CC のミッションは，単に共有することではなく，より良い共有—より活発なコモンズを促進し，自由に再利用可能な作品のクリエイターへの支援を生み出す方法で共有することです。\n他人の CC ライセンス作品の NFT を同意なしにミントした場合，いくつかの異なるネガティブな結果を生む可能性があります。 ひとつは，クリエイターが与えるべきと思っているある種の公式な所有権を他の誰かが与え，その作品からお金を稼いでいるとき，クリエイターはしばしば不当に搾取されていると感じる可能性です。 もうひとつは，元のクリエイターが自身の作品が NFT に紐付かれたりその NFT が使われることを全く望んでおらず，たとえその使用に対して報酬やクレジットが支払われたとしても，自分の作品がこのような方法で利用されると自身の評判が損なわれ修復も困難だと考えている可能性です。\nCC クリエイターが自身の作品の再利用についてこのようなネガティブな経験をすると作品を自由に公開することを躊躇してしまいます 彼らの寛容さにつけ込んでいると感じる利用を阻止するため，より制限的な条件あるいはデフォルトの “All Rights Reserved” に切り替えるかもしれません。\n他人の作品の NFT をミントする場合は搾取されていると感じさせるような方法で作品を利用するのではなく，クリエイターに尋ね，彼らと一緒に作業することをお勧めします。 ライセンスの法的要件を満たすことは著作権侵害を回避するために最低限しなければならないことであり，何をすべきかという倫理基準ではありません。\nCC は NFT に特化したライセンスをリリースしましたか？ CC は NFT に特化したライセンスを公開していませんが，既存ライセンスと法的ツールが NFT に紐づく作品に適用される可能性があります。 コモンズにある他のマテリアル3 と互換性のある方法で他の人があなたの作品を自由にコピーおよびリミックスができるようにしたい場合は CC ライセンスまたは CC0 パブリック・ドメイン献呈を使用することをお勧めします。 他の NFT ライセンスが CC ライセンス作品と互換性があるかどうか判断するための分析は行っていませんが，トークン自体の売買に関する追加条項を主に設計し，紐付いている作品については CC0 を使用するか CC ライセンスと互換性のあるいくつかのプロジェクトについては承知しています。 ただし，他のいくつかのライセンスには紐づく作品に対して許可される利用を制限する追加の条件が記述されているものがあります。 これらの多くは CC ライセンス作品と互換性がありません。 NFT ライセンスに CC0 献呈または CC ライセンスが含まれるあるいは参照する場合は，それらがどのように結びつき， NFT およびその関連作業が何を意味するかを理解するように注意する必要があります。\nCC はクリエイティブな作品に NFT を使用することを推奨していますか？ CC は自由に再利用やリミックスができる文化的な作品の創造と共有を支援しており，これらの作品の創造とデジタル化を支援するために独占的な著作権以外のものを利用する資金調達モデルを支援しています。 多くのクリエイターや文化機関がその精神で NFT を使用しているのを見てきました。\nNFT の中にはクリエイターの同意なしにミントされたもの，トークンの価値や潜在的な投資家に販売されているものについて誤解を招くあるいは虚偽の約束をしているもの，他の不正な手段で NFT 発行者に資金を誘導するものがある（他にも多くの非論理的な利用がある）ことを認識しており，たとえ CC ライセンスや法的ツールが使われている場合でも，こうした行為を支援しません。\nNFT の環境への影響4 を含め，考慮に値する他の批判もあります。 NFT をミントする際，新しい強力なツールで作業する場合と同じように，クリエイターは選択肢と目標を慎重に検討することが推奨されます。\n私達のコミュニティではクリエイティブな作品に NFT を使用することを推奨すべきかどうかについて，様々な意見があることを承知しています。 一方で，多くの人が NFT を受け入れ，コモンズで作品を共有する一環としてそれらを使用する方法についてのガイダンスを求めていることも承知しています。 このドキュメントは使用を推奨するものでも問題を深く掘り下げるものでもありません。 代わりに CC ライセンスがこれらの新しいツールや慣行とどのように相互作用するかを既に調査を行っている人々に向けてガイダンスを提供することを狙いとしています。\n訳注：「ミント」は NFT を作成してブロックチェーンに組み込むことを指すらしい。「鋳造（minting）」が由来。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n訳注：「ブロックチェーン」は簡単に言うと NFT システムにおける販売台帳のようなものだと考えていただければ。システムで唯一のデータでありながら不特定のコピーを許容する中核技術と言ってよい。元々は Bitcoin で使われている同名の技術を応用したもの。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n訳注：「マテリアル（material）」は CC ライセンスでの独自の言い回しで，ライセンスの対象となるものをまとめてマテリアルと呼んでいる。詳しくは拙文「Creative Commons Licenses」を参照のこと。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n訳注：ブロックチェーン要素技術である PoW (Proof of Work) は計算資源（と電力）を激しく消費するため批判が多い。このため NFT のプラットフォームでもある Ethereum では PoW を PoS (Proof of Stake) へ置き換えようとしている。詳しくは次の記事を参照のこと： MIT Tech Review: イーサリアムの「ザ・マージ」が完了、6年越しでPoSへ移行\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n"
    },
    {
      "title": "結局 Google Fonts に巻き戻した。そしてモリサワ BIZ UD フォント採用へ",
      "section": "remark",
      "description": "とほほ orz",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2022/09/rollback-web-fonts/",
      "published": "2022-09-18T12:31:41+00:00",
      "update": "2022-09-19T08:49:02+00:00",
      "content": "実はさっき2022年3月に公開された\n「BIZ UD」フォントが「Google Fonts」へ ～モリサワのユニバーサルフォント - 窓の杜 という記事を見つけたのだが，この中で\nTrueType版に関しては教育現場で利用されることを考慮し、「IPAフォント」v003（最新）に収録されている全文字をカバーしているという 「BIZ UD」フォントが「Google Fonts」へより という記述1 を見て「え？ じゃあ 神（U+FA19）とか ㈱（U+3231）とかが表示できないのおかしくね？」と思い，もう少し真面目に調べてみた。\nしたら，収録文字を制限してるのはどうやら Bunny Fonts 側のようなのだ。 Google Fonts で BIZ UD フォントを検索したら「神」も「㈱」も「①」もちゃんと表示してくれた。\nたぶん Bunny Fonts は文字数を抑えるためにわざと JIS X 0208 の範囲しか収録してないんだろうね（邪推）。 でも異体字セレクタで指示する「葛󠄀（U+845B U+E0100）」なんかは Bunny Fonts でも表示できるっぽいんだよなぁ。 基準が分からん。\nとりあえず BIZ UD フォント側を疑ってまじすんません \u0026#x1f647;\n正直このブログでは機種依存文字（古語）や異体字等は割と使うので削られると困るし Bunny Fonts を使う限り NOTO JP フォントでも同じようになるみたいなので，泣く泣く Google Fonts に戻すことにした。 そんで，どうせ Google Fonts に戻すならモリサワ BIZ UD フォントで全然問題ないやろ，ということで最終的に以下の指定で Web フォントを読み込んでいる。\n\u0026lt;link rel=\u0026#34;preconnect\u0026#34; href=\u0026#34;https://fonts.googleapis.com\u0026#34;\u0026gt; \u0026lt;link rel=\u0026#34;preconnect\u0026#34; href=\u0026#34;https://fonts.gstatic.com\u0026#34; crossorigin\u0026gt; \u0026lt;link href=\u0026#34;https://fonts.googleapis.com/css2?family=BIZ+UDGothic:wght@400;700\u0026amp;family=BIZ+UDMincho\u0026amp;family=Inconsolata:wght@400;700\u0026amp;family=Noto+Color+Emoji\u0026amp;family=Noto+Sans:wght@400;700\u0026amp;family=Noto+Serif\u0026amp;display=swap\u0026#34; rel=\u0026#34;stylesheet\u0026#34;\u0026gt; 簡単に言うと日本語部分のみ BIZ UD ゴシック/明朝フォントを使い，それ以外は従来の NOTO フォント及び Inconsolata フォントを使う感じ。 これで英文の引用や\nAs a best practice, remember to consume software from the official project repos and watch out for potential typosquats or repository forks/clones that may appear identical to the original project but hide malware. via 35,000 code repos not hacked—but clones flood GitHub to serve malware プログラム・コードは\npackage main import \u0026#34;fmt\u0026#34; func main() { fmt.Println(\u0026#34;Hello, 世界\u0026#34;) } 従来どおりに表示するようにしている。\nほんじゃあ，まぁ，これからこれで行きますかね。 モリサワ BIZ UD フォントで表示できない文字が出てきたら最終的に NOTO JP フォントにまで巻き戻すかも知れんけど（笑）\nブックマーク Google Fonts が日本語に対応してた Google Fonts から Bunny Fonts に乗り換える IPAex フォントのほうは2019年に Ver.004.01 が出ている。例の令和の合字「㋿（U+32FF）」への対応である。ただ BIZ UD フォントはこの字もちゃんと含んでいるように見える。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n"
    },
    {
      "title": "2022-09-18 のブックマーク",
      "section": "bookmarks",
      "description": "「『シン・ウルトラマン』の宇宙「プランクブレーン」は現実にあるのか」他",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/bookmarks/2022/09/18-bookmarks/",
      "published": "2022-09-18T03:33:43+00:00",
      "update": "2022-09-18T12:34:15+00:00",
      "content": "リリース情報 Release 9.1.7 · mermaid-js/mermaid · GitHub Release August 2022 Recovery 2 · microsoft/vscode · GitHub Release v0.103.0 · gohugoio/hugo · GitHub 「Thunderbird 102.2.2」が公開 ～先週に続くアップデート - 窓の杜 LibreOffice 7.3.6 Community has been released - The Document Foundation Blog LibreOffice 7.4.1 Community available for download - The Document Foundation Blog セキュリティ＆プライバシー関連 What we learned (and can share) from passing our SOC 2 Type II audit · Tailscale 英国：あなたのポケットにスパイを送る「オンライン安全法案」のCSAM対策 | p2ptk[.]org GIFShell attack creates reverse shell using Microsoft Teams GIFs Facebook login button disappearing from websites on privacy concerns : 企業サイトなどが Facebook アカウントとの連携機能を外す傾向にあるらしい。別に閲覧者のプライバシーに配慮しているわけではなく，単にネットにおける Facebook のプレゼンスが低下してるってだけみたいだが（笑） インシデント発生時のチーム対応を支援する「Grafana Incident」、無料でGrafana Cloudが提供。SlackやGitHubなどと連携 － Publickey チョークポイント資本主義 「ブロックチェーン・バーチャル搾取工場」の怖い話 | p2ptk[.]org 『チョークポイント資本主義』：クリエイターを搾取し続けるテック業界とコンテンツ業界の独占的支配 | p2ptk[.]org 知財関連 Denoのライアン・ダール氏「親愛なるオラクル殿、どうかJavaScriptの商標を手放して」と呼びかけ － Publickey LINE、国⽴国会図書館のデジタル化資料247万点をテキストデータ化 - ケータイ Watch Azure や Windows に関する話題 「Windows 10 バージョン 21H1」のサービス終了まであと3カ月 ～Microsoftが注意喚起 - 窓の杜 Go 言語関連 Goでのスクレイピングに使っていたgoqueryをcollyに置き換えてみた - Qiita Big Sky :: unsafe.StringData、unsafe.String、unsafe.SliceData が入った。 actions/setup-goでgo.modを参照してGoのバージョン利用する Golangでssh Proxy経由でのssh接続を行わせる(多段プロキシ) | 俺的備忘録 〜なんかいろいろ〜 OPA/Regoによる汎用的なGo言語の静的解析 Goコンパイラディレクティブのgo:linknameとtime.Now()のモック : テストで使える？ 天文関連 MIT Tech Review: NASAより安くて早い民間初の金星探査ミッション、23年打ち上げへ その他 《自分の理解に関心を持つ》（前編・後編）（結城浩ミニ文庫）｜結城浩 : 買った 「部屋で服を着替えるとPCがスリープから復帰する」という謎の現象が報告される、一体なぜ？ - GIGAZINE Signal \u0026raquo; Blog \u0026raquo; A Message from Signal\u0026rsquo;s New President Flutter 3.3がリリース。パフォーマンスの改善、テキスト周りの改善、iOS向け高速な描画レイヤ「Impeller」を試験的実装 － Publickey AIで音楽をボーカル・ドラム・ベース・その他に分離できる「Demucs」【レビュー】 - 窓の杜 伸ばすのが難しい能力：柴田 芳樹 (Yoshiki Shibata)：SSブログ : これらの能力を伸ばすのが難しいのは主に組織開発で要求される能力だからじゃないかと邪推している Deno、早くもnpm対応と3倍高速化したHTTPサーバAPIなどを実装した「Deno 1.25」をリリース － Publickey 『シン・ウルトラマン』の宇宙「プランクブレーン」は現実にあるのか｜物理の4大定数｜小谷太郎 - 幻冬舎plus マイクロソフト、Linux版SQL Server 2022のリリース候補版を公開。Azure Active Directory対応など － Publickey 「連邦取引委員会はAmazonのiRobot買収を阻止せよ」――20を超える市民社会団体がFTCにオープンレターを送付 | p2ptk[.]org マイクロソフトの調査にみるコードのオーナーシップと品質の関係 - mtx2s’s blog Kiwi Farms問題とインターネット・キュレーションの滑り坂――インフラはコンテンツに責任を負うべきか | p2ptk[.]org Scaling Git’s garbage collection | The GitHub Blog 言語間の整数型範囲まとめ · GitHub : ありがたや Google cancels half the projects at its internal R\u0026amp;D group Area 120 • TechCrunch Gartner Says Banking-as-a-Service Will Hit Mainstream Adoption Within Two Years Docker Desktop 4.12登場。ターミナル機能の統合、containerdによるイメージ管理、Dockerボリュームのバックアップなど新機能 － Publickey 「今こそ反SLAPP法の制定を」：米議会にスラップ訴訟規制法案が提出される | p2ptk[.]org 技術書典13の執筆環境にVivliostyleを採用しました a16zが提唱するNFT向け「Can’t Be Evil」ライセンスとクリエイティブ・コモンズのNFTに対する見解 - YAMDAS現更新履歴 マイクロソフト、「.NET 7」にDockerコンテナイメージ生成機能を搭載、Dockerファイル不要に － Publickey 日本語の指示に特化した画像生成AI「Stable Diffusion」の派生版をrinnaが開発 - 窓の杜 「WebView2」がUWP開発でも利用可能に ～古いアプリのChromium/Blink移行に期待 - 窓の杜 Ethereum switches to proof-of-stake consensus after completing The Merge • TechCrunch MIT Tech Review: イーサリアムの「ザ・マージ」が完了、6年越しでPoSへ移行 「Unicode 15.0」が公開 ～新しい絵文字20種を含む4,489の新たな文字が追加 - 窓の杜 1.1.1.1：パブリックDNSへのブロッキング命令に抗うCloudflare | p2ptk[.]org モリサワの「UD書体」が「Google Workspace」「ChromeOS」「Android」で利用可能に - 窓の杜 "
    },
    {
      "title": "はじめての空気圧チェック",
      "section": "remark",
      "description": "おぅふ！ 思ったより抜けている。",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2022/09/pound-force-per-square-inch/",
      "published": "2022-09-17T01:28:18+00:00",
      "update": "2022-09-24T12:34:28+00:00",
      "content": "先週，自転車を受け取った際に色々とアドバイスを頂いたのだが（専門店はこういうところがありがたい），そのひとつが「通勤で毎日乗るのなら週に1度は空気圧チェックをすること」だった。\nというわけで，はじめての空気圧チェック（笑）\n空気圧チェック | Flickr おぅふ！ 思ったより抜けている。 確かにこれなら毎週チェックせんとあかんな。\nちなみに今回買った自転車はオフロード寄りのクロスバイクで太いタイヤで（いわゆるママチャリ等よりは）空気圧指定も高めになっているそうな。 タイヤの刻印をみると 50-85 psi (pound-force per square inch) とあるが，店員さんには「上限ギリギリまで入れてはいけない」とも言われているので 75 psi で調整1（これも指導してもらった）。\nちなみに\n$$ 1\\,\\mathrm{atm} = 1.01325\\,\\mathrm{bar} = 101,325\\,\\mathrm{Pa} $$ で2，さらに\n$$ 7\\,\\mathrm{bar} = 101.526\\,\\mathrm{psi} $$ なんだそうな（空気入れのメータを見てもそんな感じ）。 つまり $75\\,\\mathrm{psi}$ は概ね $5.2\\,\\mathrm{bar}=5.2\\times10^2\\,\\mathrm{kPa}$ ($5.1\\,\\mathrm{atm}$) ってところか。\n実はフレンチ・バルブ自体がはじめての経験で，空気入れも専用のものを購入している。 店頭ハンズオンでも一度試させてもらっているのだが，結構気を使うのな（乱暴に扱うとバルブが折れるらしい。バルブが折れたら全取っ替え）。 これも慣れないとなー。\nブックマーク 自転車タイヤの空気圧単位 最も使われている単位と変換方法について解説します | CBN Blog 参考図書 理科年表 2020 国立天文台 (編集) 丸善出版 2019-11-20 文庫 4621304259 (ASIN), 9784621304259 (EAN), 4621304259 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 日本における令和への改元や国際単位系（SI）の定義改定などに関するトピックを多く掲載。2020年版は（保存用として）買いかも。\nreviewed by Spiegel on 2019-12-08 (powered by PA-APIv5)\n“psi” は「ぴーえすあい」呼びでいいらしい。「ぷさい」と呼ぶ人もいるそうだがギリシャ文字の $\\psi$ とは関係ないようだ（笑）\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n“atm” は標準大気圧（standard atmosphere）を 1 とした単位。 SI 単位系では $1\\,\\mathrm{atm}=101,325\\,\\mathrm{Pa}$ と定義されている。“bar” は「ばーる」と読む。大昔の天気予報で気圧を mb (ミリバール) で表記していたあの「バール」である。本文を見れば分かる通り SI 単位系では $1\\,\\mathrm{bar}=100,000\\,\\mathrm{Pa}$ で換算できる。ちなみに $\\mathrm{Pa}$ は $\\mathrm{N}/\\mathrm{m}^2$ または $\\mathrm{kg}\\,\\mathrm{m}^{-1}\\,\\mathrm{s}^{-2}$ と等価。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n"
    }
  ]
}
