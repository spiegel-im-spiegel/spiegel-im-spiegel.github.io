{
  "title": "text.Baldanders.info",
  "url": "https://text.baldanders.info/",
  "feed": "https://text.baldanders.info/index.xml",
  "description": "帰ってきた「しっぽのさきっちょ」",
  "entry": [
    {
      "title": "gpgpdump v0.13.0 をリリースした",
      "section": "release",
      "description": "ようやく draft-ietf-openpgp-crypto-refresh-04 に追従できた。",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/release/2021/11/gpgpdump-v0_13_0-is-released/",
      "published": "2021-11-10T12:43:49+00:00",
      "update": "2021-11-10T13:03:56+00:00",
      "content": "OpenPGP パケットの内容を可視化する gpgpdump の v0.13.0 をリリースした。\n Release v0.13.0 · spiegel-im-spiegel/gpgpdump · GitHub  先月（2021-10-18）に draft-ietf-openpgp-crypto-refresh-04 が出てたんだけど，ようやく追従できた。 つってもまだ精査できてないんだよね。 細かいところはおいおい直していきます。\nというか，そろそろ出力をちゃんと構造化テキストで出せるようにしたいんだけど，本業ががが\u0026hellip;\nちなみに draft-ietf-openpgp-crypto-refresh は draft-ietf-openpgp-rfc4880bis を再構成したもので2021年から検討が始まっている。 現行の RFC 4880 の互換性は維持しつつ AEAD に対応したりと機能拡張が検討されている。\nブックマーク  OpenPGP の実装 OpenPGP パケットを可視化する gpgpdump  参考図書   暗号化 プライバシーを救った反乱者たち スティーブン・レビー (著), 斉藤 隆央 (翻訳) 紀伊國屋書店 2002-02-16 単行本 4314009071 (ASIN), 9784314009072 (EAN), 4314009071 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  20世紀末，暗号技術の世界で何があったのか。知りたかったらこちらを読むべし！\nreviewed by Spiegel on 2015-03-09 (powered by PA-APIv5)\n   暗号技術入門 第3版　秘密の国のアリス 結城 浩 (著) SBクリエイティブ 2015-08-25 (Release 2015-09-17) Kindle版 B015643CPE (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  SHA-3 や Bitcoin/Blockchain など新しい知見や技術要素を大幅追加。暗号技術を使うだけならこれ1冊でとりあえず無問題。\nreviewed by Spiegel on 2015-09-20 (powered by PA-APIv5)\n "
    },
    {
      "title": "それはワンタイム・パスワードの問題ではない",
      "section": "remark",
      "description": "道具は適切に組み合わせないと所定の性能を発揮できない。 ",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2021/11/out-of-band-devices/",
      "published": "2021-11-07T09:28:00+00:00",
      "update": "2021-11-09T12:10:34+00:00",
      "content": "いやさ\n 狙われるワンタイムパスワード、多要素認証を破る闇サービスが浮上：この頃、セキュリティ界隈で（1/2 ページ） - ITmedia NEWS  て酷い釣りタイトルだよな，と思いつつモニタにツッコんでしまったよ（笑）\nハッキリ言おう。 それはワンタイム・パスワードの問題ではない。\nワンタイム・パスワードに問題がないわけではない。 NIST SP 800-63B によればスマホの TOTP アプリや専用のワンタイム・パスワード機器は「単要素 OTP デバイス（Single-Factor One-Time Password (OTP) Device）」と呼ばれる。 これはタイプとしては「知識」ではなく「所有」に分類される。 所有型の Authenticator には紛失・盗難のリスクが伴う。 また，基本的に OTP は認証する側とされる側との間で最初にシークレットを共有する必要があり（特にアプリでは）シークレットの受け渡しと管理の問題が発生するが，認証の段階でこのシークレットをやり取りすることはない。\nしかし，上の記事の「ワンタイムパスワード」はこれとは異なる。 SMS やチャット・アプリ等を通してサービスプロバイダから使い捨てシークレットを通知し，シークレットをもらったユーザは通知を受けたチャネルとは別のチャネル（大抵はスマホ・アプリかブラウザで表示される Web ページ）でシークレットを返す。 送ったシークレットと返ってきたシークレットを比較して認証を行うわけだ。 こうした仕組みは NIST SP 800-63B の分類では「経路外デバイス（Out-of-Band Devices）」と呼ばれている。\n経路外デバイスが筋が悪いのは攻撃者から見て攻撃ポイントが多いことだ。 上の記事で示される事例はまさにそこを突かれて認証を突破されている。\n以前に拙文「Authenticator と AAL」で紹介したが，元々 NIST は SMS を使った認証を非推奨（または禁止）にするつもりだった。\n SMSを使った二要素認証を非推奨〜禁止へ、米国立技術規格研究所NISTの新ガイダンス案 | TechCrunch Japan  しかしその後，色々あったようで，最終的には “RESTRICTED Authenticator” という位置づけまで緩和されてしまった。\n The use of a RESTRICTED authenticator requires that the implementing organization assess, understand, and accept the risks associated with that RESTRICTED authenticator and acknowledge that risk will likely increase over time. It is the responsibility of the organization to determine the level of acceptable risk for their system(s) and associated data and to define any methods for mitigating excessive risks. If at any time the organization determines that the risk to any party is unacceptable, then that authenticator SHALL NOT be used.  via NIST Special Publication 800-63B  でも，結局その「温情措置」が重大なセキュリティ・インシデントを招いているのだから「なんだかなぁ」という感じである。 電子メールや VoIP が経路外デバイスとして NG なら SMS だって NG だろう。\nAuthenticator による認証には3つのレベル（Authenticator Assurance Level; AAL）があるが，最初の記事の事例にあるような「暗号資産」を扱う重要な決済システムなら AAL3 は必須だろうし，そうであるなら認証手段として経路外デバイスを選択するのはあり得ない。 これは「闇」でも何でもなく，単にサービス・プロバイダが間抜けで迂闊だったというだけの話である。\n道具は適切に組み合わせないと所定の性能を発揮できない。 私達エンジニアはこのことを肝に銘じておくべきだし，利用者としても「利便性はセキュリティとトレードオフできない」ことは知っておくべきだろう。\n参考図書   セキュリティはなぜやぶられたのか ブルース・シュナイアー (著), 井口 耕二 (翻訳) 日経BP 2007-02-15 単行本 4822283100 (ASIN), 9784822283100 (EAN), 4822283100 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  原書のタイトルが “Beyond Fear: Thinking Sensibly About Security in an Uncertain World” なのに対して日本語タイトルがどうしようもなくヘボいが中身は名著。とりあえず読んどきなはれ。ゼロ年代当時 9.11 およびその後の米国のセキュリティ政策と深く関連している内容なので，そのへんを加味して読むとよい。\nreviewed by Spiegel on 2019-02-11 (powered by PA-APIv5)\n   信頼と裏切りの社会 ブルース・シュナイアー (著), 山形 浩生 (翻訳) NTT出版 2013-12-24 単行本（ソフトカバー） 4757143044 (ASIN), 9784757143043 (EAN), 4757143044 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  社会における「信頼」とは。\nreviewed by Spiegel on 2015-11-28 (powered by PA-APIv5)\n "
    },
    {
      "title": "Go 1.17.3 のリリース【セキュリティ・アップデート】",
      "section": "release",
      "description": "2件の脆弱性の修正を含んでいる。",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/release/2021/11/go-1_17_3-is-released/",
      "published": "2021-11-07T03:44:04+00:00",
      "update": "2021-11-07T03:45:03+00:00",
      "content": "Go 1.17.3 がリリースされたので，遅まきながら書いておく。\n [security] Go 1.17.3 and Go 1.16.10 are released  今回は2件の脆弱性の修正を含んでいる。\ngo1.17.3 (released 2021-11-04) includes security fixes to the archive/zip and debug/macho packages, as well as bug fixes to the compiler, linker, runtime, the go command, the misc/wasm directory, and to the net/http and syscall packages. See the Go 1.17.3 milestone on our issue tracker for details. via Release History - The Go Programming Language  CVE-2021-41772 Reader.Open (the API implementing io/fs.FS introduced in Go 1.16) can be made to panic by an attacker providing either a crafted ZIP archive containing completely invalid names or an empty filename argument. via Go 1.17.3 and Go 1.16.10 are released  （以下未稿）\nCVE-2021-41771 Malformed binaries parsed using Open or OpenFat can cause a panic when calling ImportedSymbols, due to an out-of-bounds slice operation. via Go 1.17.3 and Go 1.16.10 are released  （以下未稿）\n例によって\u0026hellip; Ubuntu の APT で管理している Go コンパイラは古いので，ダウンロードページからバイナリ（go1.17.3.linux-amd64.tar.gz）を取ってきて手動でインストールすることを強く推奨する。 以下は手動での作業例。\n$ cd /usr/local/src $ sudo curl -L \u0026#34;https://golang.org/dl/go1.17.3.linux-amd64.tar.gz\u0026#34; -O $ cd .. $ sudo unlink go # 以前の Go が入っている場合 $ sudo tar xvf src/go1.17.3.linux-amd64.tar.gz $ sudo mv go go1.17.3 $ sudo ln -s go1.17.3 go $ go version # /usr/local/go/bin にパスが通っている場合 go version go1.17.3 linux/amd64 アップデートは計画的に。\n参考図書   プログラミング言語Go アラン・ドノバン (著), ブライアン・カーニハン (著), 柴田芳樹 (著) 丸善出版 2016-06-20 (Release 2021-07-13) Kindle版 B099928SJD (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  Kindle 版出た！ 一部内容が古びてしまったが，この本は Go 言語の教科書と言ってもいいだろう。感想はこちら。\nreviewed by Spiegel on 2021-05-22 (powered by PA-APIv5)\n "
    },
    {
      "title": "2021-11-07 のブックマーク",
      "section": "bookmarks",
      "description": "「米政府、スパイウェア「Pegasus」開発企業を禁輸リストに追加」他",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/bookmarks/2021/11/07-bookmarks/",
      "published": "2021-11-07T02:33:28+00:00",
      "update": "2021-11-07T02:36:53+00:00",
      "content": "リリース情報  Tailscale v1.16 · Tailscale Release Unicode 14.0 · googlefonts/noto-emoji · GitHub Fine Grained File Filters | Hugo  Release v0.89.0 · gohugoio/hugo · GitHub Release v0.89.1 · gohugoio/hugo · GitHub   Release v1.43.0 · golangci/golangci-lint · GitHub Release v1.0.27 · sonatype-nexus-community/nancy · GitHub Release October 2021 · microsoft/vscode · GitHub Announcement of LibreOffice 7.1.7 Community - The Document Foundation Blog Firefox 94.0, See All New Features, Updates and Fixes  Firefox 94.0.1, See All New Features, Updates and Fixes   Thunderbird — Release Notes (91.3.0) — Thunderbird  無料メールソフト「Thunderbird」v91.3.0が公開 ～深刻度「high」を含む10件の脆弱性を修正 - 窓の杜    セキュリティ＆プライバシー関連  Security advisory for rustc (CVE-2021-42574) | Rust Blog Trojan Source: Invisible Vulnerabilities - trojan-source.pdf   Hiding Vulnerabilities in Source Code - Schneier on Security   BIND 9.xにリゾルバの大幅なパフォーマンス低下につながる脆弱性 | TECH+ macOS向け端末エミュレータ「iTerm2」を偽装する攻撃手口を解説 米国がスパイウェア「Pegasus」問題でセキュリティ企業NSOグループとの取引を禁止 | TechCrunch Japan  US Blacklists NSO Group - Schneier on Security 米政府、スパイウェア「Pegasus」開発企業を禁輸リストに追加 - ZDNet Japan   オムニECサイトへの不正アクセスについてまとめてみた - piyolog 狙われるワンタイムパスワード、多要素認証を破る闇サービスが浮上：この頃、セキュリティ界隈で（1/2 ページ） - ITmedia NEWS : 「ワンタイムパスワード」で括るんじゃねーよ。それは「経路外デバイス」の問題であって「ワンタイムパスワード」の問題ではない！ IAPのリクエストヘッダから取得したemailを使って細かな権限管理をする マジックリンク認証の落とし穴 更新：「Movable Type」の XMLRPC API における OS コマンド・インジェクションの脆弱性について（JVN#41119755）：IPA 独立行政法人 情報処理推進機構  Movable TypeのXMLRPC APIにおける脆弱性（CVE-2021-20837）に関する注意喚起    Linux または Ubuntu に関する話題  Ubuntu 22.04 その6 - PHP 8.1への移行計画 - kledgeb ［速報］Microsoft Edge for Linux正式版がリリース。Ignite 2021 － Publickey  Linux その94 - Microsoft Edge Stable版（安定版）がリリースされました・Microsoft Edge Stableをインストールするには - kledgeb   [root tip] systemd mount unit samples - Tutorials - Manjaro Linux Forum  Azure や Windows に関する話題  （追記）トラブルシューティング｜scoop / nyagos で始めるコマンドライン生活 マイクロソフト、コンテナをサーバレスで実行する「Azure Container Apps」発表。KEDAとDaprを採用。Ignite 2021 － Publickey 「Windows 10 バージョン21H1」の提供制限は解除、広範な展開へ移行 - 窓の杜  Go 言語関連  Organizing PostgreSQL codebase using templates in Golang - MigOps GitHub - gobwas/glob: Go glob : 標準の正規表現パッケージの代わりに使えるか？ GitHub - MangoDB-io/MangoDB: A truly Open Source MongoDB alternative : Go 製 mongoDB GitHub - zetamatta/go-unicodesemigraphics GitHub - davidschlachter/embedded-struct-visualizer: Tool to visualize the graph of embedded structs in Go projects entのProtocol BuffersスキーマとgRPCサービスのコード生成機能を試したみた  天文関連  Ubuntu 21.10 その29 - Raspberry Pi Zero 2 Wの登場とUbuntu Serverのサポート状況 - kledgeb 第一赤道儀室、三鷹で越えた1世紀 | 国立天文台(NAOJ) Earth\u0026rsquo;s spin has slowed. But we still may need a negative leap second. | Live Science : 2021年前半はちょっと自転速度が速かったらしい。ここ10年以内にマイナスの閏秒があり得るかもという話 Hubble Gives Unprecedented, Early View of a Doomed Star\u0026rsquo;s Destruction | NASA : Hubble 宇宙望遠鏡が超新星の極初期の状態を発見したという話  その他  内容に応じてサイズが可変する \u0026lt;textarea\u0026gt; を素敵に実装する - Qiita GitHub ActionsがOpenID Connectをサポート。GitHubからクラウドへのデプロイがより安全に － Publickey グローバルのクラウドインフラ市場トップ3は、AWSが33％、マイクロソフトが20％、Googleが10％。2021年第3四半期、Synergy Researchとcanalysの調査結果 － Publickey GitHub上にあるリポジトリに対してAPIを通じてgit grepライクに走査できるツール gh-grep (gh grep) を作った - Copy/Cut/Paste/Hatena which is not POSIX : ls コマンドは実は POSIX 標準ではないという話 AWS、新たな責任共有モデルの「Amazon RDS Custom for Oracle」リリース。マネージドサービスでありつつホストへSSH、データベースやOSのカスタマイズが可能 － Publickey AIとペアプロする「GitHub Copilot」がneovimとIntelliJ IDEAでも利用可能に、テクニカルプレビューとして － Publickey Facebook Drops Facial Recognition to Tag People in Photos | WIRED : 顔認識を放棄したわけではないらしい Azureがカオスエンジニアリングツール「Chaos Studio」を発表 | TechCrunch Japan Microsoft Teamsも3Dアニメアバターを採用、来るべきメタバースの時代のために | TechCrunch Japan Firefoxモバイルブラウザーがアップデート、最近のタスクにすばやくアクセス可能に | TechCrunch Japan 日本企業が放置してきた「Toil」のもたらす問題 - ZDNet Japan Google Maps API を使ってみた - Qiita デヴィッド・グレーバーの遺作を知り、ブレイディみかこさんに謝りたくなったのを思い出した - YAMDAS現更新履歴 : 『何もしない』はまだ読んでない Chrome 97のDevToolsに新機能、Webブラウザ上の操作を記録、再実行、編集、保存。Puppeteerスクリプトへのエクスポートも － Publickey : なにそれこわい Microsoft Power AppsでiOS/Androidのネイティブアプリ開発が可能に。Iginte 2021 － Publickey テキストエディタ「Vim」が30周年を迎える - GIGAZINE 欧州議会への書簡：デジタルサービス法は表現の自由・プライバシー・人権を損ねるものであってはならない | P2Pとかその辺のお話R Tencentのチップ開発進出はまったく驚くべきことではない | TechCrunch Japan Google Play、韓国の「反グーグル法」に基づき自社外の課金システム導入に対応 | TechCrunch Japan GitHubのフリードマンCEOが退任へ\u0026ndash;現CPOが後任に - ZDNet Japan “後部席ヒーターはサブスクです”の衝撃｜塚本 牧生｜note  "
    },
    {
      "title": "ピクミンとメタなあれ",
      "section": "remark",
      "description": "これなら無茶して膝を痛めるとかにはならないだろう（笑）",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2021/11/pikmin-bloom/",
      "published": "2021-11-06T12:12:45+00:00",
      "update": "2021-11-06T13:54:38+00:00",
      "content": "恥ずかしながら私， Ingress のときはどハマりしたのよ。 その挙句に膝を痛めちゃいまして，この手のゲームからはずっと遠ざかっていたのだけど，そろそろ再開しようかなと。 かかりつけ医からも「もっとウォーキングとかしなさい」と言われてるしね。\nちうわけで Pikmin Bloom 始めました。\n  Pikmin Bloom トレーラー - YouTube  これなら無茶して膝を痛めるとかにはならないだろう（笑） まぁ，ノンビリやりますよ。\nなお Pikmin Bloom は Google Fit との連携が必須みたい。 あと位置情報へのアクセスを常に有効にする必要があるので，そーゆーのを気にする人はやらないほうがいいだろう。\nNiantic といえば（Twitter で教えてもらったが）こんな記事がある。\n メタバースはディストピアの悪夢です。より良い現実の構築に焦点を当てましょう。 – Niantic  これ，8月に書かれた記事らしいんだけど，現時点で見ると社会的追求から逃れるために社名を変えた某企業に対する当てつけにも見えて面白い（笑）\nまぁ，ハビタットとか Second Life とか見てきた側としては企業主導のメタバース（metaverse）に夢見る年頃ではなくなってしまったんだよなぁ。 メタバースで長く続いてるのって Minecraft くらいじゃないの？\nそれはともかく『スノウ・クラッシュ』は私も名作だと思う。 で，これは知らなかったのだが，どうやら絶版状態だったらしい。 そんで，最近「メタバース」がバズったことで復刊することになったようだ。\n メタバースの原典、『スノウ・クラッシュ』が復刊　早川書房から2022年1月に出版予定 - ITmedia NEWS  めでたい！ 紙の本は持ってるので，是非デジタル版も出してほしい。\n復刊するという噂があるので、今のうちに持ってることを自慢しておく（笑） | Flickr  ブックマーク  歩いて増やす、歩いて咲かせる、歩いてのこす。『Pikmin Bloom（ピクミン ブルーム）』配信開始。 | トピックス | Nintendo 歩いて増やす、歩いて咲かせる、歩いて残す。「Pikmin Bloom」で毎日の散歩や通勤をピクミンたちとの「楽しいおでかけ」に – Niantic 本日より、お気に入りのユーザー名をNiantic IDとして登録できます！ – Niantic  参考図書   スノウ・クラッシュ〈上〉 (ハヤカワ文庫SF) ニール スティーヴンスン (著), Stephenson,Neal (原著), 雅通, 日暮 (翻訳) 早川書房 2001-04-01 文庫 4150113513 (ASIN), 9784150113513 (EAN), 4150113513 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  1990年代前半の「凋落する米国」の延長線上の未来って感じ。世にある IT 系のアイデアは大抵この作品が元ネタだったりする。そのくらい名作。\nreviewed by Spiegel on 2021-11-06 (powered by PA-APIv5)\n   電脳コイル 折笠富美子 (出演), 桑島法子 (出演), 矢島晶子 (出演), 朴璐美 (出演), 小島幸子 (出演), 麻生智久 (出演), 斉藤梨絵 (出演), 鈴木れい子 (出演), 野田順子 (出演), 小林由美子 (出演), 梅田貴公美 (出演), 山口眞弓 (出演), 沼田祐介 (出演), 進藤尚美 (出演), 遊佐浩二 (出演), 日比愛子 (出演), 中尾みち雄 (出演), 金月真美 (出演), 堂ノ脇恭子 (出演), 西脇保 (出演), 水野龍司 (出演), 磯光雄 (監督), 三ツ木早苗 (プロデュース), 渡辺繁 (プロデュース), 松本寿子 (プロデュース), 磯光雄 (Writer)  (Release 2018-11-09) Prime Video B07JQQTH3P (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  日本で AR といったらこれだろう！\nreviewed by Spiegel on 2021-11-06 (powered by PA-APIv5)\n   BOOM TOWN TRIP.30 内田美奈子 (著) Jコミックテラス 2020-11-11 (Release 2020-11-11) Kindle版 B08MTK6LF3 (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  掲載誌「コミックガンマ」が休刊になって単行本収録できなかったまるぼしまぼろしの30話。これが Kindle で読めるとはいい時代になったものです。\nreviewed by Spiegel on 2016-06-05 (powered by PA-APIv5)\n "
    },
    {
      "title": "Ubuntu 21.10 へのアップグレード（本番）",
      "section": "remark",
      "description": "日本語入力は問題なし / mount.cifs で手こずる / GnuPG が古すぎる / OpenSSH と OpenSSL はこのままでいいか",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2021/11/upgrade-ubuntu-21_10-part-2/",
      "published": "2021-11-06T11:49:34+00:00",
      "update": "2021-11-13T01:33:39+00:00",
      "content": "前回の続き。\nUbuntu 21.10 日本語 Remix が登場したので，自宅のサブマシンに真っさらからインストールしてみたが，前回アレだった日本語周りも特に問題なく動いてる感じなので，いよいよメインマシンをアップグレードすることにした。\nアップグレード作業自体は滞りなく完了。\n 日本語入力周りは問題なく動いている。 Ubuntu コミュニティのご尽力に感謝 前回書いたとおり Firefox は Snap 版になっていたが，こちらも問題なし。日本語フォント周りも壊れることなくちゃんと設定された Thunderbird が 91 系にアップグレードされている。今のところは特に問題なし LibreOffice が 7.2 系にアップグレードされている。 OpenPGP で暗号化したファイルもちゃんと開けるし，問題ないだろう KeePassXC は 21.10 リリース以降アップデートされてないため APT リポジトリを impish に切り替えれない（apt update でワーニングが出る）しばらくは様子見か 同じく pgAdmin4 も 21.10 リリース以降アップデートされてないため APT リポジトリを impish に切り替えれない。こちらもしばらくは様子見  Japanese Team の APT パッケージ・リポジトリは以下のコマンドで追加できる。\n$ sudo wget https://www.ubuntulinux.jp/ubuntu-jp-ppa-keyring.gpg -P /etc/apt/trusted.gpg.d/ $ sudo wget https://www.ubuntulinux.jp/ubuntu-ja-archive-keyring.gpg -P /etc/apt/trusted.gpg.d/ $ sudo wget https://www.ubuntulinux.jp/sources.list.d/impish.list -O /etc/apt/sources.list.d/ubuntu-ja.list $ sudo apt update mount.cifs で手こずる アップグレードして再起動したら NAS に接続できなくなったのには焦った。\nもしかしたら Ubuntu 21.04 以降で Active Directory に対応したことが影響してるのかも知れないが， SMB でマウントする際の認証情報で domain または workgroup オプションでドメイン名またはワークグループ名を明示しないとダメぽいみたい。 でも，なんで前のバージョンで上手くいってたのか\u0026hellip;\nまぁ，でも，今は /etc/fstab ファイルで設定するのは時代遅れみたいなので，見直しが必要かなぁ。\n [root tip] systemd mount unit samples - Tutorials - Manjaro Linux Forum  GnuPG が古すぎる GnuPG は\n$ gpg --version gpg (GnuPG) 2.2.20 libgcrypt 1.8.8 Copyright (C) 2020 Free Software Foundation, Inc. License GPLv3+: GNU GPL version 3 or later \u0026lt;https://gnu.org/licenses/gpl.html\u0026gt; This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law. Home: /home/username/.gnupg サポートしているアルゴリズム: 公開鍵: RSA, ELG, DSA, ECDH, ECDSA, EDDSA 暗号方式: IDEA, 3DES, CAST5, BLOWFISH, AES, AES192, AES256, TWOFISH, CAMELLIA128, CAMELLIA192, CAMELLIA256 ハッシュ: SHA1, RIPEMD160, SHA256, SHA384, SHA512, SHA224 圧縮: 無圧縮, ZIP, ZLIB, BZIP2 と，相変わらず古すぎる。 2.3 系にしないのは仕方ないとしても，せめて 2.2.32 相当には上げておかないと拙いと思うのだが，その気配はないよね。\nOpenSSH と OpenSSL はこのままでいいか OpenSSH と OpenSSL は\n$ ssh -V OpenSSH_8.4p1 Ubuntu-6ubuntu2, OpenSSL 1.1.1l 24 Aug 2021 となっている。 バックポート・パッチが当たっているはずなので，あまり気にしてない。 次の LTS バージョンである Ubuntu 22.04 では OpenSSL 3.0 に上げるらしいので，おとなしく待つことにしよう。\nやっぱ問題は GnuPG だよな。 まぁ，サブマシンを真っさらの Ubuntu 機にできたので，これを使って GnuPG 2.3 系の実験を始めるのもいいかも知れない。\nブックマーク   Ubuntu 21.10 その34 - Ubuntu 21.10 日本語 Remixがリリースされました・ディスクイメージのダウンロード - kledgeb\n  CIFS 経由で NAS に接続する\n  "
    },
    {
      "title": "れいわ時代の「多文化主義的エポケー」",
      "section": "remark",
      "description": "無効票にも白票にもならないようちゃんと投票した私を誰か褒めてくれ（笑）",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2021/11/the-exclusive-society/",
      "published": "2021-11-02T11:19:28+00:00",
      "update": "2021-11-02T11:19:54+00:00",
      "content": "さて，総選挙も終わったことやし，そろそろ愚痴のひとつも書いてええじゃろ。\nとはいえ，選挙に関する感想は2年前と同じ。\n  選挙ってのは「自分の意志で選択した」という事実を以って結果を（それがたとえ不本意でも）受け入れる，という儀式的側面があると思うのだが，これじゃあねぇ。 [...] そもそも「候補者がいない」という議論の前提 (ちゃぶだい) がひっくり返されている状況で，どうせよというのだ  選挙期間中の戯れ言より  いや，割と直前まで平仮名で「きしだあきこ」とか書こうか迷ったのよ。 無効票にも白票にもならないようちゃんと投票した私を誰か褒めてくれ（笑）\n閑話休題 (それはさておき)  今回最大のパワーワードは某政党機関紙に書かれていたという「多様性の統一」だろう。 しびれもあこがれもしないけど。\nこれをどういうつもりで書いたかとか知る気もないが，思い出したのはゼロ年代に私が読んでいた『排除型社会』という本である。 まぁ，このブログでは度々紹介しているけど。 今回もまた少し引用しておこう。\n  しかし、現在のように都市生活が多様化し、グローバル化したマスメディアが毎日のように多種多様な文化を垂れ流す状況では、もはや自然的エポケーは通用しなくなっている。こうした困難に対処する態度こそ、私が「多文化主義的エポケー」と呼んでいるものである。つまり、自然的エポケーの特徴である「懐疑の一時停止（あるいは〈括弧〉にいれる）」を、いわば多元化することである。この場合、それぞれの文化は、他の文化からみずからを区別するために、独自の排他的領域という〈括弧〉のなかに閉じこもろうとする。それはちょうど、それぞれの集団が、リスクを最小化するために、保険統計的計算にもとづいて物質的・経済的バリアを張り巡らせようとするのと同じである （p.251）  排除型社会より    多文化主義のおかげで、人々は自分たちの選択を相対化しなくても、規範の相対性を受け入れることができるようになるわけである。……多文化主義における異文化への距離の取り方（「尊重」とか「寛容」という言葉でごまかしているが）が異文化への不安をつくりだす可能性は十分にある。というのも、それは戦後の包摂型社会に代えて、排除型の飛び地が点在する世界をつくりだすからである。……かつて近代主義が求めたのは、開放的で、「脱埋め込み」的で、両義的で、断片化された世界をつくりだすことであった。それは自己とライフスタイルを自由に選択し、創造することが可能な世界だった。しかし、多文化主義はそのような世界を消し去ろうとする――つまり、一方で多様性を認めながら、他方では行為者から選択の自由を奪おうとするのである （p.259）  排除型社会より  「多様性の統一」というフレーズからはこの「多文化主義的エポケー」なニュアンスがぷんぷん匂う。 ある意味で，かの政党はようやく20世紀末まで到達したかとポジティブに考えることができるかも知れないが（笑）\n人の社会は蜂や蟻のような社会とは（たぶん）違う。 人は近代に入ってようやく社会と個の関係について考えることができるようになった。 個人の台頭は「近代の夢」のひとつである。\nそして，その関係を突き詰めていけば必然的に多様性（diversity）の問題に行き着く。 多様性に頭を悩ませるということは，私達が社会と個の関係についてちゃんと考えているということで，誇るべきことである。\nでもそこから先にはなかなか進めない。 ハムスターの回し車をぐるぐる回してる感じすらする。 挙句の果には某政党のように「懐疑の一時停止」に走ったりするわけだ。\n答えが見つからないことを恐れてはいけない。 考えることを止めてはいけない。 それはこれまで人が長い時間をかけて，更にこれからも長い時間をかけて考え続けることなのだ。\nとはいえ，馬鹿馬鹿しい選挙結果を受けて来年の目標も「政治的無関心」を継続することに決めた私を誰が責められよう（笑） 手持ちのリソースが少ないんだから馬鹿を相手にする余裕はない。\n参考図書   排除型社会―後期近代における犯罪・雇用・差異 ジョック ヤング (著), Young,Jock (原著), 秀男, 青木 (翻訳), 泰郎, 伊藤 (翻訳), 政彦, 岸 (翻訳), 真保呂, 村澤 (翻訳) 洛北出版 2007-03-01 単行本 4903127044 (ASIN), 9784903127040 (EAN), 4903127044 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  感想はこちら。\nreviewed by Spiegel on 2015-10-31 (powered by PA-APIv5)\n   リベラルのことは嫌いでも、リベラリズムは嫌いにならないでください　井上達夫の法哲学入門 井上 達夫 (著) 毎日新聞出版 2015-07-05 (Release 2015-07-17) Kindle版 B011KRIYVS (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  ちゃんとした書評は yomoyomo さんの記事が参考になる。私は途中まで読んで放り投げた。反省はしない（笑）\nreviewed by Spiegel on 2016-02-15 (powered by PA-APIv5)\n   【Momugs Akira】ハムスター回し車 サイレントホイール ハムスター おもちゃ ストレス解消 静か プラスチック ブルー bidear01 その他 B07925HGCX (ASIN), 0759981407536 (EAN), 759981407536 (UPC)  そういえば，うちは母親がネズミが嫌いだった。\nreviewed by Spiegel on 2020-01-18 (powered by PA-APIv5)\n   Like Flames MindaRyn (メインアーティスト) Lantis 2021-08-25 (Release 2021-08-25) MP3 ダウンロード B0983XRNQV (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  「転スラ」2期 OP 曲。最近のヘヴィ・ローテーション。\nreviewed by Spiegel on 2021-11-02 (powered by PA-APIv5)\n "
    },
    {
      "title": "2021-10-31 のブックマーク",
      "section": "bookmarks",
      "description": "「Creative Commons’ Response to Wikimedia Foundation’s WIPO Observer Application Being Blocked」他",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/bookmarks/2021/10/31-bookmarks/",
      "published": "2021-10-31T07:04:44+00:00",
      "update": "2021-10-31T07:13:15+00:00",
      "content": "リリース情報  Release September 2021 Recovery 2 · microsoft/vscode · GitHub Release gopls/v0.7.3 · golang/tools · GitHub Release Windows Terminal v1.11.2921.0 · microsoft/terminal · GitHub  Windows 11既定のターミナルに設定できる「Windows Terminal 1.11」が正式版に - 窓の杜   Announcing Rust 1.56.0 and Rust 2021 | Rust Blog Release v1.0.26 · sonatype-nexus-community/nancy · GitHub Thunderbird — Release Notes (91.2.1) — Thunderbird Release v0.31.0: Release Wasmtime 0.31.0 (#3489) · bytecodealliance/wasmtime · GitHub  セキュリティ＆プライバシー関連  Security Risks of Client-Side Scanning - Schneier on Security Credit card PINs can be guessed even when covering the ATM pad  Using Machine Learning to Guess PINs from Video - Schneier on Security   Evervaultの「サービスとしての暗号化」がオープンアクセスに | TechCrunch Japan Mark Zuckerberg added to DC lawsuit over Cambridge Analytica scandal - The Verge  ザッカーバーグ氏がフェイスブックのCambridge Analyticaスキャンダルの被告人に | TechCrunch Japan   MDMで管理された3万台超の端末で意図せず発生した強制ロックについてまとめてみた - piyolog Problems with Multifactor Authentication - Schneier on Security Yubikey Bio の生体認証をCTAPで見てみる GitHub Actions for security and compliance | The GitHub Blog Amazon.com、同社内で使われていた従業員向けのセキュリティオンライントレーニングを無償で一般公開、日本語版も提供 － Publickey 「このQRコードを読み取ってくれないか」──街中での謎の声かけがTwitterで話題　セキュリティ企業も警鐘 - ITmedia NEWS : そんなあからさまな（笑）  知財関連  Creative Commons’ Response to Wikimedia Foundation’s WIPO Observer Application Being Blocked - Creative Commons さいとう・たかをさん死去　分業制「ゴルゴ13」は継続へ、著作権は誰のもの？ | オトナンサー  Linux または Ubuntu に関する話題  Microsoft、システム監視ツール「Sysmon」のLinux版オープンソースで公開 | TECH+ Ubuntu 22.04 その3 - OpenSSL 3.0への移行計画 - kledgeb Ubuntu 22.04 その2 - Ubuntu 22.04 LTSの開発始まる・Ubuntu 22.04 LTSの開発コード - kledgeb Nintendo Switch Controller Driver Finally Set For Linux 5.16 - Phoronix  Azure や Windows に関する話題  Webブラウザーで「Visual Studio Code」が完全動作 ～「vscode.dev」にアクセスするだけ - 窓の杜 マイクロソフト、「Windows Subsystem for Android」をWindows 11のWindows Insider Program向けに配布開始、KindleなどのAndroidアプリが実行可能に － Publickey Windows 10のファイルエクスプローラがWSL機能を統合。Linuxを示すペンギンアイコンが登場 － Publickey AMD、Windows 11でRyzen CPUの「UEFI CPPC2」問題を解決するチップセットドライバーをリリース - 窓の杜 scoopシステム崩壊の序曲 : ヤバい話  Go 言語関連  OpenTelemetryとgo-chiを繋げてみる | フューチャー技術ブログ Go言語とwebviewで簡単デスクトップアプリを作ろう - Qiita 第1回　Goという選択肢はベストだったのか：ちょっと気になる隣の技術畑｜gihyo.jp … 技術評論社 : 「音楽性の違い」 GitHub - tenntenn/connpass: An API client of connpass : connpass API ハンドラ Functional Options are named args on steroids | Uptrace blog proposal: use PCG Source in math/rand for Go 2 · Issue #21835 · golang/go · GitHub net／httpでつくるHTTPルーター 自作入門 Goで軽量なデスクトップアプリ作成 : Chrome ベース [Go] JSONを構造体にマッピングしつつ生データを保存するUnmarshalJSONの実装方法 - My External Storage 【Go】新しいORM「Bun」を使ってみる(MySQL) Go の sql.DB がコネクションプールを管理する仕組み - Please Sleep GoはProlog - ハノイの塔 メモ：GORMで一意制約エラーを判別したい Goにおけるメモリ管理の可視化  Rust 言語関連  経路列挙のデータを Rust で扱ってみた GitHub - joseluisq/static-web-server: A blazing fast and asynchronous web server for static files-serving. ⚡ : Rust 製静的 HTTP サーバ  Java 言語関連  【Spring Security】セッションのデフォルト有効期限は30分しかない - Ren\u0026rsquo;s blog CFV: New Project: RISC-V Port 【SpringBoot】アップロードするMultipartFileの最大サイズを変更する - Qiita  天文関連  民間宇宙ステーション「Starlab」は地球低軌道経済の到来を予感させる | TechCrunch Japan  その他  なぜPaypalはパレスチナ人にサービスを使わせないのか | P2Pとかその辺のお話R 電気無しのドラム式全手動洗濯機「ぐるぐるぶんまわ槽」登場　サンコーがまた斬新な商品を送り出す - ねとらぼ 映画宣伝が慢性的に抱える問題“ジャンルウォッシュ”がいよいよ深刻な状態になっている話｜汐田海平(SHIOTA Kaihei)｜note Google Forms API登場。プログラミングでGoogleフォームの作成や編集が可能に － Publickey Apple、布を発売　1枚1980円 - ITmedia NEWS Amazon | キムワイプ 12×21.5cm /1箱(200枚入) S-200 | ワイプ | 産業・研究開発用品 通販 : キムワイプって普通に Amazon で売ってるんだねぇ Webのルビ仕様にはアクセシビリティを阻害している面がある。「日本DAISYコンソーシアム」が改善を求めてブラウザベンダ、WHATWG、W3Cらに公開書簡 － Publickey うっかりテスト用のスクリプトで現実に存在する1万台の携帯電話をロックしてしまったエンジニアの経験談 - GIGAZINE How to run a Go IDE on your Smart TV or WebOS device. | by Cheikh seck | Oct, 2021 | Medium Java, Go, Rustの比較（前半） - gavin.zhou - Medium アップルがApp Storeガイドライン更新、アプリ開発者がユーザーに他の支払い方法について連絡することを許可 | TechCrunch Japan PayPal、Pinterest買収を検討か | TechCrunch Japan PayPalがGraphQLを採用し、開発者の生産性向上を実現 インターネット・アーカイブが今週創設25周年を迎える - YAMDAS現更新履歴 スクラム開発の現場にJoinして失敗した俺が悪い話 - Qiita Flickr: The LEGO Build and Capture Photo Contest 2021 Pool 「AIベンダー任せ」にはしたくない\u0026ndash;日立造船がデジタル人材を育成する理由 - ZDNet Japan マイクロソフト、ローコード／ノーコード開発ツールのClear Softwareを買収、Power Platformのシステム統合機能を強化 － Publickey 経産省とNEDOがRISC-Vを利用した自動車走行画像認識をテーマに「第5回AIエッジコンテスト」開催 | TechCrunch Japan ImageMagickをやめて画像の処理はSaaSに頼ることにした 【訃報】白土三平氏 岡本鉄二氏 ご逝去 | ビッグコミックBROS.NET（ビッグコミックブロス）｜小学館 【さくらのレンタルサーバ】メールソフトかんたん設定提供開始のお知らせ | さくらインターネット : Thunderbird は対象外らしい（笑） 「源ノ明朝」が大幅アップデート。香港グリフの対応と、バリアブルフォントとしても提供開始。 Next.jsのmiddlewareはVercel以外でも問題なく使えるか 【さくらのドメイン】ドメインコントロールパネルのリニューアルについて | さくらインターネット Raspberry Pi財団が2021年10月28日に新製品「Raspberry Pi Zero 2 W」を発表、スイッチサイエンスウェブショップでも近く発売予定｜株式会社スイッチサイエンスのプレスリリース メタバースはディストピアの悪夢です。より良い現実の構築に焦点を当てましょう。 – Niantic 「死語化したと判断」…三省堂国語辞典の新版で「パソコン通信」「BBS」の項目が削除へ【やじうまWatch】 - INTERNET Watch noteの数式表現（試験運用中）｜結城浩 包括的核実験禁止条約（CTBT）と安保理改革 – 一般社団法人　霞関会 DMMはAWS“から”オンプレミス“に”切り替える　サーバーとネットワークのコストから見直す適切な環境選び - ログミーTech 衆院選2021：デジタル権に関連した政策・公約まとめ | P2Pとかその辺のお話R  "
    },
    {
      "title": "Synology NAS に Tailscale を設定する",
      "section": "remark",
      "description": "いよいよ Tailscale に手を出すことにした。",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2021/10/tailscale-with-synology-nas/",
      "published": "2021-10-31T06:42:53+00:00",
      "update": "2021-11-07T02:36:53+00:00",
      "content": "前回からチマチマ作業して，ようやく中身の整理と Git Server の設定までできた。 以前まで使ってた簡易 NAS では無造作にバックアップを取ってたので，特に音楽ファイルと写真ファイルの整理で時間がかかってしまったよ。\n写真ファイルは8K個くらいあったんだけど，この規模だとダブりとか確認しようがないし，途中で面倒くさくなって全部 Synology Photos サービスに突っ込んでしまった。\n一方で音楽ファイルは2.3K個ほど。 これは普通だよね。 アルバム換算で160枚分程度だし。\nで，まぁ，そんなこんなで落ち着いて運用できるようになったので，いよいよ Tailscale に手を出すことにした。\nTailscale とは Tailscale とは VPN (Virtual Private Network) 実装のひとつである。\nなお，この記事では VPN を物理的な回線・ネットワークの上に構築された「実質的な網 (virtual network) 」であると定義し，以下の機能を持つものとして話を進める。\n カプセル化とトンネリング 経路の暗号化 認証とアクセス制御  旧来の VPN は，拠点間 VPN であれリモートアクセスであれ「バイパス型」であれ，出口ノードがネットワークそのものになっているのが特徴である。\n  via Tailscale · Best VPN Service for Secure Networks  これに対して Tailscale では機器間を直接つないでいるのが特徴と言える1。\n  via Tailscale · Best VPN Service for Secure Networks  Tailscale の実装は WireGuard 技術を用いており，サービスとしての tailscale.com は接続機器のコンフィグレーションを管理するのみで通信そのものには関与しない。 正しく E2E 暗号化通信というわけだ（笑）\n2021-10-31 現在，個人ユーザは20接続までの制限付きで無料で利用できる。 また年48USDほど払えば100接続まではいけるらしい。 企業またはチームとして利用する場合はユーザごとに接続先を制御する必要があるだろうし，そのための料金プランも用意されているようだ。\n  via Pricing · Tailscale  旧来の VPN はいわゆる ZTA (Zero Trust Architecture) とは相性が悪いと言われているが Tailscale を使って機器単位でアクセス制御できるのであれば ZTA にも組み込みやすいだろう。 個人的にはスマート・ホームなど IoT 機器こそ Tailscale に対応してもらいたいよなぁ。\nちなみに Tailscale の基本ロジックは Go で書かれている。 まぁ WireGuard のユーザランド実装が Go だしね。\nSynology NAS に Tailscale をインストールする 今回，私が導入した Synology NAS には Tailscale パッケージが用意されおり，パッケージセンターからインストールできる。\n これは現在 GitHub で Tailscale 公式のリポジトリとして運営されているようだ。\n tailscale/tailscale-synology: Synology packages for tailscale.com  さっそくインストールしてパッケージを開くと\n てな感じにログインを促す画面が開く。 早速 [Log In] ボタンを押すとブラウザの tailscale.com のサインイン・ページが開く。\n おっ GitHub アカウントが使えるのか。 よしよし。\nこのページで認証が完了したら再び Tailscale パッケージを開いて\n てな感じに表示されれば接続完了である。 うん，簡単簡単。\nなお IP アドレスの 100.64.0.0/10 領域は Carrier-Grade NAT の “Shared Address Space” (RFC 6598) として確保されているものらしい。 こんなん使って大丈夫か？ と思うが，まぁユーザ側が気にすることではあるまい。\ntailscale-synology のアップデート Synology NAS から見て tailscale-synology はサードパーティ製品なので自動アップデートに対応してないらしい。 故に GitHub の tailscale/tailscale-synology リポジトリのリリース情報に注意して手動でアップデートを行う必要がある。\nインストール後のパッケージセンターの表示を見ると\n となっている。 2021-10-31 時点の最新は v1.16.2 なのでちょっと古いようだ。\n“List of spksrc architecture per Synology model” によると DS220j は “rtd1296 (armv8)” だそうなので tailscale-armv8-1.16.2-2013-dsm7.spk ファイルをダウンロードして適用すればいいのかな。 やってみよう。\n上の画面の右上にある [手動インストール] ボタンを押して「パッケージのアップロード」を開く。\n ここで先ほどダウンロードしたファイルを指定して [次へ] ボタンを押すと\n と警告が出るが，ビビりつつ [同意する] ボタンを押す。 すると「設定の確認」が出るので\n [完了] ボタンを押す。 アップデートが完了すると，先ほどのパッケージセンターの表示が\n とバージョンが上がっていることがわかる。\nよーし，うむうむ，よーし。\nAndroid 端末に Tailscale をインストールする 次は手持ちの Android 機に Tailscale をインストールして，外から前節で設定した Synology NAS にアクセスしてみる。\nAndorid 版 Tailscale は Google Play Store からインストールできる。\n いや，3歳は無理やろ（笑）\nインストールを完了しアプリを開くとサインイン画面になる。\n 「あれ？ Google だけ？」と一瞬思ったが，焦らず [Sign in with Other] ボタンを押すと NAS のときと同じ tailscale.com のサインイン・ページが開く。\n Google 以外ならこちらのページで認証を行うとよい。 認証が完了すると\n などと表示される。 自機以外に先程の NAS も表示されているのが分かるだろうか。 なお Tailscale で接続済みの機器は，ブラウザでも機器一覧ページで確認することができる。\nこの状態で FE File Explorer Pro を使ってアプリに表示されている IP アドレスに対して SMB 接続を確認できた。 めでたし！\nちなみに私は「バイパス型 VPN」として F-Secure 社の FREEDOME VPN を購入して使っているが，これを起動した状態で Tailscale を有効にしても問題なく相手機器に接続できた。 よかった，よかった。\nブックマーク   Tailscale v1.16 · Tailscale\n  Supported SSO identity providers (Google, AzureAD, GitHub, Okta, etc) · Tailscale\n  Enabling Synology outbound connections · Tailscale\n  Tailscale for developers: Connect to your resources from GitHub Codespaces · Tailscale\n  100台まで無料のVPNサービス「tailscale」、リンクだけでマシンのシェアも可能!?【イニシャルB】 - INTERNET Watch\n  Tailscale VPN を使ってみたので感想 | つくみ島だより\n  リモートワーク向けにセキュアなVPNを構築【tailscale】 | 4b-media\n  「門番」としての VPN\n  NIST SP 800-207: “Zero Trust Architecture”\n    Tailscale 接続先機器を出口ノードとしてネットワークにアクセスすることは可能，らしい。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n   "
    },
    {
      "title": "秋 NAS は俺に喰わせろ！",
      "section": "remark",
      "description": "金曜の夜にポチって中1日で届くとは思わざりき（笑）",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2021/10/nas/",
      "published": "2021-10-26T14:50:36+00:00",
      "update": "2021-11-01T14:00:37+00:00",
      "content": "勤務先で LAN 上の NAS やクラウド・ストレージの構成を見直す動きが出ていて「そういや私が簡易 NAS を導入したのっていつだっけ？」と過去記事を漁ってみたら3年半も前だったよ。\n NAS を導入した  その半年後に田舎に帰郷 (かえ) る羽目になったのだが，当時は Windows を捨てる準備に入ろうかというところで，バックアップと書き戻し用に（OS を跨いで）アクセスできる共有ストレージが欲しかったんだよね。\n導入して良かった点は LAN 上の NAS とクラウド・ストレージ・サービスを連携させることで，そこそこ安全で快適な環境を手に入れられたことだろう。 とはいえ RAID 0 すら組んでない簡易設備でこのまま運用を続けるのはもう限界だろうと思い直したわけだ。\nで，まぁ，あれこれ迷った挙句に買ったのは Synology DS220j ってやつ。 今回もドスパラさんのお世話になりました。 HDD 2基と3点セットになってるやつをポチった。\n本当はポチってから数日あけて来ることを想定してたんだけど，金曜の夜にポチって中1日で（松江みたいな片田舎まで）届くとは思わざりき（笑）\n秋 NAS 来た！ | Flickr  ありがたいことに「NAS 初心者ガイド」という日本語の冊子がついていた。 これのおかげでセットアップ自体は比較的スムーズにできた。 ブラウザで Web Assistant を開いたときに最初はうまく検出できなかったくらい（ブラウザを立ち上げ直したら上手くいった）かな？\nRAID (Redundant Arrays of Inexpensive Disks) RAID は SHR (Synology Hybrid RAID) にした。 RAID 1 とかだと ストレージの容量やメーカーを揃える必要があるが， SHR はその辺は柔軟に運用できるらしい。\n Synology Hybrid RAID（SHR）とは？ - Synology ナレッジセンター  QuickConnect は無効にした 最初は Synology アカウントを取得して QuickConnect も使ってたんだが，どうにも気持ち悪いので QuickConnect はいったん無効にした。 Synology アカウントは有効にしてるので，必要になったらまた復活させればいいだろう。\nVPN 接続は Tailscale を検討中\u0026hellip;\nUbuntu ファイルマネージャから SMB サービスに入れない Ubuntu 標準のファイルマネージャ（nautilus）は LAN 上の Windows 共有フォルダや Samba サービスを自動的に検出・表示してくれる。 DS220j も SMB (Server Message Block) が使えるので Windows ネットワークと同じように表示されるんだけど，クリックしても何故か入れないのよね。\n なんやねん「無効な引数」て orz\nこれは現在に至るも改善しない（理由がわからないので）。 ただし mount.cifs でマウントはできるし /etc/fstab ファイルへの記述もちゃんと効いたので実害はない。 多分ファイルマネージャ側の問題なんだろうなぁ。 CIFS 経由で NAS に接続する方法は以下の通り。\n CIFS 経由で NAS に接続する  ちなみに Android の FE File Explorer Pro からは普通に見れた。\nUbuntu から NFS サービスに入れない Ubuntu に NFS クライアントを導入する。\n$ sudo apt install nfs-common DS220j 側の NFS サービスを有効化して Ubuntu からアクセスしようとしたが上手くいかない。 まぁ，考えてみたら当たり前で Kerberos を使ってアカウントのマッピングでもするのならともかく，家庭内 LAN ごときでそこまでしないし，しないなら見えなくても仕方ない。\n セキュリティ フレーバー：\n特定のユーザー アカウントで NFS を介して共有フォルダにアクセスする場合：\n AUTH_SYS セキュリティが導入されている場合：クライアントは NFS クライアントと Synology NAS で全く同じ UID（ユーザー識別子）と GID（グループ識別子）を持っていなければなりません。そうしなければ、クライアントが共有フォルダにアクセスするときに、「others」という許可が割り当てられます。権限が競合しないように、[Squash] から [全ユーザーを admin にマップ] を選択するか、共有フォルダに｢Everyone｣権限を割り当てます。 Kerberos (krb5、krb5i、krb5p) セキュリティが導入されている場合：[ファイル サービス] \u0026gt; [NFS] \u0026gt; [NFS サービスの有効化] \u0026gt; [詳細設定] \u0026gt; [Kerberos の設定] の順にを選択して、NFS クライアントを特定のユーザーに割り当てなければなりません。または、相当するユーザー アカウントで Windows/LDAP ドメインに加わります。そうしなければ、クライアントが共有フォルダにアクセスするときに、「guest」という許可が割り当てられます。 共有フォルダを作成する拡張デバイスのファイル システムが NTFS または FAT の場合は、[すべてのユーザーを admin にマップ] オプションが強制的に適用されます。  Synology NAS に接続するために Kerberos セキュリティを使用するには、[ファイル サービス] \u0026gt; [NFS] \u0026gt; [NFS サービスの有効化] \u0026gt; [詳細設定] \u0026gt; [Kerberos の設定] の順に選択して、Kerberos 認証が設定されていなければなりません。\n NFS 権限を割り当てる | DSM - Synology ナレッジセンターより  というわけで，今回は 権限を「カスタマイズ」して Everyone 権限を追加・設定した。 複数人で使う場合は NFS は使わんほうがいいかもなぁ。\nちなみに /etc/fstab ファイルを使ってマウントする場合には\nsy-nas:/volumeX/homes/username /home/username/nas-home nfs rsize=8192,wsize=8192,timeo=14,intr 0 0 などとすればよい。\nCloud Sync パッケージ・センターから Cloud Sync をインストールしてストレージ・クラウドと連携できるようにした。\nCloud Sync は Google Drive, Dropbox, Box, Microsoft OneDrive あるいは Azure Storage, Google Cloud Storage, S3 storage といったメジャー・サービスはもちろん，一般的な WebDAV とも連携できるらしい。\nさらに Cloud Sync では\n てな感じに同期データの暗号化ができる。 具体的には Cloud Sync からアップロードする際に暗号化された状態でアップロードされる。 元々クラウド・ストレージ側に置いてあるファイルは暗号化の対象にならない。 暗号化ファイルは NAS 側では復号された状態で格納されており，クラウド・ストレージ側で暗号化されているか否かに関係なく透過的に扱うことができる。\nクラウド・ストレージって便利で使い勝手がいいけど，他人のデータを覗き見る痴漢野郎がいるぢゃん。 Google とか Apple とか。 だから積極的には使わないようにしてたんだけど，これで踏ん切りがついたわ。\n物置用のクラウド・ストレージ・サービスとして Google Drive をデータ暗号化した上で利用することにした。 これに伴い Google One の有料プランへアップグレードした。\n運用中の各種クラウド・ストレージ・サービスに置いてあるファイルを整理しないとな。\nGit Server と SSH パッケージ・センターで Git Server を見つけたのでインストールしてみたのだが\u0026hellip;\nどうやら SSH ベースのサーバのようだが\n Git Server - Synology ナレッジセンター  そもそも DS220j は管理者権限を持つアカウントしか SSH を使えないようになっている。 なので Git Server へのアクセス専用にグループとユーザを作成し，専用の共有フォルダを設定する必要がある。\n更に言うとユーザ・ホーム・サービスを有効にしておく必要がある。\n これがないと公開鍵認証ができないらしい。\n Synology DiskStation で SSH 接続を公開鍵認証方式にする - Qiita  まぁ，ぼちぼち進めるか。\n【2021-10-30 追記】 Synology SSH に公開鍵認証でログインする まずはおとなしくパスワード認証で入る。 前節で述べたように Git Server 用に専用のユーザとグループを作ってログイン可能な状態にすること（今回はユーザ：グループ名を git:git とした1）。\n$ ssh git@sy-nas git@sy-nas\u0026#39;s password: ログイン直後のホーム・ディレクトリはこんな感じ。\n$ pwd /var/services/homes/git $ ll drwxrwxrwx+ 2 git users 4096 Oct 30 00:00 . drwxrwxrwx+ 9 root root 4096 Oct 30 00:00 .. このままでは拙いので，ホーム・ディレクトリのパーミッションを変更する。\nchmod 755 /var/services/homes/git 次にホーム・ディレクトリ直下に .ssh ディレクトリを作成する。\n$ mkdir .ssh $ ll drwxr-xr-x 3 git users 4096 Oct 30 00:00 . drwxrwxrwx+ 9 root root 4096 Oct 30 00:00 .. drwxr-xr-x 2 git users 4096 Oct 30 00:00 .ssh この .ssh ディレクトリ直下に authorized_keys ファイルを作り SSH 公開鍵を登録する。 ちなみに公開鍵は ECC 鍵が使える。 ECC 鍵を作ってサーバに登録する方法は以下の通り。\n OpenSSH 鍵をアップグレードする  また SSH 鍵を GnuPG で作成・管理する方法は以下を参考にどうぞ。\n OpenSSH の認証鍵を GunPG で作成・管理する  .ssh ディレクトリおよび .ssh/authorized_keys ファイルのパーミッションに注意。\n$ chmod 700 ~/.ssh $ chmod 600 ~/.ssh/authorized_keys これで適当なターミナルを立ち上げて\n$ ssh git@sy-nas でパスワード認証ではなく公開鍵認証が動き出したら成功である2（作業中の SSH セッションは維持しておくこと。しくじってアクセスできなくなったら困るからね）。\n【2021-10-30 追記】 試しにリポジトリを作ってみる Git Server 用に専用の共有フォルダを作る。 今回は gitrepos という名前で共有フォルダを作った。 前節の git ユーザで読み書きできるようにしておくこと（他のユーザはアクセスできなくてよい）。\nさっそく gitrepos 共有フォルダに入ってみる。\n$ ssh git@sy-nas $ cd /volume1/gitrepos/ $ sudo chown git:git /volume1/gitrepos $ chmod 755 /volume1/gitrepos たぶん必須ではないが気持ち悪いので，所有者とパーミッションを変更して git ユーザ専用にした。 では，適当なベア・リポジトリを作ってみよう。\n$ mkdir hello-repos $ cd hello-repos/ $ git init --bare Initialized empty Git repository in /volume1/gitrepos/hello-repos/ これで空のベア・リポジトリができた。 リモートから SSH 接続でリポジトリを clone するには\n$ git clone ssh://git@sy-nas/volume1/gitrepos/hello-repos Cloning into \u0026#39;hello-repos\u0026#39;... warning: You appear to have cloned an empty repository. とすればよい。\n次は Tailscale か？ これは次の休みにでもやってみることにしよう。 もともと Tailscale は興味があってやってみようとは思っていたのだ。\n【2021-10-31 追記】 記事にしました。 ブックマーク  RAIDの構成を「SHR」から「RAID 1」へ変更できますか？ | Synology Community 知らないと損! Synology社員が教えるNASの裏ワザ【前編】セキュリティーと信頼性を高める | マイナビニュース 特別企画：知っておきたい！NAS購入から活用までの疑問あれこれ - デジカメ Watch NASを使ったほうがいい人、使わないほうがいい人：Synologyで始めるNAS生活（1/3 ページ） - ITmedia PC USER Synology アカウントの取得 - アラコキからの Raspberry Pi 電子工作 Ubuntu 20.04にNFSマウントをセットアップする方法 | DigitalOcean 特別企画：NASに保存した写真データを効率的に管理…「Synology Photos」先行レビュー - デジカメ Watch  参考   Synology NASキット 2ベイ DS220j クアッドコアCPU 512MBメモリ搭載 ライトユーザー向け 国内正規代理店品 電話サポート対応品 DiskStation Synology (Release 2020-03-12) Personal Computers B0855LMP81 (ASIN), 4537694279369 (EAN), 0846504003440 (EAN), 846504003440 (UPC) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  ドスパラで HDD 2基と3点セットで購入。家庭内 LAN で使うなら必要十分な性能。各種クラウド・ストレージ・サービスと連携可能。 Tailscale を含む各種 VPN と組み合わせることも可能。\nreviewed by Spiegel on 2021-10-26 (powered by PA-APIv5)\n   Western Digital ウエスタンデジタル 内蔵 HDD WD Red Plus NAS RAID (CMR) 3.5インチ WD40EFZX-EC 【国内正規代理店品】 ウエスタンデジタル(Western Digital) (Release 2021-02-05) Personal Computers B08V8LNR2H (ASIN), 4988755057738 (EAN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  Synology DS220j と併せて購入。\nreviewed by Spiegel on 2021-10-26 (powered by PA-APIv5)\n   Voice of Angel 太田貴子 (メインアーティスト) SOLID RECORDS 2021-10-20 (Release 2021-10-20) MP3 ダウンロード B09GS5ZCHN (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  「太田貴子」としては31年ぶりのアルバムらしい。仕事中にヘヴィローテーションしてます。\nreviewed by Spiegel on 2021-10-26 (powered by PA-APIv5)\n   Git Server 用に作成したユーザを administrators グループにも所属させて管理者権限を付与すること。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n 複数ユーザで Git Server にアクセスしたいなら .ssh/authorized_keys ファイルに必要な数だけ公開鍵を登録する。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n   "
    }
  ]
}
