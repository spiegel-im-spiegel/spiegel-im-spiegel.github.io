{
  "title": "text.Baldanders.info",
  "url": "https://text.baldanders.info/",
  "feed": "https://text.baldanders.info/index.xml",
  "description": "帰ってきた「しっぽのさきっちょ」",
  "entry": [
    {
      "title": "紙芝居用の簡易サーバを書く【Go 1.16 版】",
      "section": "golang",
      "description": "Go 1.16 で追加された embed および io/fs 標準パッケージを使う。",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/golang/embeded-filesystem/",
      "published": "2021-02-24T10:53:56+00:00",
      "update": "2021-02-24T13:26:22+00:00",
      "content": "ずいぶん前に\n 紙芝居用の簡易 Web サーバを Go 言語で書く  という記事を書いたが，これで作ったコードは任意のディレクトリをドキュメント・ルートにできるという結構ヤバい代物である。\nところで Go 1.16 リリースで真っ先に思ったのは「これで安全に紙芝居ができるぢゃん」だった。 Go 1.16 で追加された embed および io/fs 標準パッケージを使えば，サードパーティの外部パッケージを使わずとも，簡単に「紙芝居」が作れる。\nさっそく試してみよう。 こんな感じかな。\npackage main import ( \u0026#34;embed\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;net/http\u0026#34; \u0026#34;os\u0026#34; ) //go:embed html var assets embed.FS  func main() { addr := \u0026#34;localhost:3000\u0026#34; fmt.Printf(\u0026#34;Open http://%s/\\n\u0026#34;, addr) fmt.Println(\u0026#34;Press ctrl+c to stop\u0026#34;) http.Handle(\u0026#34;/\u0026#34;, http.FileServer(http.FS(assets)))  if err := http.ListenAndServe(addr, nil); err != nil { fmt.Fprintln(os.Stderr, err) } } ここで //go:embed ディレクティブがコンパイラに html の埋め込みを指示している部分である。 html は実在のディレクトリで，以下の内容の index.html ファイルを格納している1。\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;Hello\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Hello World!\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; embed.FS 型のインスタンスはそのままでは http.FileSystem 型として使えないので http.FS() 関数で http.FileSystem 型に適合するよう変換している。\n説明はこのくらいにして，とりあえず動かしてみよう。\n$ go run sample1.go Open http://localhost:3000/ Press ctrl+c to stop これでブラウザで http://localhost:3000/ にアクセスしてみると。\nlocalhost:3000/  ありゃりゃーん。 ちょっと切ない感じになってしまった。\nhtml ディレクトリをドキュメント・ルートに出来ないかな，と思って色々眺めてたら fs.Sub() 関数が使えるっぽい。\nというわけで，さきほどのコードを少し書き換える。\npackage main import ( \u0026#34;embed\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;io/fs\u0026#34; \u0026#34;net/http\u0026#34; \u0026#34;os\u0026#34; ) //go:embed html var assets embed.FS func main() { addr := \u0026#34;localhost:3000\u0026#34; fmt.Printf(\u0026#34;Open http://%s/\\n\u0026#34;, addr) fmt.Println(\u0026#34;Press ctrl+c to stop\u0026#34;) root, _ := fs.Sub(assets, \u0026#34;html\u0026#34;) http.Handle(\u0026#34;/\u0026#34;, http.FileServer(http.FS(root)))  if err := http.ListenAndServe(addr, nil); err != nil { fmt.Fprintln(os.Stderr, err) } } エラー処理をサボっているがご容赦。 では，このコードを起動してみる。\n$ go run sample2.go Open http://localhost:3000/ Press ctrl+c to stop ブラウザでアクセスしてみると。\nHello  よーし，うむうむ，よーし。 これで安全に紙芝居ができるな。 go build でシングル・バイナリにまとめれば持ち運びもOK（笑）\n//go:embed ディレクティブはかなり便利に使えるようで\npackage main import ( _ \u0026#34;embed\u0026#34; \u0026#34;fmt\u0026#34; ) //go:embed html/index.html var hello string func main() { fmt.Println(hello) } てな感じに，ファイル内容を []byte または string 型のデータに展開してくれる。\n$ go run sample3.go \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;Hello\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Hello World!\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; こりゃあ，ひょっとしてテストが捗るねぇ。 データの読み込みを //go:embed ディレクティブで簡略化できるもんね。\nブックマーク  Big Sky :: Go に go:embed が入った。 go:embed 詳解 - 使用編 -  参考図書  プログラミング言語Go (ADDISON-WESLEY PROFESSIONAL COMPUTING SERIES) Alan A.A. Donovan (著), Brian W. Kernighan (著), 柴田 芳樹 (翻訳) 丸善出版 2016-06-20 単行本（ソフトカバー） 4621300253 (ASIN), 9784621300251 (EAN), 4621300253 (ISBN), 9784621300251 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  著者のひとりは（あの「バイブル」とも呼ばれる）通称 “K\u0026amp;R” の K のほうである。この本は Go 言語の教科書と言ってもいいだろう。\nreviewed by Spiegel on 2016-07-13 (powered by PA-APIv5)\n   //go:embed ディレクティブはあくまでもファイルに対してディレクトリ構造ごと埋め込むものなので，空のディレクトリは埋め込めない。 \u0026#x21a9;\u0026#xfe0e;\n   "
    },
    {
      "title": "gpgpdump v0.12.1 をリリースした",
      "section": "release",
      "description": "今回は Go 1.16 への対応が主。 機能上の修正・変更はない。",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/release/2021/02/gpgpdump-v0_12_1-is-released/",
      "published": "2021-02-23T12:25:43+00:00",
      "update": "2021-02-23T13:58:31+00:00",
      "content": "OpenPGP パケットの内容を可視化する gpgpdump の v0.12.1 をリリースした。\n Release v0.12.1 · spiegel-im-spiegel/gpgpdump · GitHub  今回は Go 1.16 への対応が主。 機能上の修正・変更はない。\nあと go.mod ファイルや GitHub Actions の設定等を調整して\n$ go install github.com/spiegel-im-spiegel/gpgpdump@latest で最新版をダウンロード\u0026amp;ビルド\u0026amp;インストールできるようにしてみた。\ngpgpdump が依存する自作パッケージも併せてバージョンアップしているが，そっちはまぁいいか。\nコンパイラのおかげなのか，依存している外部パッケージのおかげなのか分からないが，前のバージョンより実行バイナリのサイズがちょびっとだけ小さくなっている。 コンパイラのおかげだといいな。\nブックマーク  OpenPGP の実装 OpenPGP パケットを可視化する gpgpdump  参考図書  暗号化 プライバシーを救った反乱者たち スティーブン・レビー (著), 斉藤 隆央 (翻訳) 紀伊國屋書店 2002-02-16 単行本 4314009071 (ASIN), 9784314009072 (EAN), 4314009071 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  20世紀末，暗号技術の世界で何があったのか。知りたかったらこちらを読むべし！\nreviewed by Spiegel on 2015-03-09 (powered by PA-APIv5)\n  暗号技術入門 第3版　秘密の国のアリス 結城 浩 (著) SBクリエイティブ 2015-08-25 (Release 2015-09-17) Kindle版 B015643CPE (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  SHA-3 や Bitcoin/Blockchain など新しい知見や技術要素を大幅追加。暗号技術を使うだけならこれ1冊でとりあえず無問題。\nreviewed by Spiegel on 2015-09-20 (powered by PA-APIv5)\n "
    },
    {
      "title": "Go 1.16 からのモジュール管理",
      "section": "golang",
      "description": "覚え書きとして記しておく",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/golang/manage-modules/",
      "published": "2021-02-21T07:15:24+00:00",
      "update": "2021-02-21T07:19:18+00:00",
      "content": "先日リリースされた Go 1.16 でモジュール管理がいくつか変更になったので，覚え書きとして記しておく。\nGO111MODULE 既定値の変更 環境変数 GO111MODULE の既定値が auto から on に変更になった。 GO111MODULE の取りうる値は以下の通り。\n   値 内容     on 常にモジュール対応モードで動作する   off 常に GOPATH モードで動作する   auto $GOPATH/src 以下のディレクトリに配置され go.mod を含まないパッケージは GOPATH モードで，それ以外はモジュール対応モードで動作する    GO111MODULE の値を auto に戻すのであれば go env コマンドで\n$ go env -w GO111MODULE=auto とする。 Go の環境変数の取り扱いについては，拙文「Go 言語の環境変数管理」を参照のこと。\ngo.mod および go.sum の自動更新の抑制 Go 1.15 までは go build や go test などのコマンドで go.mod や go.sum の内容が勝手に更新されていたが， 1.16 からは自動では更新されなくなった。\nなので，コード上の import で新しい外部パッケージを追加しても go.mod や go.sum に記述がないと\n$ go test ./... main.go:9:2: no required module provides package github.com/spiegel-im-spiegel/cov19jpn/chart; to add it: go get github.com/spiegel-im-spiegel/cov19jpn/chart とか\n$ go test ./... go: github.com/spiegel-im-spiegel/cov19jpn@v0.2.0: missing go.sum entry; to add it: go mod download github.com/spiegel-im-spiegel/cov19jpn みたいなエラーが出たりする。\ngo.mod や go.sum をいい感じに更新したいのであれば\n$ go mod tidy とするとよい。\nバージョン付きの go install go install コマンドで指定するパッケージパスにバージョン番号サフィックスを付けることができるようになった。\n$ go install golang.org/x/tools/gopls@v0.6.5 これでバージョンを指定してモジュールのビルド\u0026amp;インストールができる。 ただし go.mod ファイルが replace や exclude ディレクティブを含んでいると go install が失敗するみたい。\n$ go install github.com/spiegel-im-spiegel/cov19jpn@v0.2.0 go install github.com/spiegel-im-spiegel/cov19jpn@v0.2.0: github.com/spiegel-im-spiegel/cov19jpn@v0.2.0 The go.mod file for the module providing named packages contains one or more replace directives. It must not contain directives that would cause it to be interpreted differently than if it were the main module. この場合は今までどおり go get コマンドでビルドまでやってくれるが， go get コマンドによるビルドは将来的に廃止になるみたいなので，早めになんとかしたいものである。\nでもなぁ，私の場合「Go 依存パッケージの脆弱性検査」の誤検出対策に replace ディレクティブを使ってるから悩ましいんだよなぁ\u0026hellip;\n特定バージョンのモジュールの撤回 go.mod で retract ディレクティブを使って特定バージョンのモジュールを撤回できるようになった（go ディレクティブが 1.16 以上の場合）。\nこんな感じにコメントとともに指定するといいらしい（コメント付けられたのか）。\n// Remote-triggered crash in package foo. See CVE-2021-01234. retract v1.0.5 これでこのバージョンを使おうとしても\n$ go list -m -u all example.com/lib v1.0.0 (retracted) $ go get . go: warning: example.com/lib@v1.0.5: retracted by module author: Remote-triggered crash in package foo. See CVE-2021-01234. go: to switch to the latest unretracted version, run: go get example.com/lib@latest てな感じにコメントの内容で警告が表示されるそうだ。\nGOVCS によるバージョン管理ツールの制御 環境変数 GOVCS を使ってリポジトリとバージョン管理ツールを関連付けることができる。 これを使って悪意のあるリポジトリ・サーバへのアクセスを制限することを意図しているようだ。\n環境変数の設定は go env -w コマンドを使うとよいだろう。 たとえば\n$ go env -w \u0026#34;GOVCS=github.com:git,evil.com:off,*:git|hg\u0026#34; とすれば， github.com サイトでは git のみ許容し evil.com は使用禁止，その他のサイトでは git および mercurial のみ許容する，といった指定ができるらしい。\nなお GOVCS の既定値は public:git|hg,private:all となっている。\nブックマーク   New module changes in Go 1.16 - The Go Blog\n  Go モジュールのバージョン管理\n  Go 1.16 がリリースされた\n  参考図書  プログラミング言語Go (ADDISON-WESLEY PROFESSIONAL COMPUTING SERIES) Alan A.A. Donovan (著), Brian W. Kernighan (著), 柴田 芳樹 (翻訳) 丸善出版 2016-06-20 単行本（ソフトカバー） 4621300253 (ASIN), 9784621300251 (EAN), 4621300253 (ISBN), 9784621300251 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  著者のひとりは（あの「バイブル」とも呼ばれる）通称 “K\u0026amp;R” の K のほうである。この本は Go 言語の教科書と言ってもいいだろう。\nreviewed by Spiegel on 2016-07-13 (powered by PA-APIv5)\n "
    },
    {
      "title": "io/ioutil の非推奨化について",
      "section": "golang",
      "description": "Refactoring は計画的に。",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/golang/deprecation-of-ioutil/",
      "published": "2021-02-21T03:06:59+00:00",
      "update": "2021-02-21T07:34:40+00:00",
      "content": "先日リリースされた Go 1.16 における大きな変更のひとつとして io/ioutil パッケージの非推奨化（deprecation）が挙げられる。 Deprecation といっても近い将来に（少なくともバージョン 1.x の間は）廃止されるわけではないのだが， io/ioutil パッケージは徐々にメンテナンスされなくなる可能性があるため，互換関数（または変数）へ置き換えていくことが推奨されている。\n対象となる変数・関数は以下の通り。\n   1.16 以降 非推奨 1.16 以降 推奨     ioutil.Discard io.Discard   ioutil.NopCloser() io.NopCloser()   ioutil.ReadAll() io.ReadAll()   ioutil.ReadDir() os.ReadDir()   ioutil.ReadFile() os.ReadFile()   ioutil.TempDir() os.MkdirTemp()   ioutil.TempFile() os.CreateTemp()   ioutil.WriteFile() os.WriteFile()    このうち ioutil.Discard, ioutil.NopCloser(), ioutil.ReadAll(), ioutil.ReadFile(), ioutil.WriteFile() については置き換え後の変数・関数のラッパーとして再実装されているので，特に気にする必要はないだろう。 何かのついでに refactoring していけばよい。\npackage ioutil import ( \u0026#34;io\u0026#34; \u0026#34;io/fs\u0026#34; \u0026#34;os\u0026#34; \u0026#34;sort\u0026#34; ) // ReadAll reads from r until an error or EOF and returns the data it read. // A successful call returns err == nil, not err == EOF. Because ReadAll is // defined to read from src until EOF, it does not treat an EOF from Read // as an error to be reported. // // As of Go 1.16, this function simply calls io.ReadAll. func ReadAll(r io.Reader) ([]byte, error) { return io.ReadAll(r) } // ReadFile reads the file named by filename and returns the contents. // A successful call returns err == nil, not err == EOF. Because ReadFile // reads the whole file, it does not treat an EOF from Read as an error // to be reported. // // As of Go 1.16, this function simply calls os.ReadFile. func ReadFile(filename string) ([]byte, error) { return os.ReadFile(filename) } // WriteFile writes data to a file named by filename. // If the file does not exist, WriteFile creates it with permissions perm // (before umask); otherwise WriteFile truncates it before writing, without changing permissions. // // As of Go 1.16, this function simply calls os.WriteFile. func WriteFile(filename string, data []byte, perm fs.FileMode) error { return os.WriteFile(filename, data, perm) } // NopCloser returns a ReadCloser with a no-op Close method wrapping // the provided Reader r. // // As of Go 1.16, this function simply calls io.NopCloser. func NopCloser(r io.Reader) io.ReadCloser { return io.NopCloser(r) } // Discard is an io.Writer on which all Write calls succeed // without doing anything. // // As of Go 1.16, this value is simply io.Discard. var Discard io.Writer = io.Discard ioutil.TempDir() と ioutil.TempFile() においては，入出力のインタフェースは os.MkdirTemp(), os.CreateTemp() と完全互換と言えるが，内部のロジックが微妙に異なる。 もしかしたら（並行処理下で使う場合など）何らかの検証が必要かもしれない。\nまぁ os.MkdirTemp(), os.CreateTemp() のほうが出来がいいと思うけど。 可能なら早めに置き換えたほうがいいだろう。\n問題は ioutil.ReadDir() と os.ReadDir() の差異だ。\nGo 1.16 の ioutil.ReadDir() は以下のように実装されている。\n// ReadDir reads the directory named by dirname and returns // a list of fs.FileInfo for the directory\u0026#39;s contents, // sorted by filename. If an error occurs reading the directory, // ReadDir returns no directory entries along with the error. // // As of Go 1.16, os.ReadDir is a more efficient and correct choice: // it returns a list of fs.DirEntry instead of fs.FileInfo, // and it returns partial results in the case of an error // midway through reading a directory. func ReadDir(dirname string) ([]fs.FileInfo, error) { f, err := os.Open(dirname) if err != nil { return nil, err } list, err := f.Readdir(-1) f.Close() if err != nil { return nil, err } sort.Slice(list, func(i, j int) bool { return list[i].Name() \u0026lt; list[j].Name() }) return list, nil } ここで fs.FileInfo 型は Go 1.16 で追加された io/fs パッケージで定義されているが，中身は 1.15 までの os.FileInfo 型と全く同じである。\n// A FileInfo describes a file and is returned by Stat. type FileInfo interface { Name() string // base name of the file  Size() int64 // length in bytes for regular files; system-dependent for others  Mode() FileMode // file mode bits  ModTime() time.Time // modification time  IsDir() bool // abbreviation for Mode().IsDir()  Sys() interface{} // underlying data source (can return nil) } // A FileMode represents a file\u0026#39;s mode and permission bits. // The bits have the same definition on all systems, so that // information about files can be moved from one system // to another portably. Not all bits apply to all systems. // The only required bit is ModeDir for directories. type FileMode uint32 なお Go 1.16 の os.FileInfo 型は fs.FileInfo の type alias として再定義されている。\npackage os import ( \u0026#34;io/fs\u0026#34; \u0026#34;syscall\u0026#34; ) // A FileInfo describes a file and is returned by Stat and Lstat. type FileInfo = fs.FileInfo 一方 os.ReadDir() は以下のように実装されている。\n// A DirEntry is an entry read from a directory // (using the ReadDir function or a File\u0026#39;s ReadDir method). type DirEntry = fs.DirEntry // ReadDir reads the named directory, // returning all its directory entries sorted by filename. // If an error occurs reading the directory, // ReadDir returns the entries it was able to read before the error, // along with the error. func ReadDir(name string) ([]DirEntry, error) { f, err := Open(name) if err != nil { return nil, err } defer f.Close() dirs, err := f.ReadDir(-1) sort.Slice(dirs, func(i, j int) bool { return dirs[i].Name() \u0026lt; dirs[j].Name() }) return dirs, err } ここで fs.DirEntry 型は以下のように定義されている。\n// A DirEntry is an entry read from a directory // (using the ReadDir function or a ReadDirFile\u0026#39;s ReadDir method). type DirEntry interface { // Name returns the name of the file (or subdirectory) described by the entry.  // This name is only the final element of the path (the base name), not the entire path.  // For example, Name would return \u0026#34;hello.go\u0026#34; not \u0026#34;/home/gopher/hello.go\u0026#34;.  Name() string // IsDir reports whether the entry describes a directory.  IsDir() bool // Type returns the type bits for the entry.  // The type bits are a subset of the usual FileMode bits, those returned by the FileMode.Type method.  Type() FileMode // Info returns the FileInfo for the file or subdirectory described by the entry.  // The returned FileInfo may be from the time of the original directory read  // or from the time of the call to Info. If the file has been removed or renamed  // since the directory read, Info may return an error satisfying errors.Is(err, ErrNotExist).  // If the entry denotes a symbolic link, Info reports the information about the link itself,  // not the link\u0026#39;s target.  Info() (FileInfo, error) } つまり返り値から fs.FileInfo の情報を取り出すには fs.DirEntry.Info() メソッドを使い，さらに返り値の error を評価する必要がある。\nこのように ioutil.ReadDir() と os.ReadDir() では返り値とその評価方法が異なるため，単純な置き換えではなく，若干のコードの変更が必要となる。\nRefactoring は計画的に。\nブックマーク  #golang io/ioutil の非推奨化（deprecation）について  参考図書  プログラミング言語Go (ADDISON-WESLEY PROFESSIONAL COMPUTING SERIES) Alan A.A. Donovan (著), Brian W. Kernighan (著), 柴田 芳樹 (翻訳) 丸善出版 2016-06-20 単行本（ソフトカバー） 4621300253 (ASIN), 9784621300251 (EAN), 4621300253 (ISBN), 9784621300251 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  著者のひとりは（あの「バイブル」とも呼ばれる）通称 “K\u0026amp;R” の K のほうである。この本は Go 言語の教科書と言ってもいいだろう。\nreviewed by Spiegel on 2016-07-13 (powered by PA-APIv5)\n "
    },
    {
      "title": "2021-02-21 のブックマーク",
      "section": "bookmarks",
      "description": "「アメリカでもプログラミングスクールに通ったがうまくいかなかった話があった」他",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/bookmarks/2021/02/21-bookmarks/",
      "published": "2021-02-21T01:47:36+00:00",
      "update": "2021-02-21T01:48:12+00:00",
      "content": "リリース情報  Release Git for Windows 2.30.1 · git-for-windows/git · GitHub Release v1.1.2 · spf13/cobra · GitHub Release v1.1.3 · spf13/cobra · GitHub Release v1.0.12 · sonatype-nexus-community/nancy · GitHub Release v0.4.0 · zetamatta/go-readline-ny · GitHub SmartGit 20.2.3 – syntevo blog Release v1.0.15 · sonatype-nexus-community/nancy · GitHub Release v0.4.1 · zetamatta/go-readline-ny · GitHub Release v0.4.2 · zetamatta/go-readline-ny · GitHub Release Release v5.8.9 · mattn/jvgrep · GitHub Release v0.4.3 · zetamatta/go-readline-ny · GitHub Release v1.37.0 · golangci/golangci-lint · GitHub Release 8.9.1 · mermaid-js/mermaid · GitHub Release 4.4.9_3 · zetamatta/nyagos · GitHub Hugo 0.81.0: The Smorgasbord Edition | Hugo  Release v0.81.0 · gohugoio/hugo · GitHub   Release v1.37.1 · golangci/golangci-lint · GitHub  バベルのインターネット  問題はビッグテックが免責されていることじゃあない、寡占こそが問題なんだ | P2Pとかその辺のお話R Twitterがインド当局のさらなる警告を受け500以上のアカウントを停止 | TechCrunch Japan  セキュリティ＆プライバシー関連  SonicWall Zero-Day - Schneier on Security Malicious script steals credit card info stolen by other hackers  Web Credit Card Skimmer Steals Data from Another Credit Card Skimmer - Schneier on Security   米国で発生した浄水システムの不正操作についてまとめてみた - piyolog Bloomberg - Are you a robot? Chinese Supply-Chain Attack on Computer Systems - Schneier on Security Attack against Florida Water Treatment Facility - Schneier on Security PostgreSQL 13.2、12.6、11.11、10.16、9.6.21、9.5.25公開 | TECH+ 「Clubhouse」の音声データが中国当局に漏れる可能性が浮上、開発元はセキュリティ強化を実施 | TechCrunch Japan FileZenの脆弱性（CVE-2021-20655）に関する注意喚起 Barcode Scanner Android App Pushed Malware Onto Millions  Malicious Barcode Scanner App - Schneier on Security   Browser Tracking Using Favicons - Schneier on Security AWSアカウント攻撃ツールをSalesforceがリリースするも速攻で削除される - GIGAZINE 危険なバッファオーバーフロー脆弱性に対処した「Python 3.6.13/3.7.10」が公開 - 窓の杜 ISC BIND 9の脆弱性（CVE-2020-8625）に関する注意喚起 なぜ拡張機能にマルウェアが仕込まれる問題が後を絶たないのか？ - GIGAZINE  知財関連  MP3・海賊版・アップルはいかにして音楽業界を変えてきたのか | P2Pとかその辺のお話R  Linux または Ubuntu に関する話題  Ubuntu 20.04 その220 - Ubuntu 20.04.2.0 LTSがリリースされました・Linux kernelがインストールされない不具合の修正 - kledgeb Ubuntu 20.04 その219 - Thunderbird 78の採用へ・Thunderbirdのメジャーアップデート - kledgeb : 結局 PGP/MIME を使いたいなら Thunderbird しか選択肢がなさそうなんだけど， Thunderbird はクソみたいな独自ライブラリで鍵管理していて GnuPG では上手く動かないんだよなぁ  Windows に関する話題  Windows Terminal で現在のディレクトリを引き継いでペインやタブを複製する : Windows Terminal 1.6 からの機能  Go 言語関連  Go 1.16 is released - The Go Blog Go言語 ハンズオン | 掌田津耶乃 |本 | 通販 | Amazon GitHub - pbnjay/grate: A Go native tabular data extraction package. Currently supports .xls, .xlsx, .csv, .tsv formats. Go言語 (Golang) でintのスタックとキューを実装してみる : 記事では slice を使っているが，ぶっちゃけヤバいので container/list パッケージを使いましょう Go+WebAssemblyで時刻表示を実装してみた New module changes in Go 1.16 - The Go Blog  Rust 言語関連  Rust言語を推進する「Rust Foundation」設立。AWS、Google、マイクロソフト、モジラ、ファーウェイらが設立メンバー － Publickey Rustを使って円周率1億桁計算したお話 Announcing Rust 1.50.0 | Rust Blog RustでTOTP(Time-based One-Time Password)を、RFCだけ見て原理原則から実装する  その他  Google、オープンソースソフトウェアの脆弱性をバージョンごとにデータベース化する「OSV」（Open Source Vulnerabilities）プロジェクトを開始 － Publickey 📙 Emojipedia — 😃 Home of Emoji Meanings 💁👌🎍😍 Slack、1月の大規模障害の原因を説明。「AWS Transit Gateway」がトラフィックの急上昇に対応できず、AWSはアルゴリズムを見直すと － Publickey 満足して使っている有料サービスの一覧 VSCodeとDockerでMacにGolangの開発環境を作成する | DevelopersIO Raspberry Pi Pico で独自学習した TensorFlow Lite のモデルを使う Excelの新機能「Lambda関数」によって「Excelの数式がチューリング完全になった」とナデラCEO。プログラミング言語としてのExcel数式であらゆる計算が可能に － Publickey ウィキペディアにはバイアスの問題がある（Wikipedia Has a Bias Problem 日本語訳）  『Wikipedia @ 20』の第21章「ウィキペディアにはバイアスの問題がある」も訳してみた - YAMDAS現更新履歴   アメリカでもプログラミングスクールに通ったがうまくいかなかった話があった - YAMDAS現更新履歴 偏向した言論や陰謀論など現在の汚染されたインターネットのフィールドガイド『You Are Here』が面白そうだ - YAMDAS現更新履歴 GoogleがPython Software Foundationへの支援を強化「ビジョナリースポンサー」に。CPython実装のための常駐開発者を雇用へ － Publickey 「AI」と呼ばれなくなる日も近い？\u0026ndash;あらゆる現場に浸透が進む - ZDNet Japan : 幻滅期から普及期へってところかねぇ Amazon RDSのMySQL/MariaDBがレプリケーションフィルターをサポート。特定のテーブルだけを選んでレプリカを作成 － Publickey markdown-itでURLにアンダースコアが含まれていると自動リンク（linkify）がおかしくなる件 Apple M1チップ対応のDocker Desktop、同梱のKubernetesも実行可能に － Publickey 【取材メモ】島根県知事、五輪開催に反対の会見・質疑、書き起こし | COVID-19 | OSHIDORI Mako\u0026amp;Ken Portal / おしどりポータルサイト 【Chrome】textareaの改行時にカーソル位置がガタっとずれる問題の対処法  "
    },
    {
      "title": "time.Ticker で遊ぶ【Go 1.16 バージョン】",
      "section": "golang",
      "description": "素敵なキャンセルライフを（笑）",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/golang/ticker-2/",
      "published": "2021-02-18T12:34:25+00:00",
      "update": "2021-02-21T01:48:12+00:00",
      "content": "ずいぶん前に「time.Ticker で遊ぶ」と言う記事を書いたのだが，先日リリースされた Go 1.16 で signal.NotifyContext() 関数が追加された記念に，これを使った改訂版の記事を書いてみたいと思う。\n前回と同じくお題は以下の通り。\n 一定周期ごとの処理を行う Ctrl+C 等の割り込み処理を行う  一定周期ごとの処理を行う これは前回の記事をほぼそのまま使いまわそう。\n// +build run  package main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func ticker() { t := time.NewTicker(1 * time.Second) //1秒周期の ticker  defer func() { fmt.Println(\u0026#34;Stopping ticker...\u0026#34;) t.Stop() }() for { select { case now := \u0026lt;-t.C: fmt.Println(now.Format(time.RFC3339)) } } } func main() { ticker() } 前回でも説明した通り， defer 構文を使って終了時に time.Ticker.Stop() 関数で周期イベントを止めようとしているが，実際には無限ループなので return まで到達しない（笑）\nNotifyContext 関数で SIGNAL を捕まえる Go では SIGINT や SIGTERM といった OS から送信される SIGNAL をイベントとして channel に送り込む仕掛けがある（ちなみに Ctrl+C は SIGINT として送られる）。 さらに Go 1.16 では SIGNAL イベントを context.Context のキャンセル・イベントとして実装できるようになった。\nたとえば，こんな感じに書ける。\n// +build run  package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; \u0026#34;os/signal\u0026#34; \u0026#34;time\u0026#34; ) func ticker(ctx context.Context) {  t := time.NewTicker(1 * time.Second) //1秒周期の ticker  defer func() { fmt.Println(\u0026#34;Stopping ticker...\u0026#34;) t.Stop() }() for { select { case now := \u0026lt;-t.C: fmt.Println(now.Format(time.RFC3339)) case \u0026lt;-ctx.Done(): fmt.Println(\u0026#34;cancellation from context:\u0026#34;, ctx.Err()) return  } } } func run() { ctx, _ := signal.NotifyContext(context.Background(), os.Interrupt) ticker(ctx) }  func main() { run() } context パッケージは並行処理下で使うことが多いだろう。 たとえば run() 関数をこんな感じに書き換えてみるか。\nfunc run() { ctx, _ := signal.NotifyContext(context.Background(), os.Interrupt) var wg sync.WaitGroup for i := 0; i \u0026lt; 3; i++ { n := i + 1 wg.Add(1) go func() { defer wg.Done() ticker(ctx, n) }() } wg.Wait() } これで平行に動作している全ての ticker() に対してキャンセルを送り込むことができる。\n上のコード例ではひとつの context.Context インスタンスを複数の goroutine で使いまわしているが，以下のように\nfunc run() { var wg sync.WaitGroup for i := 0; i \u0026lt; 3; i++ { n := i + 1 wg.Add(1) go func() { defer wg.Done() ctx, _ := signal.NotifyContext(context.Background(), os.Interrupt) ticker(ctx, n) }() } wg.Wait() } 各 goroutine ごとに context.Context インスタンスを生成してセットしても全ての ticker() を Ctrl+C で問題なく止めることができた。\nキャンセル・イベントの伝搬 context パッケージは，名前の通り，異なるレイヤやドメイン間でコンテキスト情報を受け渡しするためのパッケージだが，親から子にキャンセルイベントが伝搬する性質がある（逆向きには伝搬しない）。 たとえば\nfunc run() { parent, _ := signal.NotifyContext(context.Background(), os.Interrupt) var wg sync.WaitGroup for i := 0; i \u0026lt; 3; i++ { n := i + 1 wg.Add(1) go func() { defer wg.Done() child, _ := context.WithTimeout(parent, time.Duration(n)*5*time.Second) ticker(child, n) }() } wg.Wait() } などとすれば各 goroutine の ticker() 関数に SIGNAL イベントとタイムアウト・イベントの両方を仕込むことができる。\nまた\nctx, cancel := signal.NotifyContext(context.Background(), os.Interrupt) とした場合の返り値の cancel は関数値になっていて，これをキックすることでペアとなっている context.Context インスタンス（上のコードなら ctx）にキャンセル・イベントを発生させることができる。 実際の使い方として signal.NotifyContext() 関数は main goroutine に近いところで context.WithCancel() 関数と置き換えることが多いのではないだろうか。\ncontext について詳しくは『Go 言語による並行処理』の 4.12 章が参考になる。 素敵なキャンセル・ライフを（笑）\nブックマーク  Big Sky :: os/signal に NotifyContext が入った。  参考図書  Go言語による並行処理 Katherine Cox-Buday (著), 山口 能迪 (翻訳) オライリージャパン 2018-10-26 単行本（ソフトカバー） 4873118468 (ASIN), 9784873118468 (EAN), 4873118468 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  Eブック版もある。感想はこちら。 Go 言語で並行処理を書くならこの本は必読書になるだろう。\nreviewed by Spiegel on 2020-01-13 (powered by PA-APIv5)\n  プログラミング言語Go (ADDISON-WESLEY PROFESSIONAL COMPUTING SERIES) Alan A.A. Donovan (著), Brian W. Kernighan (著), 柴田 芳樹 (翻訳) 丸善出版 2016-06-20 単行本（ソフトカバー） 4621300253 (ASIN), 9784621300251 (EAN), 4621300253 (ISBN), 9784621300251 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  著者のひとりは（あの「バイブル」とも呼ばれる）通称 “K\u0026amp;R” の K のほうである。この本は Go 言語の教科書と言ってもいいだろう。\nreviewed by Spiegel on 2016-07-13 (powered by PA-APIv5)\n "
    },
    {
      "title": "DSA は NIST 電子署名標準から外れるようだ",
      "section": "remark",
      "description": "ドラフト版 FIPS 186-5 の DSA の節の内容がまるっと削られている。",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2021/02/dsa-deprecation/",
      "published": "2021-02-17T11:53:55+00:00",
      "update": "2021-02-17T12:01:33+00:00",
      "content": "Go 1.16 のリリースノートを眺めていて今さら気付いたのだが，いまだドラフト中の FIPS 186-5 によると， DSA を「電子署名生成用途としては」電子署名標準（Digital Signature Standard; DSS）から外すつもりのようだ。 ドラフト版 FIPS 186-5 の DSA の節はまるっと削られて以下の文章のみ掲載されている。\nPrior versions of this standard specified the DSA. This standard no longer approves DSA for digital signature generation. DSA may be used to verify signatures generated prior to the implementation date of this standard. See FIPS 186-4 [20] for the specifications for DSA. via FIPS 186-5 (Draft), Digital Signature Standard (DSS)  鍵長の問題（現在は鍵長を変数化することで対処している）以外はアルゴリズム自体に危殆化問題があるわけではないと思うが，出自がアレだし実装面の複雑さ1 もあって評判がよろしくないのは聞いていた。 まぁ「設計限界」というやつなんだろう。\nその代わりといってはナニだが楕円曲線暗号のひとつである EdDSA (楕円曲線 ed25519/ed488) が FIPS 186-5 から電子署名標準のひとつとして加わることになっている。 これについては以前に記事を書いた（なんでそのときに DSA に気がつかなかったのか）。\n Edwards-curve Digital Signature Algorithm  まぁ，時代は楕円曲線暗号ということなのだろう。 次期 OpenPGP である RFC 4880bis が正式にリリースされるタイミングでメインの鍵を替えようかと目論んでいるのだが，前倒ししたほうがいいのかねぇ。\nブックマーク  crypto/dsa: deprecate and remove from crypto/x509 and x/crypto/ssh · Issue #40337 · golang/go · GitHub Cryptography Dispatches: DSA Is Past Its Prime そろそろ GnuPG でも ECC を標準で使うのがいいんじゃないかな Go 1.16 がリリースされた： Go 1.16 では crypto/dsa パッケージが非推奨になった。  参考図書  暗号技術入門 第3版　秘密の国のアリス 結城 浩 (著) SBクリエイティブ 2015-08-25 (Release 2015-09-17) Kindle版 B015643CPE (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  SHA-3 や Bitcoin/Blockchain など新しい知見や技術要素を大幅追加。暗号技術を使うだけならこれ1冊でとりあえず無問題。\nreviewed by Spiegel on 2015-09-20 (powered by PA-APIv5)\n  暗号化 プライバシーを救った反乱者たち スティーブン・レビー (著), 斉藤 隆央 (翻訳) 紀伊國屋書店 2002-02-16 単行本 4314009071 (ASIN), 9784314009072 (EAN), 4314009071 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  20世紀末，暗号技術の世界で何があったのか。知りたかったらこちらを読むべし！\nreviewed by Spiegel on 2015-03-09 (powered by PA-APIv5)\n   DSA は実装に必要な要素技術が多く，そのうちのひとつでも瑕疵があれば全体のセキュリティ強度が下がってしまう。 \u0026#x21a9;\u0026#xfe0e;\n   "
    },
    {
      "title": "Go 1.16 がリリースされた",
      "section": "release",
      "description": "毎度のごとく多岐にわたる変更あり。",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/release/2021/02/go-1_16-is-released/",
      "published": "2021-02-17T10:16:04+00:00",
      "update": "2021-02-24T10:54:12+00:00",
      "content": "Go 1.16 がリリースされた。\n Go 1.16 is released  毎度のごとく変更は多岐にわたるが，個人的に気になった部分を挙げておく。\n macOS の 64bit ARM アーキテクチャをサポート。 darwin/arm64 で指定可能。またこれにより iOS ポートが ios/arm64 または ios/amd64 にリネームされた（後者は iOS シミュレータ用） GO111MODULE 環境変数の既定値が on になった。以前の状態に戻すには auto を指定すること go install コマンドの引数がバージョン番号サフィックスを受け入れるようになった  例： go install example.com/cmd@v1.0.0   go build や go test などのビルド系コマンド実行時に go.mod や go.sum ファイルの変更を行わなくなった go.mod によるモジュール設定で retract ディレクティブが追加された ラベルのない for ループ，メソッド値，型スイッチのある関数をインライン化できるようになった embed パッケージおよび //go:embed ディレクティブの追加 io/fs パッケージの追加によりファイルシステムの汎化が容易になった io/ioutil パッケージの非推奨化 crypto/dsa パッケージの非推奨化。これに伴い crypto/x509 で DSA による電子署名検証機能がドロップされた（電子署名生成は以前からないらしい） os/signal.NotifyContext() 関数の追加。これにより SIGNAL 到着時に context.Context によるキャンセルを容易に実装できる strconv のパフォーマンス改善（最大で2倍らしい）  例によって Ubuntu の APT で管理している Go コンパイラは古いので，ダウンロードページからバイナリ（go1.16.linux-amd64.tar.gz）を取ってきて手動でインストールすることを強く推奨する。 以下は手動での作業例。\n$ cd /usr/local/src $ sudo curl -L \u0026#34;https://golang.org/dl/go1.16.linux-amd64.tar.gz\u0026#34; -O $ cd .. $ sudo unlink go # 以前の Go が入っている場合 $ sudo tar xvf src/go1.16.linux-amd64.tar.gz $ sudo mv go go1.16 $ sudo ln -s go1.16 go $ go version # /usr/local/go/bin にパスが通っている場合 go version go1.16 linux/amd64 アップデートは計画的に。\nブックマーク   Go 1.16 is released - The Go Blog\n  Go 1.16 Release Notes - The Go Programming Language\n  Go 1.16 リリースノート 日本語訳 - Qiita\n  DSA は NIST 電子署名標準から外れるようだ\n  time.Ticker で遊ぶ【Go 1.16 バージョン】\n  io/ioutil の非推奨化について\n  Go 1.16 からのモジュール管理\n  紙芝居用の簡易サーバを書く【Go 1.16 版】\n  参考図書  プログラミング言語Go (ADDISON-WESLEY PROFESSIONAL COMPUTING SERIES) Alan A.A. Donovan (著), Brian W. Kernighan (著), 柴田 芳樹 (翻訳) 丸善出版 2016-06-20 単行本（ソフトカバー） 4621300253 (ASIN), 9784621300251 (EAN), 4621300253 (ISBN), 9784621300251 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  著者のひとりは（あの「バイブル」とも呼ばれる）通称 “K\u0026amp;R” の K のほうである。この本は Go 言語の教科書と言ってもいいだろう。\nreviewed by Spiegel on 2016-07-13 (powered by PA-APIv5)\n "
    },
    {
      "title": "手遊びで日本版 Google COVID-19 Forecast データを取得するツールを作ってみた",
      "section": "release",
      "description": "大した機能はないが，よろしければどうぞ。",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/release/2021/02/cov19jpn/",
      "published": "2021-02-14T10:38:03+00:00",
      "update": "2021-02-14T10:39:14+00:00",
      "content": "天下無敵の無職の頃は自分の住んでる地域以外はあまり気にする必要がなかったが，仕事をするようになれば客先地域の感染状況とかも気にしないといけない。 ただ，公表されている情報に関しては自治体によってバラバラで統一性がなく，国レベルで整理して公表しているというわけでもないっぽい？\nで，軽くググってみたが Google が公開している日本版 COVID-19 Forecast データが使いやすいようだ。\n 日本版 Google COVID-19 Forecast データを眺める  予測値はともかく，実績値だけでもこのレベルで国が取り扱ってくれんもんかねぇ。\n愚痴はともかく，このデータを使って簡単なツールを作ってみた。\n spiegel-im-spiegel/cov19jpn: COVID-2019 in Japan; Importing Google COVID-19 Public Forecasts  たとえばコマンドラインで\n$ cov19jpn plot tokyo とかやれば\ntokyo-cov19-chart.png  てな感じに棒グラフを出力してくれる。 ちなみに7日単位の集計で，過去4週間分の実績値と，それに続く1週間分の予測値を表示している。 個人的には AI 予測は「当たるも八卦」とあまり信用してないが，1週間分なら多少は参考になるかもしれない。\nなお，コマンドラインの都道府県名を省略すると47都道府県のグラフをそれぞれ出力するのでご注意を（笑）\nあと，\n$ cov19jpn csv tokyo japan_prefecture_code,prefecture_name,target_prediction_date,cumulative_confirmed,cumulative_confirmed_q0025,cumulative_confirmed_q0975,cumulative_deaths,cumulative_deaths_q0025,cumulative_deaths_q0975,hospitalized_patients,hospitalized_patients_q0025,hospitalized_patients_q0975,recovered,recovered_q0025,recovered_q0975,cumulative_confirmed_ground_truth,cumulative_deaths_ground_truth,hospitalized_patients_ground_truth,recovered_ground_truth,forecast_date,new_deaths,new_confirmed,new_deaths_ground_truth,new_confirmed_ground_truth,prefecture_name_kanji JP-13,TOKYO,2021-01-15,,,,,,,,,,,,,82069,717,19797,61555,2021-02-11,,,,,東京都 JP-13,TOKYO,2021-01-16,,,,,,,,,,,,,83878,720,19879,63279,2021-02-11,,,3,1809,東京都 JP-13,TOKYO,2021-01-17,,,,,,,,,,,,,85470,725,20646,64099,2021-02-11,,,5,1592,東京都 JP-13,TOKYO,2021-01-18,,,,,,,,,,,,,86674,728,20777,65169,2021-02-11,,,3,1204,東京都 JP-13,TOKYO,2021-01-19,,,,,,,,,,,,,87914,744,20289,66881,2021-02-11,,,16,1240,東京都 ... などと都道府県単位で絞って CSV 出力することも可能。\n手遊びで作ったものなので大した機能はないが，よろしければどうぞ。\nブックマーク  WHO COVID-2019 データを取得するパッケージを作ってみた  "
    },
    {
      "title": "Libgcrypt 1.9 系へのアップグレードはちょっと待ちなはれ",
      "section": "release",
      "description": "GnuPG 2.2 系のみに Libgcrypt を使っているのなら今すぐ 1.9 系にアップグレードする必要はない。",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/release/2021/02/libgcrypt-1_9-series/",
      "published": "2021-02-11T02:24:15+00:00",
      "update": "2021-02-11T02:51:23+00:00",
      "content": "なんかメチャメチャ忙しい。 この前うっかり休日出勤したら，その後の体調が急落してしまった。 他のプロジェクトメンバにはホンマに申し訳ないが，祝日と休日（と土曜日）はカレンダー通り休ませてもらうことにした。 歳をとるとあちこちガタが来るのよ。 マジすんません \u0026#x1f647;\n閑話休題 (それはさておき) 。\n先月の話で恐縮だが，ついに 1.9 系の Libgcrypt が安定版としてリリースされた。\n [Announce] Libgcrypt 1.9.0 relased  これによると\nWe are pleased to announce the availability of Libgcrypt version 1.9.0. This release starts a new stable branch of Libgcrypt with full API and ABI compatibility to the 1.8 series. Over the last 3 or 4 years Jussi Kivilinna put a lot of work into speeding up the algorithms for the most commonly used CPUs. via Libgcrypt 1.9.0 relased  とのことで，現行の 1.8 系との後方互換性を図りつつ，パフォーマンス改善やアルゴリズム追加等が行われているようだ。 詳しくは以下の通り。\n  New and extended interfaces:\n New curves Ed448, X448, and SM2. New cipher mode EAX. New cipher algo SM4. New hash algo SM3. New hash algo variants SHA512/224 and SHA512/256. New MAC algos for Blake-2 algorithms, the new SHA512 variants, SM3, SM4 and for a GOST variant. New convenience function gcry_mpi_get_ui. gcry_sexp_extract_param understands new format specifiers to directly store to integers and strings. New function gcry_ecc_mul_point and curve constants for Curve448 and Curve25519. [#4293] New function gcry_ecc_get_algo_keylen. New control code GCRYCTL_AUTO_EXPAND_SECMEM to allow growing the secure memory area. Also in 1.8.2 as an undocumented feature.    Performance:\n Optimized implementations for Aarch64. Faster implementations for Poly1305 and ChaCha. Also for PowerPC. [b9a471ccf5,172ad09cbe,#4460] Optimized implementations of AES and SHA-256 on PowerPC. [#4529,#4530] Improved use of AES-NI to speed up AES-XTS (6 times faster). [a00c5b2988] Improved use of AES-NI for OCB. [eacbd59b13,e924ce456d] Speedup AES-XTS on ARMv8/CE (2.5 times faster). [93503c127a] New AVX and AVX2 implementations for Blake-2 (1.3/1.4 times faster). [af7fc732f9, da58a62ac1] Use Intel SHA extension for SHA-1 and SHA-256 (4.0/3.7 times faster). [d02958bd30, 0b3ec359e2] Use ARMv7/NEON accelerated GCM implementation (3 times faster). [2445cf7431] Use of i386/SSSE3 for SHA-512 (4.5 times faster on Ryzen 7). [b52dde8609] Use 64 bit ARMv8/CE PMULL for CRC (7 times faster). [14c8a593ed] Improve CAST5 (40% to 70% faster). [4ec566b368] Improve Blowfish (60% to 80% faster). [ced7508c85]     via Libgcrypt 1.9.0 relased  現行の 1.8 系は LTS バージョンという位置付けで今後もサポートされるようだ。 また GnuPG 2.2 系も併せて LTS の位置付けになっている。 おそらく 2.3 系の一般リリースが近いのであろう。\nLibgcrypt は汎用の暗号ライブラリだが GnuPG 以外で使っている事例を寡聞にして知らない。 ほとんどのユーザはそうだと思うが GnuPG 2.2 系のみに Libgcrypt を使っているのなら今すぐ 1.9 系にアップグレードする必要はない。 しばらくは推移を見守っていたほうがいいだろう。 当分は頻繁なアップデートが行われるだろうし，重大なバグや脆弱性については 1.8 系にもフィードバックされる筈である1。\nなお Libgcrypt 1.9.0 でさっそく脆弱性が見つかって 1.9.1 がリリースされている。\nThere is a heap buffer overflow in libgcrypt due to an incorrect assumption in the block buffer management code. Just decrypting some data can overflow a heap buffer with attacker controlled data, no verification or signature is validated before the vulnerability occurs. via [Announce] [Security fix] Libgcrypt 1.9.1 relased  既に Libgcrypt 1.9.0 を運用している場合はアップデートしませう。\nアップデートは計画的に 最近の GnuPG 関連のアップデート状況は以下の通り。\n   # パッケージ名 バージョン 公開日 更新     1 Libgpg-error 1.41 2020-12-21    2a Libgcrypt (LTS) 1.8.7 2020-10-23    2b Libgcrypt 1.9.1 2021-01-29    3 Libassuan 2.5.4 2020-10-23    4 Libksba 1.5.0 2020-11-18    5 nPth 1.6 2018-07-16    6 ntbTLS 0.2.0 2020-08-27    7 GnuPG (LTS) 2.2.27 2021-01-11     脆弱性が公表されると碌に中身も見ずに「すぐにアップデートしろ」みたいなことを言う馬鹿メディアもあるようだが，20年前の牧歌的な時代ならともかく今は可用性（availability）も明確にセキュリティ・リスクとして認知されているんだから，考えなしにアップデートできるわけ無いだろ！ セキュリティ部品はシステム規模が大きくなる程いざというときの影響が大きい。 勿論いつまでも放置するのは論外だが。\nというわけで，アップデートは計画的に。\nブックマーク  OpenPGP の実装  参考図書  暗号化 プライバシーを救った反乱者たち スティーブン・レビー (著), 斉藤 隆央 (翻訳) 紀伊國屋書店 2002-02-16 単行本 4314009071 (ASIN), 9784314009072 (EAN), 4314009071 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  20世紀末，暗号技術の世界で何があったのか。知りたかったらこちらを読むべし！\nreviewed by Spiegel on 2015-03-09 (powered by PA-APIv5)\n  暗号技術入門 第3版　秘密の国のアリス 結城 浩 (著) SBクリエイティブ 2015-08-25 (Release 2015-09-17) Kindle版 B015643CPE (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  SHA-3 や Bitcoin/Blockchain など新しい知見や技術要素を大幅追加。暗号技術を使うだけならこれ1冊でとりあえず無問題。\nreviewed by Spiegel on 2015-09-20 (powered by PA-APIv5)\n   Libgcrypt 1.8 系がいつまでサポートされるかは明示されていないが， 1.7 系のときは1年前には予告があったので，それまでは気にしなくてもいいと思う。 \u0026#x21a9;\u0026#xfe0e;\n   "
    }
  ]
}
