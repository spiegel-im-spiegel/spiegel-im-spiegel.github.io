{
  "title": "text.Baldanders.info",
  "url": "https://text.baldanders.info/",
  "feed": "https://text.baldanders.info/index.xml",
  "description": "帰ってきた「しっぽのさきっちょ」",
  "entry": [
    {
      "title": "『Go言語で学ぶ並行プログラミング』は必読書である（夏の読書感想文2）",
      "section": "remark",
      "description": "特に第1部と第3部は全てのプログラマが読むべき内容だと思う",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2025/08/learn-concurrent-programming-with-go/",
      "published": "2025-08-23T14:16:37+00:00",
      "update": "2025-08-24T10:17:40+00:00",
      "content": "夏の読書感想文。 『にぎやかな未来』に続いて今回は『Go言語で学ぶ並行プログラミング』の感想文。\n今年の1月から始まったオンライン読書会は第7回で無事に終了。 この記事ではあまり深堀りせず「訳者あとがき」やオンライン読書会の話などを中心にさらっと書いてみる。 なお『Go言語で学ぶ並行プログラミング』は版元で PDF 版が買える。 もしデジタル版をご所望であれば PDF 版を購入することを強くお勧めする。\nオンライン読書会は翻訳者の柴田芳樹さんが主催者なのだが，柴田芳樹さんといえば Java の技術参考書の翻訳本でも有名な方で，今回の読書会でも Java との対比で解説されることも多々あり，非常に勉強になった。 サンプルコードなどは，タイトル通り Go 言語が前提になっているが，内容としては特定のプログラミング言語に限ることなく普遍的な内容になっている。\n『Go言語で学ぶ並行プログラミング』は大きく三部構成になっている。\n第1部 並行プログラミングの基礎 第2部 メッセージパッシング 第3部 並行処理のさらなるトピック 大雑把な内容はこんな感じ。\n「第1部 並行プログラミングの基礎」では、Go 言語に限定せず、並行プログラミングについての多くの基礎的な事柄が説明されています。したがって、他のプログラミング言語での開発においても役立つ知識となるでしょう。実際、私自身も Go 言語を学ぶまでは、この第1部で紹介される技法だけで長年プログラミングを行ってきました。\n「第2部 メッセージパッシング」では、Go 言語が提供するチャネルを中心に解説しています。そのため、内容の多くは Go 言語に特化しており、 Go でプログラミングを行う開発者にとって必須の知識となります。\n「第3部 並行処理のさらなるトピック」は高度なトピックを扱っていますが、開発者として知っておくべき重要な領域です。\n『Go言語で学ぶ並行プログラミング』訳者あとがきより 基本的に最初から順に読んでいくのがオススメだが，特に第1部と第3部は全てのプログラマが読むべき内容だと思う。 第2部は CSP (communicating sequential processes) と呼ばれる並行処理モデルについて詳しく解説している。 具体的には Go のチャネルを使ったデザインパターンを紹介している。\n並行プログラミングを Go で書く強みは，カーネルレベルスレッドとユーザーレベルスレッドを組み合わせた極軽量1 な M:N スレッディングモデルと第一級オブジェクト（first-class object）として実装されているチャネルにある。 例えば，大量の軽量スレッドとチャネルを組み合わせたパイプライン・パターンを使った素数探索コードを紹介している。 “Go Playground” でもサンプルコードとして “Concurrent Prime Sieve” が例示されているので見比べてみると面白いかもしれない2。\n『Go言語で学ぶ並行プログラミング』には Go では今や一般的になった context パッケージについての言及がない3。 その代わりもう少し簡単な quit チャネルを使ったパターンを紹介している。 Go 以外の言語で考える場合や context パッケージがとっつきにくいと感じる人は9章で登場する quit チャネルを使ったパターンで考えるほうが分かりやすいかもしれない。\n「訳者あとがき」に書かれているが『Go言語で学ぶ並行プログラミング』にはメモリモデルについての言及がない。 Go の場合は公式ドキュメントとして “The Go Memory Model” が公開されているので，一度は目を通しておくとよいだろう。 でもドキュメントの冒頭に\nIf you must read the rest of this document to understand the behavior of your program, you are being too clever. via The Go Memory Model とか書いてあったりするので，沼らない程度にさらっと見るくらいでいいだろう4（笑）\n他にも「訳者あとがき」には本編にはない有用な情報が書かれているので最後まで余さず読んでみてほしい。\n以前は『Go 言語による並行処理』をお勧めしていたが，今なら断然『Go言語で学ぶ並行プログラミング』のほうをお勧めする（併せて読むとなおよし）。 まぁ，あとから出た本のほうがよく出来てるのは当然なんだろうけど。 斬新というわけではないが，並行プログラミングを書く際の基本を押さえた堅実な内容だと思う。\n以下は余談：\nとあるオンライン読書会の雑談で出てきた話題なのだが「食事する哲学者の問題（dining philosophers problem）」というのがあるそうな。\n簡単に言うとこんな感じに円卓に複数の哲学者がいて食事をするのだが\nvia File:Dining philosophers diagram.jpg - Wikimedia Commons 食事にはひとりあたり2つのフォークが必要なのに人数分しか用意されていない。 そのままだとフォークの取り合いによるデッドロックが発生してしまうわけだ。 デッドロックによる飢餓（starvation）が発生しないようにするにはどうするか，という問題である（他にもいくつか条件があるが割愛する。詳しくは上述のリンク先の記事をどうぞ）。\n並行プログラミングの練習問題として丁度いいよね。 これを Go で解くことを「夏休みの自由研究」にしようかと思っていたのだが，もたもたしてるうちに夏が終わりそうである。\nブックマーク goroutine はグリーンスレッドではない（『Go言語で学ぶ並行プログラミング』読書会1回目） 条件変数とセマフォ（『Go言語で学ぶ並行プログラミング』読書会3回目） 『Go言語で学ぶ並行プログラミング』の練習問題より 参考図書 Go言語で学ぶ並行プログラミング　他言語にも適用できる原則とベストプラクティス impress top gearシリーズ James Cutajar (著), 柴田 芳樹 (著) インプレス 2024-12-04 (Release 2024-12-04) Kindle版 B0DNYMMBBQ (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 読書会のために購入。インプレス社の本は Kindle 版より版元で PDF 版を買うのがオススメ。「並行処理」について原理的な解説から丁寧に書かれている。 Go で解説されているが Go 以外の言語でも応用できる。 reviewed by Spiegel on 2025-01-25 (powered by PA-APIv5)\nプログラミング言語Go (ADDISON-WESLEY PROFESSIONAL COMPUTING SERIES) Alan A.A. Donovan (著), Brian W. Kernighan (著), 柴田 芳樹 (翻訳) 丸善出版 2016-06-20 単行本（ソフトカバー） 4621300253 (ASIN), 9784621300251 (EAN), 4621300253 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 著者のひとりは（あの「バイブル」とも呼ばれる）通称 “K\u0026amp;R” の K のほうである。この本は Go 言語の教科書と言ってもいいだろう。と思ったら絶版状態らしい（2025-01 現在）。復刊を望む！\nreviewed by Spiegel on 2016-07-13 (powered by PA-APIv5)\nGo言語による並行処理 Katherine Cox-Buday (著), 山口 能迪 (翻訳) オライリージャパン 2018-10-26 単行本（ソフトカバー） 4873118468 (ASIN), 9784873118468 (EAN), 4873118468 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; Eブック版もある。感想はこちら。 Go 言語で並行処理を書くならこの本は必読書になるだろう。\nreviewed by Spiegel on 2020-01-13 (powered by PA-APIv5)\nGo言語 100Tips ありがちなミスを把握し、実装を最適化する impress top gearシリーズ Teiva Harsanyi (著), 柴田 芳樹 (著) インプレス 2023-08-18 (Release 2023-08-18) Kindle版 B0CFL1DK8Q (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 版元で PDF 版を購入可能。事実上の Effective Go とも言える充実の内容。オリジナルは敢えてタイトルに “tips” という単語を入れるのを避けたのに邦題が「100 Tips」とかなっていて，原作者がお怒りとの噂（あくまで噂）\nreviewed by Spiegel on 2023-08-18 (powered by PA-APIv5)\nGoroutine ごとに割り当てられる初期のスタックサイズは数KB程度で非常に軽量である。さらに処理に応じて動的にスタックサイズが変化する。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nパイプライン・パターンを使った素数探索は，残念ながら速くない。これは素数探索に使える最適化アルゴリズムが使えず，発見した素数の数だけフィルタ処理を行う goroutine が生成されてしまうため。 “Concurrent Prime Sieve” は main() 関数で指定した数だけ素数を探すのだが，たとえば100個の素数を探す場合は最大で100個の goroutine が生成され goroutine 間を繋ぐチャネルも同じ数だけ生成される。多数のスレッド（goroutine）を苦もなく生成・駆動・通信する例としては面白いと思うけどね。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\ncontext パッケージについては『Go言語 100Tips』の8章〜9章で触れられている。また『Go言語による並行処理』の4.12節にも詳しい解説がある。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nGo のメモリモデルについては『Go言語 100Tips』の8.4.2節に言及がある。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n"
    },
    {
      "title": "大根島初上陸（お散歩カメラ 2025-08-17）",
      "section": "remark",
      "description": "大根島走るの楽しいな。",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2025/08/17-osanpo-camera/",
      "published": "2025-08-17T11:34:14+00:00",
      "update": "2025-08-17T12:08:02+00:00",
      "content": "実は私，生まれてこのかた大根島に行ったことがなかったのですよ。 子供の頃は名前の通り「島」だったし。\n中止になった中海淡水化事業 の影響で大根島が（ほぼ）地続きになり1，さらに平成の大合併で松江市に編入されてしまった。 大根島の由志園は春の牡丹が有名だそうで，いつか（自転車で）行ってみたいと思っているのだが，その前にまず大根島上陸の実績を解除しないと（笑）\nというわけで，今回のコース。\n中海半周（前半） 中海大橋から中海西岸を北上し，大海崎橋から大根島に向かう道に入る。 大根島の北側を巡って江島に渡り，そこからさらに北上して最後は道の駅本庄までのルート。\nさっそく行ってみよう。\n中海大橋 | Flickr 大根島に入るよ！\n大根島へ渡る道 | Flickr おっ。 島に鳥居。\n京島／龍宮神鳥居 | Flickr 龍宮神鳥居というらしい。 海岸沿いを走るの楽しい！\n中海北部周遊サイクリングコース | Flickr 今回のコースは「中海北部周遊サイクリングコース」として紹介されている。 まぁ，実際にはこのコース半周分かな。\nさて，江島に渡って有名なアレを撮ってみる。\nベタ踏み坂（渡らんよ） | Flickr 渡らんよ（笑）\n正式名は「江島大橋」。 CM で有名になったそうだが，実は勾配が5%〜6%くらいしかないらしい。 ただしこの勾配が数百メートル続くため（全長1.7km）写真に撮るとこんな感じに物凄い急坂に見えるっぽい。 一種の錯覚ですな。\n5%〜6%くらいなら私の貧弱な脚力・体力でもどうにか渡れるかなぁ\u0026hellip; でも，まぁ，挑戦するなら来年以降だな。\nというわけでベタ踏み坂を横に見ながら北上し島根半島側・長海町に入り，西進して道の駅本庄へ。\nクールダウン中（道の駅本庄） | Flickr 柿ソフトクリームでクールダウン。 昼飯も道の駅でいただいて，さてどうしよう。\nこの時点でまだ12時過ぎだったので\u0026hellip; よし鹿島多久の湯へ行こう。\n温泉上がりのコーヒー牛乳＆日焼け止め（鹿島多久の湯） | Flickr 木次乳業さん，いつもお世話になってます。\n露天風呂でゆっくりし，風呂上がりも畳の休憩室でゆっくり休憩した後，えんやらやっと帰宅しませう。\n今日の宍道湖 | Flickr 大根島走るの楽しいな。 思ったより車の流量も多くなく，大根島のメイン道路の（自転車通行可な）歩道や路側帯も広めにとっていて走りやすい。 ぶっちゃけ本庄方面へ行くなら，中海西岸を走るよりも大根島ルートのほうが楽しい。 今後も利用していこう。\n盆休みもこれで終わり。 明日は月曜日。\n「中海」とあるが厳密には汽水湖で斐伊川水系の一部。いや，舐めたらきっちりしょっぱいんだけどね。それでも普通の海の半分ほどの塩分濃度らしい。宍道湖と中海が斐伊川水系ということで合わせると結構な流域面積になる。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n"
    },
    {
      "title": "宍道湖湖北自転車道（お散歩カメラ 2025-08-13）",
      "section": "remark",
      "description": "試しに宍道湖湖北自転車道を通って道の駅 秋鹿なぎさ公園まで行ってみることにした。",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2025/08/13-osanpo-camera/",
      "published": "2025-08-13T11:07:39+00:00",
      "update": "2025-08-15T12:31:13+00:00",
      "content": "さて，今日は迎え盆です。 みなさま，いかがお過ごしでしょうか。 私といえば実家のことは弟に全部丸投げです。 すみません 🙇\n最近，某 SNS で宍道湖湖北自転車道を通るルートが紹介されていて，「これを使えばフォーゲルパークやゴビウスに行くのが少し楽になるのでは？」と思いつく1。\n今回は試しに宍道湖湖北自転車道を通って道の駅 秋鹿なぎさ公園まで行ってみることにした。 コースはこんな感じで松江しんじ湖温泉駅付近を始点にしている。\n道の駅 秋鹿なぎさ公園へ 宍道湖湖北自転車道に入るまでの道が，とにかく分かりにくくて迷いまくった。 それでもどうにか自転車道に入る。\n宍道湖湖北自転車道 | Flickr ここからはスムーズに道の駅まで行けた。 とりあえずクールダウン。\nクールダウン中（道の駅 秋鹿なぎさ公園） | Flickr それじゃあ，引き返しますかね。 帰りは景色を眺めながらのんびりサイクリング。\n道の駅 秋鹿なぎさ公園 | Flickr 太兵衛橋（宍道湖湖北自転車道） | Flickr 宍道湖湖北自転車道 | Flickr 自転車道を出てからまた道に迷いまくる。 どうにか市街へ戻れたので，ついでに遠回りして帰ろうかなとノープランで走ってたら，いつの間にか縁結び大橋を渡っていた。\n縁結び大橋 自転車歩行者道 | Flickr うーん。 まぁ，今日はそういう気分だったのだろう（笑）\nというわけで，市内をぐるぐる回って帰りましたとさ。\n参考 Canon コンパクトデジタルカメラ PowerShot ZOOM 写真と動画が撮れる望遠鏡 PSZOOM キヤノン (Release 2020-12-10) エレクトロニクス B08L4WKDZ7 (ASIN), 4549292179675 (EAN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 望遠鏡型コンパクトデジカメ。メモリと充電器（要 Power Delivery）は別に用意する必要がある。使い勝手はまぁまぁ。\nreviewed by Spiegel on 2022-12-04 (powered by PA-APIv5)\nGARMIN(ガーミン)Edge Explore 2 Power サイクルコンピューター【日本正規品】 ガーミン(GARMIN) (Release 2022-09-22) スポーツ用品 B0BD7FGVR6 (ASIN), 0753759310660 (EAN), 753759310660 (UPC) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; Garmin 製のルート探索・ナビゲーション特化のサイコン。タッチパネル助かる。充電ポートは USB-C (not PD)。また別売りの変換ケーブルを使いモバイルバッテリからパワーマウント経由で給電することもできる。ライドタイプが「ロード」「屋内」「グラベル」の3種類しかない。 Live Segment 非対応。\nreviewed by Spiegel on 2024-08-11 (powered by PA-APIv5)\nミッドサマーシトラス ReGLOSS (メインアーティスト) cover corp. 2025-07-11 (Release 2025-07-11) MP3 ダウンロード B0FGXSM5LL (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 青くんがおる！ MV を見て衝動買い。 mora で高解像度版が買える。夏の歌というか（あの頃の）夏を振り返る歌って感じだろうか。よき！\nreviewed by Spiegel on 2025-07-12 (powered by PA-APIv5)\n落噺 (儒烏風亭らでん SOLO) ReGLOSS (メインアーティスト) cover corp. 2025-08-03 (Release 2025-08-03) MP3 ダウンロード B0FKB9Y1GL (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 「おとしばなし」と読むらしい。語るように歌い，歌うように語る。「儒烏風亭らでん」らしい秀逸な作品。 mora で高解像度版が買える。\nreviewed by Spiegel on 2025-08-03 (powered by PA-APIv5)\n宍道湖沿い北側の国道431号線は道幅が狭い割に交通量が多く自転車に優しくないため，それを避けるべく今までは北に大回りして農免農道を通るようにしていた。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n"
    },
    {
      "title": "Go 1.25 のリリース",
      "section": "release",
      "description": "ついに encoding/json/v2 パッケージが実装された。ただし実験的実装",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/release/2025/08/go-1_25-is-released/",
      "published": "2025-08-13T01:46:18+00:00",
      "update": "2025-08-24T11:06:59+00:00",
      "content": "予定通り8月に Go 1.25 がリリースされた。\nGo 1.25.0 is released Go 1.25 Release Notes - The Go Programming Language Go 1.25 is released - The Go Programming Language リリースノートをざっと眺めて個人的に気になった部分をピックアップする。\ngo.mod に ignore ディレクティブを追加 go.mod ファイルの記述に ignore ディレクティブが追加された。 これを使うことで Go コマンドの解析対象から除外するディレクトリを指定できる。 たとえば\nmodule example.com/my/module go 1.25 ignore ./node_modules ignore ( static content/html ./third_party/javascript ) みたいな感じ。 Go のコードとは関係ないディレクトリに大量のファイルがある場合は ignore ディレクティブで対象ディレクトリを指定することによって Go コマンドの解析効率を上げる，というのが目的らしい。\nnil ポインタに関するバグの修正 たとえば\npackage main import \u0026#34;os\u0026#34; func main() { f, err := os.Open(\u0026#34;nonExistentFile\u0026#34;) name := f.Name() if err != nil { return } println(name) } というコードで os.Open() 関数で失敗した場合，本来は f に nil が入ってるはずなので name := f.Name() の部分で panic になる筈なのだが，1.21 以降 1.24 以前のバージョンでは err != nil のチェックが行われるまで評価が遅延されてしまい panic にならずに通ってしまっていたらしい。 上述のコードの場合は実害なさげだが，もっと複雑なコードでは問題になるかもしれない。\nというわけで 1.25 では上述のコードの場合，正しく panic を吐くよう修正された。 併せて，エラーチェックに関しては\npackage main import \u0026#34;os\u0026#34; func main() { f, err := os.Open(\u0026#34;nonExistentFile\u0026#34;) if err != nil { return } name := f.Name() println(name) } のように，可能な限り error を返す関数の直後に err != nil のチェックを行うよう推奨している。\nencoding/json/v2 パッケージの実験的実装 ついに encoding/json/v2 パッケージが実装された。\nただし，今のところは experimental implementation であり，今後のバージョンとの互換性は保証されていないため，取り扱いには注意が必要である。 新しいパッケージを有効にするには，ビルド時に環境変数で GOEXPERIMENT=jsonv2 と指定する必要がある。 また，この環境変数をセットすることで従来の encoding/json パッケージの内部実装も v2 ベースに切り換わるらしい。\nというわけで，今の encoding/json パッケージで問題がないのであれば v2 パッケージへの移行は今のところは保留しておいたほうがいいかもしれない。 ただし encoding/json パッケージの最新ドキュメントには\nFor historical reasons, the default behavior of v1 encoding/json unfortunately operates with less secure defaults. New usages of JSON in Go are encouraged to use encoding/json/v2 instead. json package - encoding/json - Go Packagesより などと記されており，将来的には v2 パッケージへの移行が必要になるだろう。\nその他 コンテナ対応の GOMAXPROCS 新しい実験的な GC ビルド時に環境変数に GOEXPERIMENT=greenteagc を指定 runtime/trace.FlightRecorder API crypto パッケージの改良 Windows で os.NewFile() の改良。 non blocking I/O のサポート 他にも様々な変更・改良がある。\nGo 1.25.0 の導入 Ubuntu の APT で管理している Go コンパイラは古いので，ダウンロードページからバイナリ（go1.25.0.linux-amd64.tar.gz）を取ってきてインストールすることを推奨する。 以下は完全手動での作業例。\n$ cd /usr/local/src $ sudo curl -LO \u0026#34;https://go.dev/dl/go1.25.0.linux-amd64.tar.gz\u0026#34; $ cd .. $ sudo unlink go # 以前の Go が入っている場合 $ sudo tar xvf src/go1.25.0.linux-amd64.tar.gz $ sudo mv go go1.25.0 $ sudo ln -s go1.25.0 go $ go version # /usr/local/go/bin にパスが通っている場合 go version go1.25.0 linux/amd64 Windows はインストールパッケージを取ってきて直接インストールする。 Scoop 経由でも OK\n複数バージョンの Go コンパイラを扱いたい場合は\n$ go install golang.org/dl/25.0@latest $ go1.25.0 download $ go1.25.0 version go version go1.25.0 linux/amd64 てな感じに導入できる。\nブックマーク Go1.25 New Features 参考図書 プログラミング言語Go (ADDISON-WESLEY PROFESSIONAL COMPUTING SERIES) Alan A.A. Donovan (著), Brian W. Kernighan (著), 柴田 芳樹 (翻訳) 丸善出版 2016-06-20 単行本（ソフトカバー） 4621300253 (ASIN), 9784621300251 (EAN), 4621300253 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 著者のひとりは（あの「バイブル」とも呼ばれる）通称 “K\u0026amp;R” の K のほうである。この本は Go 言語の教科書と言ってもいいだろう。と思ったら絶版状態らしい（2025-01 現在）。復刊を望む！\nreviewed by Spiegel on 2016-07-13 (powered by PA-APIv5)\n効率的なGo ―データ指向によるGoアプリケーションの性能最適化 Bartłomiej Płotka (著), 山口 能迪 (翻訳) オライリー・ジャパン 2024-02-24 単行本（ソフトカバー） 4814400535 (ASIN), 9784814400539 (EAN), 4814400535 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 版元で Ebook を買える。Go言語のリファレンス本ではない。フトウェア工学，プログラミング（の考え方）を学ぶ教科書的な位置づけかなぁ。\nreviewed by Spiegel on 2024-04-21 (powered by PA-APIv5)\nGo言語で学ぶ並行プログラミング　他言語にも適用できる原則とベストプラクティス impress top gearシリーズ James Cutajar (著), 柴田 芳樹 (著) インプレス 2024-12-04 (Release 2024-12-04) Kindle版 B0DNYMMBBQ (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 読書会のために購入。インプレス社の本は Kindle 版より版元で PDF 版を買うのがオススメ。「並行処理」について原理的な解説から丁寧に書かれている。 Go で解説されているが Go 以外の言語でも応用できる。 reviewed by Spiegel on 2025-01-25 (powered by PA-APIv5)\n"
    },
    {
      "title": "マウスが壊れた",
      "section": "remark",
      "description": "もう静音マウスじゃないとダメみたい",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2025/08/broken-mouse/",
      "published": "2025-08-03T04:13:05+00:00",
      "update": "2025-08-05T21:50:04+00:00",
      "content": "自宅機を Ubuntu 25.04 にアップグレードしたあたりからマウスのクリックの反応が悪くなったような気がしていた。 気になってはいたが「そのうちなんとかなるだろう♪」とクレイジーキャッツみたいなことを考えていたが，昨夜ついに左ボタンクリックが全く効かなくなった。 厳密には左ボタンを長押しすると反応するときがある。\nこの期に及んでもまだ PC 側に問題があるんじゃないかと疑っていたので，どうにかターミナルを立ち上げて\n$ sudo shutdown -h now とか打ち込んで一旦シャットダウンし，再度コールドブートから始めてみたが，状況は変わらず。 ふと思いついて予備の Bluetooth マウスを繋いでみたら問題なく動くぢゃん！ マウスはメーカーパソコンに付属しているものやショップのワゴンセールで買った100円くらいのマウスとか色々使ったけど，ボタンが壊れるという事態に遭遇したことがなかったので，今回の故障原因を思いつかなかった。 買ってから2年しか経ってないんだけどねぇ。 （勘違い。自宅機の静音マウスを買ったのは2021年（4年前）だった）\nというわけで，マウスの故障であることが確定したので，新しいマウスを Amazon で発注した。 Ubuntu のアップグレードは関係なかったらしい。 ごめんペコン 🙇\n今は緊急措置で Bluetooth マウスを使ってるんだけど，クリック音がカチカチ煩い。 すっかり静音マウスに慣れてしまった。 今までと同じロジクールの有線静音マウスを発注したんだけど，静音タイプだからボタン部分が弱いってことはないよね？\nまぁ，キーボードやマウスは消耗品だから。 火星人が作ったものじゃあるまいし，壊れない機械などない。 でも，消耗品だからこそ予備を用意して，いざというときに備えておくことが大事。\nそれにしても shutdown コマンドとか四半世紀ぶりに打った気がする。 今どきのサーバ機で shutdown コマンドなんか打つことはないだろうし，デスクトップ機は基本的にマウス操作だもんな。\n参考 Logicool ロジクール M110sBK 有線 静音 マウス 小型 左右対称型 USB 簡単接続 M110s ブラック 国内正規品 3年間無償保証 Logicool(ロジクール) (Release 2018-09-13) Personal Computers B07H55YTSV (ASIN), 4943765048428 (EAN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 今までは無線マウスを使っていたが USB 切替器との相性を憂慮して有線のものに買い替えた。静音タイプは感触がくねくねして気持ち悪い，という評価があるみたいだが，個人的には気にならないので無問題。\nreviewed by Spiegel on 2021-06-13 (powered by PA-APIv5)\nエレコム マウス Bluetooth (iOS対応) Sサイズ 小型 3ボタン IRセンサー 省電力 シルバー M-BT12BRSV エレコム (Release 2013-11-09) Personal Computers B00G9NIL7G (ASIN), 4953103501997 (EAN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; まぁ，マウスは消耗品だから（笑）\nreviewed by Spiegel on 2019-12-01 (powered by PA-APIv5)\nスーパーユーザーなら知っておくべきLinuxシステムの仕組み Brian Ward (著), 柴田 芳樹 (翻訳) インプレス 2022-03-08 (Release 2022-03-08) 単行本（ソフトカバー） 4295013498 (ASIN), 9784295013495 (EAN), 4295013498 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 版元で PDF 版が買える。セキュリティ・エリアにも持ち込めるよう紙の本を買ったのだが，オンライン読書会が始まったので PDF 版も購入。Linux システムの扱い方に関するリファレンス本として優れている。最初に軽く流し読みして，必要に応じて該当項目を拾い読みしていけばいいだろう。\nreviewed by Spiegel on 2023-02-11 (powered by PA-APIv5)\nクレイジーキャッツ・スーパー・デラックス(平成無責任増補盤) クレイジーキャッツ (アーティスト), 青島幸男 (その他), 大瀧詠一 (その他) ユニバーサル ミュージック 2019-03-26 (Release 2019-03-27) CD B07MPK2F11 (ASIN), 4988031321218 (EAN) クレイジーキャッツは私の原点です。子供の頃の刷り込みは恐ろしい（笑）\nreviewed by Spiegel on 2019-07-22 (powered by PA-APIv5)\n落噺 (儒烏風亭らでん SOLO) ReGLOSS (メインアーティスト) cover corp. 2025-08-03 (Release 2025-08-03) MP3 ダウンロード B0FKB9Y1GL (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 「おとしばなし」と読むらしい。語るように歌い，歌うように語る。「儒烏風亭らでん」らしい秀逸な作品。 mora で高解像度版が買える。\nreviewed by Spiegel on 2025-08-03 (powered by PA-APIv5)\n"
    },
    {
      "title": "花札といえば...",
      "section": "remark",
      "description": "「ホロの花札」が正式リリースされた。当然 Steam 版をゲット",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2025/08/about-hanafuda/",
      "published": "2025-08-01T07:00:26+00:00",
      "update": "2025-08-01T10:07:25+00:00",
      "content": "今年の5月末に Steam でデモ版が公開され楽しみに待っていた「ホロの花札」が正式リリースされた。 当然 Steam 版をゲット。 Steam 版は 2025-08-14 まで10%オフで購入可能。\nホロライブ ホロの花札 ホロライブ VTuber による関連配信をいくつか見たが，若い人は 花札→サマーウォーズ→こいこい という連想なのかねぇ。\n私の場合，母方の親戚がみんな花札好きで盆休みや年末年始で集まるたびに花札で遊んでいたのを思い出す。 しかもこいこいじゃなくて花合わせ。 さらに言うと，ローカルルールがかなりあった（今にして思えばだけど）。 あとは「じゃりン子チエ」かな。 あっちはカブ（おいちょかぶ）だったっけ。\nなんかすごい年寄りになった気がするな。 いや，年寄りだけど（笑）\n「ホロの花札」ではこいこいのほか花合わせとおいちょかぶも実装されている。 それ以外，というか本命は「ホロあわせ」と呼ばれるゲーム。\n【公式】『ホロの花札』儒烏風亭らでんさん「ホロあわせ」解説 - YouTube ベースのルールはこいこいなのだが，プラスで「ホロ役」と呼ばれる役（上がりの出来役ではない）が存在する。 この「ホロ役」がなかなか凶悪（褒め言葉）で，相手の持ち札を場に出させたり，カードをロックして役を成立させないようにしたり，挙げ句には相手の持ち札を強制公開したり持ち札を入れ替えたりといったことができる。\nようこんなん考えたな。 思いついたやつ天才だわ。\nとりあえず，アドベンチャーモードは速攻でクリアした（後日に続編が出そうな気もするが）。 あとはオンライン対戦でちまちま遊んでいる（プラットフォームに関係なく対戦できる）。 対戦相手にお弁当を差し入れする機能があり，1個だけお弁当を作った。\nやっぱ花合わせが好き。 子どもの頃に見たりやったりしていて馴染みがあるというのもあるが，こいこいのようなデュエル形式を連戦するのは疲れる，なんとなく。 花合わせは計算がちょっと難しいのだが，コンピュータゲームなので自動でやってくれるのが助かる。\nおいちょかぶは苦手。 博才がないので，運要素が強いゲームはダメなんだよ（運要素が強いゲームは負けても悔しくないというメリットもあるけど）。 運と戦略の割合が4:6くらいでちょうどいい。\nアシスト機能もよく出来てるし，気楽に長く遊べそうなゲームである。\nブックマーク 【 #ホロの花札 】初代女王決定戦！！！大会本部こちらです！【MC視点】 - YouTube 【ホロの花札】祝！リリース！！散々亭はそれでも花札が好き。ストーリーとお弁当！！※ネタバレ注意【儒烏風亭らでん #ReGLOSS 】 - YouTube 参考 ホロの花札 -Switch ジェムドロップ (Release 2025-07-31) Video Game B0DZWWR4NM (ASIN), 4570045990124 (EAN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; マルチプラットフォームに対応している。私は Steam 版を購入した。ホロライブ VTuber がキャラクターとして登場する花札ゲーム。「こいこい」「花合わせ」「おいちょかぶ」で遊べる他，オリジナルルールの「ホロあわせ」が面白い。クロスプラットフォームでオンライン対戦できる。 Switch 用の特装版には本物のホロ花札が同梱されているらしい。\nreviewed by Spiegel on 2025-07-31 (powered by PA-APIv5)\nじゃりン子チエ【新訂版】 ： 1 (アクションコミックス) はるき悦巳 (著) 双葉社 2018-10-01 (Release 2018-10-01) Kindle版 B07HH1K4PQ (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 名作。新訂版が出てるのか。漫画もアニメもどっちも面白かった。関西圏ではアニメ再放送が繰り返し流れてたらしい。\nreviewed by Spiegel on 2025-08-01 (powered by PA-APIv5)\nはじめて学ぶ ビデオゲームの心理学 脳のはたらきとユーザー体験（UX） セリア ホデント (著), 山根 信二（監修） (著), 山根 信二 (翻訳), 成田 啓行 (翻訳) 福村出版 2022-12-15 (Release 2023-07-03) Kindle版 B0C9Z7KGRN (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; Kindle 版が出ている。ゲームデザイナやゲームエンジニアだけでなく，ソフトウェア・エンジニアは全員読むべき。あと，ゲーマーな人も読むといいよ。感想はこちら。\nreviewed by Spiegel on 2023-11-21 (powered by PA-APIv5)\n"
    },
    {
      "title": "「並行」と「並列」と「非同期」",
      "section": "remark",
      "description": "「非同期」と「並行」は違うよね，という話は確かにあまり聞かない",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2025/07/asynchrony-is-not-concurrency/",
      "published": "2025-07-28T02:24:04+00:00",
      "update": "2025-07-28T10:11:15+00:00",
      "content": "面白い記事を見かけたので\nAsynchrony is not Concurrency | Loris Cro\u0026rsquo;s Blog 今回はこの記事を起点につらつらと書いてみる。\n「並行」と「並列」と「非同期」 プログラミングおよびシステム設計に於いて「並行」と「並列」は意味が違うよ，というのはよく言われるし，私も Go 言語関連の話で紹介したことがある。 その一方で「非同期」と「並行」は違うよね，という話は確かにあまり聞かない。 先程挙げた記事では\nAsynchrony: the possibility for tasks to run out of order and still be correct.\nConcurrency: the ability of a system to progress multiple tasks at a time, be it via parallelism or task switching.\nParallelism: the ability of a system to execute more than one task simultaneously at the physical level.\nvia Asynchrony is not Concurrency つまり「並行」と「並列」は能力（ability）だが「非同期」は実行順序の可能性（possibility）であると説明されている。 あるいは順序の自由度の問題と言い換えたらいいだろうか。\nここでプログラミング言語 Zig のコードが登場する。 たとえば Zig による非同期処理は io.async を使って以下のように記述するそうなのだが\n// assume that server.listen has already been called io.async(Server.accept, .{server, io}); io.async(Client.connect, .{client, io}); via Asynchrony is not Concurrency io.async はシングルスレッドのブロッキングモードで動作するため，上のコード例の場合，一方の処理が他方の処理でブロックされてしまい並列処理にはならないらしい。 この挙動はユーザレベルスレッド1 の特性に近い（Zig の実装が実際にどうなっているかは知らないが）。\nユーザーレベルスレッドの主な利点は性能です。ユーザーレベルスレッドのコンテキストスイッチは、カーネルレベルスレッドのコンテキストスイッチよりも高速です。なぜなら、カーネルレベルのコンテキストスイッチでは、オペレーティングシステムが介入して次に実行するスレッドを選択する必要があるからです。カーネルを呼び出さずに実行を切り替えることができれば、実行中のプロセスは、キャッシュをフラッシュして処理速度を低下させる必要がなく、CPU を保持し続けられます。\nユーザーレベルスレッドを使うことの不都合な点は、ブロッキング I/O 呼び出しを行うコードを実行するときに現れます。ファイルからの読み込みが必要な状況を考えてみましょう。オペレーティングシステムはプロセスを 1 つの実行のスレッドと見なすため、ユーザーレベルスレッドがこのブロッキング読み込み呼び出しを実行すると、プロセス全体がスケジュールから外されます。同じプロセス内に他のユーザーレベルスレッドが存在する場合、読み込み操作が完了するまで、それらのスレッドは実行されません。\n『Go言語で学ぶ並行プログラミング』 p.33-34より 正しく並行処理として記述したいなら\ntry io.asyncConcurrent(Server.accept, .{server, io}); io.async(Client.connect, .{client, io}); via Asynchrony is not Concurrency という感じにコードで明示する必要があるそうな。\n拙文「goroutine はグリーンスレッドではない」でも書いたが Go の goroutine はカーネルレベルスレッドとユーザレベルスレッドのハイブリッドになっていて，非同期かつ並行な処理を記述することが出来る。 なので非同期と並行を分離して考えることはないし，その必要もない（そのぶんランタイム側で制御するスケジューリングが複雑になるんだけど）。 強いて言うなら Go のメモリモデルについて注意が必要といったところか。\nZig のように非同期処理と平行処理を明示的に分離して記述するのは面白いと思う2。 より低レベルな処理に気を配らないといけないので，コード設計が面倒くさいっちゃあ面倒くさいんだけどね。\n参考図書 Go言語で学ぶ並行プログラミング　他言語にも適用できる原則とベストプラクティス impress top gearシリーズ James Cutajar (著), 柴田 芳樹 (著) インプレス 2024-12-04 (Release 2024-12-04) Kindle版 B0DNYMMBBQ (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 読書会のために購入。インプレス社の本は Kindle 版より版元で PDF 版を買うのがオススメ。「並行処理」について原理的な解説から丁寧に書かれている。 Go で解説されているが Go 以外の言語でも応用できる。 reviewed by Spiegel on 2025-01-25 (powered by PA-APIv5)\nGoならわかるシステムプログラミング 第2版 渋川よしき (著), ごっちん (イラスト) ラムダノート 2022-03-23 単行本（ソフトカバー） 4908686122 (ASIN), 9784908686122 (EAN), 4908686122 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 第1版はとてもためになる内容だったので第2版も PDF 版で確保しておく。\nreviewed by Spiegel on 2022-10-08 (powered by PA-APIv5)\n“Asynchrony is not Concurrency” ではユーザレベルスレッドをグリーンスレッドと呼んでいるように見える。なおグリーンスレッドは元々 Java の用語で，しかもバージョンごとに意味が変遷しているらしいので，この記事では「グリーンスレッド」という用語は使わないことにする。詳しくは拙文「goroutine はグリーンスレッドではない」を参考にどうぞ。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n“Async Rust Is A Bad Language” では Rust における非同期処理の問題点が挙げられていて，最後に “Maybe Rust isn’t a good tool for massively concurrent, userspace software” とまで書かれていて笑ってしまった。みんな苦労してるんだなぁ。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n"
    },
    {
      "title": "水族館で宍道湖の七珍を探す（お散歩カメラ 2025-07-21）",
      "section": "remark",
      "description": "三連休最終日は宍道湖自然館ゴビウスへ",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2025/07/21-osanpo-camera/",
      "published": "2025-07-21T11:36:40+00:00",
      "update": "2025-07-21T11:37:07+00:00",
      "content": "みなさま，この三連休はいかがおすごしだったでしょうか。\n私は前の週に期日前投票を済ませていたので，ほぼフリー状態。 というわけで自転車で走り回った。 3日間の合計距離は約139km。 まぁまぁではないだろうか。 3年前に自転車を再開したときから比べればだいぶ走れるようになったな。\n3日間快晴\u0026amp;猛暑日。 日中暑かろうと（先日松江イオンに行ったついでに買った）ハーフパンツで出掛けたのだが，うっかり脚に日焼け止めを塗るのを忘れて，日焼けが大変なことに。 みなさん，日焼けには気ぃつけなはれや！\n水族館で宍道湖の七珍を探す 先日 2025-07-19 は土用の入りかつ丑の日だったので我が家でもうなぎを頂いたのだが，昨年秋に島根県立宍道湖自然館ゴビウスに行った際に「次行くときは宍道湖の七珍を意識して見学しよう」と思ったのを思い出した。 というわけで三連休最終日は再びゴビウスへ行くことにした。\nいきなりゴビウスまでノンストップで行こうとすると途中でガス欠になるかもしれないので，まずは途中にある道の駅 秋鹿なぎさ公園を目指す。\n今日の宍道湖 | Flickr 佐陀川 | Flickr 道の駅に着いたので，とりあえずクールダウン\u0026amp;糖分補給。\nクールダウン＆エネルギー補給（道の駅 秋鹿なぎさ公園） | Flickr おっ。 ヨットが泳いでる。\nよっと（道の駅 秋鹿なぎさ公園） | Flickr クールダウンしたら「なんだかイケそうな気がするぅ」ので，このままゴビウスまで行く。\nさくっと到着。\nゴビウスで金魚展やってる | Flickr 金魚展やってるのか。 あとで見てみよう。\nさて「宍道湖の七珍」は以下の通り（順不同）。\nシラウオ アマサギ（ワカサギ） スズキ コイ エビ（モロゲエビ） シジミ ウナギ じゃあ探すとしますか（鑑賞順ではないのでご注意を）。\nシラウオ（宍道湖自然館ゴビウス） | Flickr アマサギ（宍道湖自然館ゴビウス） | Flickr コイ（宍道湖自然館ゴビウス） | Flickr スズキ（宍道湖自然館ゴビウス） | Flickr テナガエビ（宍道湖自然館ゴビウス） | Flickr いや，モロゲエビが居なくてさ。 しょうがないのでテナガエビを撮ってみた。 確かテナガエビは（松江では）食べなかった筈。\nヤマトシジミ＆ウナギ（宍道湖自然館ゴビウス） | Flickr これで一応コンプリートかな。 魚の動きが思ったより素早くて追いきれずピントが合わなかったり画角からはみ出したり。 ご容赦の程を。\nこの中で食ったことないのはモロゲエビかな。 スズキは（松江では）奉書焼きが有名だが，こちらは高級料理なので食ったことがない。 普通に食べた。 コイも高級料理だが，かろうじて食ったことがある。\n折角なので金魚も見てみよう。\n和金（宍道湖自然館ゴビウス） | Flickr 黒の斑点は別に病気とかじゃなくそういう模様らしい。 初めてみた。 金魚は元々フナから改良された種なのだが，和金が一番フナに近いらしい。\nランチュウ（宍道湖自然館ゴビウス） | Flickr これは分かる。 ランチュウでも「いずもナンキン」と呼ばれる種で，島根県内で愛好家が多いらしい。 親戚でこれを飼ってる人がいた。\n他にも色々いたが割愛する。 こういうのをまとめて「夏休みの自由研究」とかにすれば面白そうだ。 実際，親子連れの客が多かったし。\n職員の方による解説も聞いた。 金魚って100種以上いるらしい。 まぁ，中国とか凄いもんな。\n金魚は人間によってつくられた種なので，その辺の川や池に放したらダメだよ。 飼うなら最後まで面倒見ませう。\n帰るか ゴビウスでひとしきり遊んでいい時間になったので戻りますか。 帰りは寄り道せず，松江市内まで一気に戻る。\n今日の宍道湖 | Flickr 日が傾いてきて，いい感じの逆光に。\n途中でクールダウン。\nコメダでクールダウン中 | Flickr なんかこの三連休は短縮営業らしく17時で追い出された（笑） ほんじゃぁ，まぁ，帰りますか。\n次にゴビウス行くときは中海の七珍を探すか。 でも，夏は避けよう\u0026hellip;\n参考 Canon コンパクトデジタルカメラ PowerShot ZOOM 写真と動画が撮れる望遠鏡 PSZOOM キヤノン (Release 2020-12-10) エレクトロニクス B08L4WKDZ7 (ASIN), 4549292179675 (EAN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 望遠鏡型コンパクトデジカメ。メモリと充電器（要 Power Delivery）は別に用意する必要がある。使い勝手はまぁまぁ。\nreviewed by Spiegel on 2022-12-04 (powered by PA-APIv5)\nビオレUＶ アクアリッチ アクアプロテクトミスト 60ミリリットル (x 1) 花王 (Release 2023-02-08) ヘルスケア\u0026amp;ケア用品 B0BT1X9H7B (ASIN), 4901301416438 (EAN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; スプレータイプで白くならない。鞄に忍ばせて手軽に使える。\nreviewed by Spiegel on 2023-07-29 (powered by PA-APIv5)\n経口補水液 OS-1 オーエスワン 500ml × 6本 オリジナルポケットティッシュ付き B09Z6F7MGT (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 経口補水液。サイクリングの際にドラッグストアで購入している（ドラッグストアのほうが安い）。夏場はどうしても汗をかくからね。\nreviewed by Spiegel on 2024-06-01 (powered by PA-APIv5)\nコカ・コーラ アクエリアス ラベルレス 2LPET×8本 コカ・コーラ (Release 2024-05-13) 食品\u0026amp;飲料 B0D21G23LP (ASIN), 4902102156110 (EAN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 夏場のサイクリング中に経口補水液が調達できない場合に自販機で600mlサイズを買っている。糖質摂取を兼ねる。まぁ砂糖水だよな。常飲するもんじゃない（笑） でもただの水やお茶ではダメらしいので。\nreviewed by Spiegel on 2025-07-05 (powered by PA-APIv5)\nGAERUO ボディシェーバー 電動 メンズシェーバー 毛剃り 15°角度調整 ネット刃付き IPX7防水 ムダ毛処理 ドライ/泡剃り 脇 腕 背中 足 ビキニライン 敏感肌 全身 水洗い可 低騒音 USB充電式 ブラック リミットコーム付き プレゼント Douyear ヘルスケア\u0026amp;ケア用品 B08XVY3QCM (ASIN), 0727536555216 (EAN), 727536555216 (UPC) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 色々毛深いので，夏になる前にムダ毛処理用に購入。バッテリ式。専用充電ケーブルが付属している。水洗いOK。スネ毛の処理ならドライでもOK。\nreviewed by Spiegel on 2025-04-08 (powered by PA-APIv5)\n"
    },
    {
      "title": "旧暦の閏月と旧暦2033年問題",
      "section": "remark",
      "description": "2025年の旧暦では「閏六月」が入る",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2025/07/leap-month/",
      "published": "2025-07-19T13:44:42+00:00",
      "update": "2025-08-01T03:48:22+00:00",
      "content": "閏月 今回は Bluesky の以下のポストを起点にしてみよう。\n2025年の旧暦七夕（伝統的七夕）は8月29日。ここまで遅いのも珍しいと思ったら、今年は旧暦で閏月が入る年でした。旧暦6月と旧暦7月の間に閏6月が入る。なので旧暦7月の始まりが遅い。 www.nao.ac.jp/astro/sky/20...\n[image or embed]\n\u0026mdash; K.Fukuda (@kazufukuda.bsky.social) July 19, 2025 at 6:30 PM 二十四節気は中気と節気の2つのグループに分けられる。 いわゆる旧暦では，朔（新月）から次の朔までの期間（朔望月）に含まれる中気によって月が決まる。\nまずは2025年の二十四節気を以下に挙げてみよう。\n日付 二十四節気 中気/節気 2025年1月5日 小寒 節気 2025年1月20日 大寒 中気 2025年2月3日 立春 節気 2025年2月18日 雨水 中気 2025年3月5日 啓蟄 節気 2025年3月20日 春分 二月中気 2025年4月4日 清明 節気 2025年4月20日 穀雨 中気 2025年5月5日 立夏 節気 2025年5月21日 小満 中気 2025年6月5日 芒種 節気 2025年6月21日 夏至 五月中気 2025年7月7日 小暑 節気 2025年7月22日 大暑 中気 2025年8月7日 立秋 節気 2025年8月23日 処暑 中気 2025年9月7日 白露 節気 2025年9月23日 秋分 八月中気 2025年10月8日 寒露 節気 2025年10月23日 霜降 中気 2025年11月7日 立冬 節気 2025年11月22日 小雪 中気 2025年12月7日 大雪 節気 2025年12月22日 冬至 十一月中気 このうち中気に注目し，朔の情報と組み合わせてみる。\n朔 中気 旧暦月 2024年12月31日 大寒 2025年1月20日 十二月 2025年1月29日 雨水 2025年2月18日 一月 2025年2月28日 春分 (二月中気) 2025年3月20日 二月 2025年3月29日 穀雨 2025年4月20日 三月 2025年4月28日 小満 2025年5月21日 四月 2025年5月27日 夏至 (五月中気) 2025年6月21日 五月 2025年6月25日 大暑 2025年7月22日 六月 2025年7月25日 閏六月 2025年8月23日 処暑 2025年8月23日 七月 2025年9月22日 秋分 (八月中気) 2025年9月23日 八月 2025年10月21日 霜降 2025年10月23日 九月 2025年11月20日 小雪 2025年11月22日 十月 2025年12月20日 冬至 (十一月中気) 2025年12月22日 十一月 朔望月が29.3～29.8日で変動するのに対し中気から中気の期間は29.5～31.5日で変動し，しかも冬より夏のほうが間隔が長い1。 このため冬の朔望月の期間に中気が2つ重なったり，上の表のように夏の朔望月の期間に中気を含まないことも起こる。 今年2025年の場合は中気を含まない月を「閏六月」とすることで調整する。\nもう少し複雑なパターンを挙げてみよう。 1984年から1985年にかけての旧暦月を表にしてみる。\n朔 中気1 中気2 旧暦月 1984/08/27 秋分( 9/23) 8月 1984/09/25 霜降(10/23) 9月 1984/10/24 小雪(11/22) 10月 1984/11/23 閏10月 1984/12/22 冬至(12/22) 大寒(1/20) 11月 1985/01/21 雨水( 2/19) 12月 1985/02/20 1月 1985/03/21 春分( 3/21) 2月 旧暦2033年問題について - 国立天文台暦計算室より この表では中気のない月が2つ，中気が2つある月がひとつある。 まぁ！ どうしましょう？\n旧暦のベースになっているとされる天保暦には「冬至を含む月は十一月」というルールがある。 このため 1984-12-22 からの月を十一月とし，その前の 1984-11-23 からの月を「閏十月」としている。 以降はひとつずつ月をずらして全体で矛盾なくおさまったわけだ（中気のない 1985-02-20 からの月が閏月でないことに注目）。 めでたしめでたし。\n旧暦2033年問題 これで困ったことになるのが2033年から2034年にかけての旧暦月の決定である。\n朔 中気1 中気2 案1 案2 案3 2033/07/26 処暑( 8/23) 7月 7月 7月 2033/08/25 8月 閏 7月 8月 2033/09/23 秋分( 9/23) 9月 8月 9月 2033/10/23 霜降(10/23) 10月 9月 10月 2033/11/22 小雪(11/22) 冬至(12/21) 11月 10月 11月 2033/12/22 閏 11月 11月 12月 2034/01/20 大寒( 1/20) 雨水( 2/18) 12月 12月 1月 2034/02/19 1月 1月 閏 1月 2034/03/20 春分( 3/20) 2月 2月 2月 旧暦2033年問題について - 国立天文台暦計算室より 実は旧暦月決定のルールには「冬至を含む月は十一月」の他に「秋分を含む月は八月」というのもある。 しかし秋分を含む朔望月と冬至を含む朔望月の間には朔望月がひとつしかない。 つまり「冬至を含む月は十一月」と「秋分を含む月は八月」のルールのどちらかを諦めない限り旧暦月を決定できないのだ。 これを「旧暦2033年問題」と呼ぶ。\nこれに対して国立天文台は一応のアドバイスを示している。\nところで，天保暦よりも先に定気法を採用した中国の時憲暦ではどのようになっているのだろう．じつは，冬至を含む月から次に冬至を含む月までに13か月ある場合に，中気が入らない最初の月を閏月とする，と定められているだけなのだそうだ．極めてシンプルであり，これなら案1で確定する．むしろ天保暦のルールが過剰なのがいけないというわけだ．だからといって，すべて時憲暦ルールに合わせればよいということにはならないだろうが，古来，中国や日本の暦法では冬至を定めることが出発点だったことをふまえれば，冬至を優先するのは妥当な判断なのかもしれない． 旧暦2033年問題について - 国立天文台暦計算室より とはいえ旧暦を管理しているのは国立天文台ではないし，そもそも旧暦を管理している主体など存在しないので（現行暦の暦象を基に天保暦のルールを無理くり合わせてそれっぽく見せてるだけ），まぁ，どうにもならないだろう。\n章法と朔旦冬至 本当に大昔の話であるが，古代中国の暦では「章法」によって閏月を決めていた時代があったそうな。\n19太陽年（$365.2422 \\times 19 = 6939.602$）が $12 \\times 19 +7 = 235$ 朔望月（$235 \\times 29.530589 = 6939.688$）と大体同じということで（メトン周期），19年を「章」としてこの期間に7回閏月を入れるというのが章法の基本的なルールらしい。 章法の基準となるのが冬至と朔が重なる「朔旦冬至」である。\nちなみに前々々回の朔旦冬至は（前々節で示す通り）1984年で，前々回は1995年かな。 既にズレまくっている。 前回は2014年だが，その19年後である2033年の冬至は朔と重ならないため（前節参照）朔旦冬至にならない（次回は2052年らしい）。\nまぁ，こういった感じに天体の観測精度が上がると章法から外れていってしまうため使われなくなり，儀礼としての朔旦冬至のみ残ったそうだが2，日本では，明治時代の1870年の朔旦冬至のときには（古い因習として）もう儀式すら行われなくなったらしい（今だに朔旦冬至を有難がる人もいるみたいだが，盂蘭盆や五節句ほど一般的じゃないよね）。\n暦にも歴史ありである。\n伝統的七夕は旧暦とは（厳密には）関係ない 国立天文台によって「伝統的七夕」は以下のように定義されている。\n二十四節気の処暑（しょしょ＝太陽黄経が150度になる瞬間）を含む日かそれよりも前で、処暑に最も近い朔（さく＝新月）の瞬間を含む日から数えて7日目が「伝統的七夕」の日です。 質問3-10）伝統的七夕について教えて | 国立天文台(NAOJ)より 大抵の場合，処暑は旧暦七月の中気となるため，伝統的七夕は旧暦七月七日と実質的に同じになる。 とはいえ処暑と朔望月の関係だけで決定されているため厳密には旧暦とリンクしないし，もちろん閏月とも関係はない。 2025年の場合は処暑と朔が重なっているため 2025-08-29 とエラい後ろの方だが，そういうことなのである。\nブックマーク 伝統的七夕（2025年8月） | 国立天文台(NAOJ)\n「暦」日本史 （再掲載）\n『猫暦』を読んだ\n冬至に関する与太話\n「新暦七夕」なるものは存在しない\n立春も動き出す\nお彼岸\n第五の季節：土用\n春夏秋冬は「四季」ではない？\n地球が遠日点を通過する話\n参考図書 天文年鑑 2025年版 天文年鑑編集委員会 (編集) 誠文堂新光社 2024-12-05 (Release 2024-12-05) 単行本 4416723660 (ASIN), 9784416723661 (EAN), 4416723660 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 天文ファン必携。2025年版。これが届くと年末って感じ。\nreviewed by Spiegel on 2024-12-05 (powered by PA-APIv5)\n天体物理学 Arnab Rai Choudhuri (著), 森 正樹 (翻訳) 森北出版 2019-05-28 単行本 4627275110 (ASIN), 9784627275119 (EAN), 4627275110 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 興味本位で買うにはちょっとビビる値段なので図書館で借りて読んでいたが，やっぱり手元に置いておきたいのでエイヤで買った。まえがきによると，この手のタイプの教科書はあまりないらしい。内容は非常に堅実で分かりやすい。理系の学部生レベルなら問題なく読めるかな。\nreviewed by Spiegel on 2019-11-13 (powered by PA-APIv5)\n地球の公転軌道はわずかに楕円軌道であり，近日点を1月初旬，遠日点を7月初旬に通過する。二十四節気は太陽黄経を基準にしているため，近日点に近い冬場のほうが中気と中気の期間が短くなる。地球の公転軌道については拙文「地球が遠日点を通過する話」を参照のこと。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n古代中国では朔旦冬至のタイミングで民衆に暦を授けていたらしい。これによって朔旦冬至がメトン周期から外れていても，改暦によってカバーできるというわけだ。「授時」は為政者の権威を示すものであり，そのための「正朔を奉ず」儀式という側面もあったようだ。ただ有り難い日というわけではなく，極めて政治的な儀礼であったということだ。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n"
    },
    {
      "title": "『にぎやかな未来』を読む（夏の読書感想文1）",
      "section": "remark",
      "description": "この記事はネタバレを含みます。あしからずご了承のほどを",
      "author": "Spiegel",
      "license": "http://creativecommons.org/licenses/by-sa/4.0/",
      "url": "https://text.baldanders.info/remark/2025/07/noisy-future/",
      "published": "2025-07-18T10:28:28+00:00",
      "update": "2025-08-23T14:16:45+00:00",
      "content": "（この記事はネタバレを含みます。あしからずご了承のほどを）\n「#書庫らでん」の2025年7,8月の推薦図書に筒井康隆さんの『にぎやかな未来』が挙げられていて懐かしくなった。\n発行年が2016年とあって？？？となったが，どうやら今世の中に出ているのは新版の方らしい。 筒井康隆さんの作品は（知り合いから貰ったものも含めて）ひととおり持っていたのだが，引っ越しの際に全部処分したのだった。 というわけで Kindle 版を買い直して，ついでに読書感想文を書いてみることにした。\n夏と言えば「夏休みの読書感想文」であろう。 前にもちょろんと書いたが，私は小学生の頃に学習参考書の感想文を提出して，うっかり市のコンクールで優良賞をもらった実績のある人間である。 まともな感想なんか書かないんだからね。\n読書は経験で読むものである。 特に物語は「誤読してナンボ」だと思っている。 これが論文や参考書や仕様書・設計書の類なら書き手から読み手に過不足なく意図が伝わることが重要だが（そして往々にして伝わらない1），物語に関しては，書き手がそれをどういうつもりで書いたのかなど余計な情報である。 書かれた時代の社会背景は考慮すべきと思うけど。 思い込みで焚書するバカとかいるし。\n個人的に物語を読む際の評価ポイントは，読み手から見て sense of wonder があるかどうかだと思っている。 もっと簡単に言うと，それを読んで想像や好奇心を掻き立てられるかどうか，である。 でもそれって人によって感じるポイントが異なるよね。 だから「読書は経験で読む」のである。\nというわけで，そろそろ本編に入っていいかな。 ブラウザ表示もスクロールされていることだろう（笑）\n実は私が最初に読んだ筒井康隆作品は「火田七瀬」シリーズ2 で，今回の『にぎやかな未来』は割と後になって読んだ作品である。\n「火田七瀬」シリーズは主人公が相手の心を読める超能力者という設定で，かなり波乱万丈な人生が描かれている。 ちなみに「家族八景」と「七瀬ふたたび」はドラマ化されている。 もっと言うと，日本では1970年代から1980年代にかけて超能力ブームが吹き荒れる3。 テレビの深夜ワイドショウに「ユリ・ゲラー」が出演したのが1970年代かな（スプーンを曲げるやつ）。 超能力ブームはオカルトはもちろん SF 作品にも大きな影響を及ぼす。 そのひとつが「火田七瀬」シリーズってわけ。\n『にぎやかな未来』は1960年代4 に発表された超短編小説いわゆる「ショートショート5」を収録したものだが（ジャンル？ はごちゃまぜ），最初に収録されているのが「超能力」という作品。 ブームの前だよ。 SF で超能力ものというと異能力で無双する話が多いが，「火田七瀬」シリーズにしろ『にぎやかな未来』の「超能力」にしろ，無双とは程遠く，狂気に満ちた内容になっている。\n筒井康隆作品はどれも狂気に満ちている6。 でもそれはオカルト的な狂気ではなく，海外のディストピア小説のような絶望の果ての狂気でもなく，星新一さんの「解説」に曰く「悲劇的な喜劇」というやつだろうか。\n狂気へのあこがれと、まじめな努力、この二つの要素が複合し、筒井康隆の宇宙が成立している。 『にぎやかな未来』解説より 日本の高度成長期が1950年代後半から1970年代前半までと言われ，いわば希望に満ちた時代7 に『にぎやかな未来』に収録されているような作品群が出てくるというのは流石としか言いようがない。 当時は非常に刺激的なお話に夢中になったものだが，今回改めて読み返したら「そうそう。筒井康隆作品ってこういう感じだったよなぁ」という青春時代を懐かしむ感想になってしまった（笑）\n最後に収録されている「にぎやかな未来」とか現在視点で見れば「にぎやかな」インターネットを強烈に皮肉ってる作品に見えてしまう8。 こういうのって当時の作家さん達に先見の明があったのか。 それとも時代や文明が進んでも根本的なところは変わってないと言うべきか。\nあと，20世紀中頃と現在では倫理・道徳観念がかなり変質している。 特に現代日本人は1990年〜2000年あたりの性モラル崩壊時代を経て貞操観念等が変わっている。 その辺を踏まえて読まないとイマイチ面白さが分からない部分もあると思う。\n読み返してて気がついたのだが，全ての作品（41篇）にオチが付いてるんだよな。\nショートショートのスタイルは Web 小説と相性がいい。 ショートショートは「引き算の美学」なので好んで読むのだが（引き算の上手いショートショートは面白い）， Web 小説のショートショートってオチがない作品も割とあるんだよな。 そういや，あの三文字言葉の語源のひとつである「オチなし」な作品が台頭し始めるのって1980年代に入ってからだっけ？ オチなし作品は脳内で消化不良を起こすので濫用するものではないと思うが，オチがない作品がないというのも（むしろ）新鮮な感じがする。\nというわけで『にぎやかな未来』の感想でした。 オチはない。 これでこっぽし。\nブックマーク 『Go言語で学ぶ並行プログラミング』は読んどけ（夏の読書感想文2） 参考図書 にぎやかな未来 (角川文庫) 筒井 康隆 (著) KADOKAWA 2016-06-18 (Release 2016-06-18) Kindle版 B01H13QEAI (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 「書庫らでん」の2025年7,8月の推薦図書に挙がってて懐かしくなり衝動買いした。「2016年」とあって悩んだが，どうも新版らしい。中身を見たら1972年発刊の文庫本と同じ内容っぽい。\nreviewed by Spiegel on 2025-07-12 (powered by PA-APIv5)\nノックバック 糸魚川鋼二 (著) Kindle版 B0BR41KK33 (ASIN) 「書庫らでん」の2025年7,8月の推薦図書。全3巻。デジタル版のみの自己出版らしい。カクヨムでも読める。\nreviewed by Spiegel on 2025-07-18 (powered by PA-APIv5)\n国宝上青春篇 (朝日文庫) 吉田　修一 (著) 朝日新聞出版 2021-09-07 (Release 2021-09-07) Kindle版 B09FDC3MVH (ASIN) 「書庫らでん」の2025年7,8月の推薦図書。映画「国宝」の原作作品らしい。松江では上映しない模様。\nreviewed by Spiegel on 2025-07-18 (powered by PA-APIv5)\n国宝下花道篇 (朝日文庫) 吉田　修一 (著) 朝日新聞出版 2021-09-07 (Release 2021-09-07) Kindle版 B09FDL8DN4 (ASIN) 「書庫らでん」の2025年7,8月の推薦図書。映画「国宝」の原作作品らしい。松江では上映しない模様。\nreviewed by Spiegel on 2025-07-18 (powered by PA-APIv5)\n性表現規制の文化史 白田 秀彰 (著) 亜紀書房 2017-07-20 (Release 2017-07-20) 単行本（ソフトカバー） 4750515183 (ASIN), 9784750515182 (EAN), 4750515183 (ISBN) しまった！積ん読状態のまま引っ越しのドサクサで処分しちゃってるよ。読み直さないと。図書館に置いてないかな。\nreviewed by Spiegel on 2017-10-13 (powered by PA-APIv5)\nアポカリプスホテルぷすぷす (バンブーコミックス) 竹本泉 (著), ホテル銀河楼 管理部 (企画・原案) 竹書房 2025-07-07 (Release 2025-07-07) コミック 4801986919 (ASIN), 9784801986916 (EAN), 4801986919 (ISBN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; アニメ「アポカリプスホテル」のキャラクタ原案を担当した竹本泉さんによる公式コミカライズ？ でも内容はいつもの感じ。ちなみに電子版はカラーのあとがきが追加されている。両方買わないと。いやぁ，竹本泉さんが関わってホンマにアニメになったんだねぇ（笑）\nreviewed by Spiegel on 2025-07-07 (powered by PA-APIv5)\nミッドサマーシトラス ReGLOSS (メインアーティスト) cover corp. 2025-07-11 (Release 2025-07-11) MP3 ダウンロード B0FGXSM5LL (ASIN) 評価\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp; 青くんがおる！ MV を見て衝動買い。 mora で高解像度版が買える。夏の歌というか（あの頃の）夏を振り返る歌って感じだろうか。よき！\nreviewed by Spiegel on 2025-07-12 (powered by PA-APIv5)\n近年，技術参考書の翻訳で有名な柴田芳樹さん主催の読書会に参加しているが，書き手の方に内容について細かいフォローや裏話などを聞けるのはホンマにありがたい。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n「家族八景（1972）」「七瀬ふたたび（1975）」「エディプスの恋人（1977）」の三部作。 NHK ドラマを見たのがきっかけだったかな。たぶん初めて読んだ日本人作家による SF 小説（児童文学は除く）。「エディプスの恋人」は SF とは言えないかもだけど。 SF は海外作家の作品ばっか読んでたからなぁ。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nトドメとなったのが1980年代末に台頭する某カルト宗教で，連中が起こした一連のテロ事件以降「超能力」をマジで語る人はいなくなった気がする。ネタとしては今なお健在だけど。 GQuuuuuuX とか。大昔は「ニュータイプ」をマジで語るやつがいたのよ（笑）\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n収録されている「吾輩の執念」という作品にアパートの家賃が三千円と書かれていて時代を感じさせる。そういや，うちの親父殿がマイホームを建てたときのローンが当時月々数千円とか言ってたなぁ。私が幼い頃に百貨店で食べたラーメンが200円で「高っ！」と思った思い出がある。あのとき200円あったらプラモデルが何個買えたか！\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n日本の SF でショートショートといえば星新一さんが有名。『にぎやかな未来』は1968年に出版されたそうだが，その後1972年（大阪万博の2年後）に角川文庫から出し直されている。私が読んだのは後者。『にぎやかな未来』は国語の教科書にも載ったらしい。どうやって授業を構成するんだ？\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n筒井康隆さんの特に初期の作品はナンセンス文学と捉えられることがある。一方『にぎやかな未来』に収録されている「地下鉄の笑い」は「ナンセンス」をメタに嘲笑う作品だったりする。「ナンセンス」はナンセンスというわけだ。個人的にはナンセンス作品と言えば赤塚不二夫さんだけど。「天才バカボン（1967-1978）」とか。あれも狂気だけど。1960年代から1970年代にかけては実験的な漫画が多かったからなぁ。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n頑張れば報われる（と信じられた）時代。報われないのは頑張らないからだ，とされた時代。ちなみに，それに先立つ1950年代は，特に米国では「フィフティーズ」または「ゴールデンエイジ」などと呼ばれ文化的絶頂期であった一方，朝鮮戦争やベトナム戦争の失敗もあり（ベトナム戦争は泥沼化し1975年まで続く），ペシミスティックな作品が量産された時代でもあった（J.D.サリンジャーなど）。そういった時代的な気分が日本にも輸入されていったとも考えられる。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n未来の社会が広告塗れになるというネタは SF では昔からありがち。\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n"
    }
  ]
}
