<!DOCTYPE html>
<html lang="ja">
<head prefix="og: http://ogp.me/ns#">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Hugo 0.118.1">
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="https://text.baldanders.info/release/2020/04/git-2_26_1-is-released/">
<script src="//kit.fontawesome.com/152e339e63.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=BIZ+UDGothic:wght@400;700&family=BIZ+UDMincho&family=Inconsolata:wght@400;700&family=Noto+Color+Emoji&family=Noto+Sans:wght@400;700&family=Noto+Serif&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/css/local-font.css" type='text/css'>
<link rel="stylesheet" href="/css/baldanders-info-dark.css" type='text/css'>

<link rel="alternate" href="https://text.baldanders.info/index.xml" type="application/rss+xml" title="text.Baldanders.info">
<link rel="alternate" href="https://text.baldanders.info/index.json" type="application/json" title="text.Baldanders.info">
<meta name="google-site-verification" content="jTjBCslPtf8gwVatiY-GDgGv7pV5csa8aUOw1MRPUD4">
<title>Git v2.26.1 のリリース【セキュリティ・アップデート】 | text.Baldanders.info</title>
<meta property="og:title" content="Git v2.26.1 のリリース【セキュリティ・アップデート】">
<meta name="description" content="対象となるのは 2.17.x から 2.26.x までの各マイナーバージョン (CVE-2020-5260)">
<meta property="og:description" content="対象となるのは 2.17.x から 2.26.x までの各マイナーバージョン (CVE-2020-5260)">
<meta property="og:image" content="https://text.baldanders.info/images/attention/tools.png">
<meta name="author" content="Spiegel">


<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@spiegel_2007">
<meta name="twitter:creator" content="@spiegel_2007">
<link rel="me" href="https://fedibird.com/@spiegel">
<meta name="keywords" content="git, tools, security, vulnerability, ubuntu">
<link rel='prev' href='https://text.baldanders.info/release/2020/04/go-1_14_2-is-released/' title='Go 1.14.2 がリリースされた' />
<link rel='next' href='https://text.baldanders.info/release/2020/04/openjdk-14_0_1-is-released/' title='OpenJDK 14.0.1 のリリース【セキュリティ・アップデート】' />

<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "WebSite",
	"@id": "https://text.baldanders.info/",
	"inLanguage": "ja",
	"name": "text.Baldanders.info",
    "url": "https://text.baldanders.info/",
	"publisher": {
		"@id": "https://text.baldanders.info/#org"
	},
	"author": {
		"@id": "https://text.baldanders.info/#maker"
	},
	"image": "https://text.baldanders.info/images/attention/site.jpg",
	"description": "帰ってきた「しっぽのさきっちょ」"
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Organization",
	"@id": "https://text.baldanders.info/#org",
	"name": "Spiegel",
	"logo": {
		"@type": "ImageObject",
		"@id": "https://text.baldanders.info/#logo",
		"url": "https://text.baldanders.info/images/avatar.jpg"
	}
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Person",
	"@id": "https://text.baldanders.info/#maker",
	"name": "Spiegel",
	"url": "https://baldanders.info/profile/",
	"image": "https://text.baldanders.info/images/avatar.jpg"
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Blog",
	"@id": "https://text.baldanders.info/release/",
	"url": "https://text.baldanders.info/release/",
	"inLanguage": "ja",
	"name": "リリース情報",
	"description": "自作パッケージ・ツールと気になるツール・サービスのリリース情報について。",
	"image": "https://text.baldanders.info/images/attention/tools.png",
	"publisher": {
		"@id": "https://text.baldanders.info/#org"
	},
	"author": {
		"@id": "https://text.baldanders.info/#maker"
	}
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "BreadcrumbList",
	"@id": "https://text.baldanders.info/release/2020/04/git-2_26_1-is-released/#breadcrumb-list",
	"itemListElement": [
		{
			"@type": "ListItem",
			"position": 1,
			"item": {
				"@id": "https://text.baldanders.info/"
			}
		},
		{
			"@type": "ListItem",
			"position": 2,
			"item": {
				"@id": "https://text.baldanders.info/release/"
			}
		}
	]
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "BlogPosting",
	"@id": "https://text.baldanders.info/release/2020/04/git-2_26_1-is-released/",
	"url": "https://text.baldanders.info/release/2020/04/git-2_26_1-is-released/",
	"mainEntityOfPage": "https://text.baldanders.info/release/2020/04/git-2_26_1-is-released/",
	"inLanguage": "ja",
	"name": "Git v2.26.1 のリリース【セキュリティ・アップデート】",
	"description": "対象となるのは 2.17.x から 2.26.x までの各マイナーバージョン (CVE-2020-5260)",
	"headline": "対象となるのは 2.17.x から 2.26.x までの各マイナーバージョン (CVE-2020-5260)",
	"keywords": "git, tools, security, vulnerability, ubuntu",
	"image": "https://text.baldanders.info/images/attention/tools.png",
	"datePublished": "2020-04-15T01:18:03+00:00",
	"dateModified": "2020-04-15T02:12:21+00:00",
	"publisher": {
		"@id": "https://text.baldanders.info/#org"
	},
	"author": {
		"@id": "https://text.baldanders.info/#maker"
	},
	"license": "https://creativecommons.org/licenses/by-sa/4.0/"
}
</script>
</head>
<body>

<div id='container'>

<main>
<nav class="breadcrumb">
<a href="https://text.baldanders.info/">text.Baldanders.info</a> &raquo; <a href="/release/">リリース情報</a>
</nav>
<article>
<h1>Git v2.26.1 のリリース【セキュリティ・アップデート】</h1>
<nav class="tags">
	<div><a href='/tags/'>Tags</a>: #<a href="/tags/git/">git</a> #<a href="/tags/security/">security</a> #<a href="/tags/tools/">tools</a> #<a href="/tags/ubuntu/">ubuntu</a> #<a href="/tags/vulnerability/">vulnerability</a></div>
	<div class="cloud">
		<span class="share-color" title="Share this entry"><i class="fas fa-share-square"></i></span>&nbsp;:
		&nbsp;<a href="https://getpocket.com/edit?url=https%3a%2f%2ftext.baldanders.info%2frelease%2f2020%2f04%2fgit-2_26_1-is-released%2f&amp;title=Git%20v2.26.1%20%e3%81%ae%e3%83%aa%e3%83%aa%e3%83%bc%e3%82%b9%e3%80%90%e3%82%bb%e3%82%ad%e3%83%a5%e3%83%aa%e3%83%86%e3%82%a3%e3%83%bb%e3%82%a2%e3%83%83%e3%83%97%e3%83%87%e3%83%bc%e3%83%88%e3%80%91" target="_blank"><span class="pocket-color"><i class="fab fa-get-pocket" aria-hidden="true"></i></span></a>
		&nbsp;<a href="http://www.facebook.com/share.php?u=https%3a%2f%2ftext.baldanders.info%2frelease%2f2020%2f04%2fgit-2_26_1-is-released%2f" target="_blank"><span class="facebook-color"><i class="fab fa-facebook-square" aria-hidden="true"></i></span></a>&nbsp;<a href="http://twitter.com/share?text=Git%20v2.26.1%20%e3%81%ae%e3%83%aa%e3%83%aa%e3%83%bc%e3%82%b9%e3%80%90%e3%82%bb%e3%82%ad%e3%83%a5%e3%83%aa%e3%83%86%e3%82%a3%e3%83%bb%e3%82%a2%e3%83%83%e3%83%97%e3%83%87%e3%83%bc%e3%83%88%e3%80%91+by+@spiegel_2007&amp;url=https%3a%2f%2ftext.baldanders.info%2frelease%2f2020%2f04%2fgit-2_26_1-is-released%2f" target="_blank"><span class="twitter-color"><i class="fab fa-twitter-square" aria-hidden="true"></i></span></a>&nbsp;<a href="https://donshare.net/share.html?text=Git%20v2.26.1%20%e3%81%ae%e3%83%aa%e3%83%aa%e3%83%bc%e3%82%b9%e3%80%90%e3%82%bb%e3%82%ad%e3%83%a5%e3%83%aa%e3%83%86%e3%82%a3%e3%83%bb%e3%82%a2%e3%83%83%e3%83%97%e3%83%87%e3%83%bc%e3%83%88%e3%80%91+by+@spiegel%40fedibird.com+https%3a%2f%2ftext.baldanders.info%2frelease%2f2020%2f04%2fgit-2_26_1-is-released%2f" target="_blank"><span class="mastodon-color"><i class="fa-brands fa-mastodon"></i></span></a></div>
</nav>
<nav class="history">History in
  <a href="https://github.com/spiegel-im-spiegel/spiegel-im-spiegel.github.io/commits/master/release/2020/04/git-2_26_1-is-released/index.html">GitHub Page</a>
</nav>

<section><div>
<div class="noextension">
<a href="https://baldanders.info/public-domain-locked/" title="Public Domain Locked... | Baldanders.info"><img src="/images/Locked-150.png" alt="no extension" width="150" /></a>
</div>
<p><a href="https://git-scm.com/">Git</a> v2.26.1 を含む複数のバージョンがリリースされた。</p>
<ul>
<li><a href="https://lore.kernel.org/git/xmqqy2qy7xn8.fsf@gitster.c.googlers.com/T/">[Announce] Git v2.26.1 and others</a></li>
</ul>
<p>対象となるのは 2.17.x から 2.26.x までの各マイナーバージョン。
今回はセキュリティ・アップデートを含むため必ず対応すること。</p>
<figure lang="en">
<blockquote><q>These releases address the security issue CVE-2020-5260, which
allowed a crafted URL to trick a Git client to send credential
information for a wrong host to the attacker&rsquo;s site</q>.</blockquote>
<figcaption><div>via <q><a href="https://lore.kernel.org/git/xmqqy2qy7xn8.fsf@gitster.c.googlers.com/T/">Git v2.26.1 and others</a></q></div></figcaption>
</figure>
<p><a href="https://www.ubuntu.com/" title="The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu">Ubuntu</a> の APT の標準リポジトリは最新版を提供してないが， <a href="https://usn.ubuntu.com/4329-1/" title="USN-4329-1: Git vulnerability | Ubuntu security notices">USN-4329-1</a> によると各バージョンの <a href="https://git-scm.com/">git</a> でアップデートを行っているようだ。
なお <a href="https://launchpad.net/~git-core/+archive/ubuntu/ppa" title="Git stable releases : “Ubuntu Git Maintainers” team">PPA 版リポジトリ</a>では既に v2.26.1 がリリースされている。</p>
<h2><a href="https://nvd.nist.gov/vuln/detail/CVE-2020-5260">CVE-2020-5260</a></h2>
<figure lang="en">
<blockquote><q>Affected versions of Git have a vulnerability whereby Git can be tricked into sending private credentials to a host controlled by an attacker. Git uses external &ldquo;credential helper&rdquo; programs to store and retrieve passwords or other credentials from secure storage provided by the operating system. Specially-crafted URLs that contain an encoded newline can inject unintended values into the credential helper protocol stream, causing the credential helper to retrieve the password for one server (e.g., good.example.com) for an HTTP request being made to another server (e.g., evil.example.com), resulting in credentials for the former being sent to the latter. There are no restrictions on the relationship between the two, meaning that an attacker can craft a URL that will present stored credentials for any host to a host of their choosing. The vulnerability can be triggered by feeding a malicious URL to git clone. However, the affected URLs look rather suspicious; the likely vector would be through systems which automatically clone URLs not visible to the user, such as Git submodules, or package systems built around Git</q>.</blockquote>
<figcaption><div>via <q><a href="https://nvd.nist.gov/vuln/detail/CVE-2020-5260">CVE-2020-5260</a></q></div></figcaption>
</figure>
<p>説明がなげーよ <code>orz</code></p>
<p>要するに <q lang="en">an attacker can craft a URL that will present stored credentials for any host to a host of their choosing</q> ってところが重要。</p>
<ul>
<li><code>CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:H/I:H/A:N</code> (GitHub, Inc.)</li>
<li>深刻度: 緊急 (9.3)</li>
</ul>
<table>
<thead>
<tr>
<th>基本評価基準</th>
<th>評価値</th>
</tr>
</thead>
<tbody>
<tr>
<td>攻撃元区分</td>
<td>ネットワーク</td>
</tr>
<tr>
<td>攻撃条件の複雑さ</td>
<td>低</td>
</tr>
<tr>
<td>必要な特権レベル</td>
<td>不要</td>
</tr>
<tr>
<td>ユーザ関与レベル</td>
<td>要</td>
</tr>
<tr>
<td>スコープ</td>
<td>変更あり</td>
</tr>
<tr>
<td>機密性への影響</td>
<td>高</td>
</tr>
<tr>
<td>完全性への影響</td>
<td>高</td>
</tr>
<tr>
<td>可用性への影響</td>
<td>なし</td>
</tr>
</tbody>
</table>
<h2><a href="https://git-scm.com/">Git</a> Credential Helper</h2>
<p>ちなみに credential helper のひとつ <code>GNOME/libsecret</code> だが， <a href="https://www.ubuntu.com/" title="The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu">Ubuntu</a> 19.10 で用意されている APT 最新版は</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ sudo apt show libsecret-1-dev
</span></span><span class="line"><span class="cl">Package: libsecret-1-dev
</span></span><span class="line"><span class="cl">Version: 0.18.8-2
</span></span><span class="line"><span class="cl">Priority: optional
</span></span><span class="line"><span class="cl">Section: libdevel
</span></span><span class="line"><span class="cl">Source: libsecret
</span></span><span class="line"><span class="cl">Origin: Ubuntu
</span></span><span class="line"><span class="cl">...
</span></span></code></pre></div><p>だった。
ちょっと古いっぽい（？）気もするが&hellip; Linux 系独特の意味不明な backport patch はどうにかならないのだろうか。</p>
<p>まぁ，いいや。
<a href="https://text.baldanders.info/remark/2019/04/install-git-from-ppa/" title="PPA から Git をインストールする">以前も書いた</a>がインストール手順は以下の通り（<code>/usr/share/...</code> 以下を汚したくなかったので）。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ sudo apt install libsecret-1-dev
</span></span><span class="line"><span class="cl">$ mkdir ~/work
</span></span><span class="line"><span class="cl">$ cp -r /usr/share/doc/git/contrib/credential/libsecret ~/work
</span></span><span class="line"><span class="cl">$ cd ~/work/libsecret
</span></span><span class="line"><span class="cl">$ make
</span></span><span class="line"><span class="cl">gcc -g -O2 -Wall  -pthread -I/usr/include/libsecret-1 -I/usr/include/libmount -I/usr/include/blkid -I/usr/include/glib-2.0 -I/usr/lib/x86_64-linux-gnu/glib-2.0/include -o git-credential-libsecret.o -c git-credential-libsecret.c
</span></span><span class="line"><span class="cl">gcc -o git-credential-libsecret  git-credential-libsecret.o -lsecret-1 -lgio-2.0 -lgobject-2.0 -lglib-2.0
</span></span></code></pre></div><p>これでビルドした <code>git-credential-libsecret</code> を <code>$PATH</code> の通ったディレクトリに放り込んでおけばよい。
確認は以下の通り。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ git help -a | grep credential-
</span></span><span class="line"><span class="cl">   credential-cache     Helper to temporarily store passwords in memory
</span></span><span class="line"><span class="cl">   credential-store     Helper to store credentials on disk
</span></span><span class="line hl"><span class="cl">   credential-libsecret
</span></span></code></pre></div><p>よーし，うむうむ，よーし。</p>
<p><a href="https://git-scm.com/">Git</a> 設定は以下の通り。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ git config --global credential.helper libsecret
</span></span></code></pre></div><h2>アップデートは&hellip;</h2>
<p>アップデートは計画的に。</p>
<h2>ブックマーク</h2>
<ul>
<li><a href="https://github.com/git/git/security/advisories/GHSA-qm7j-c969-7j4q">malicious URLs may cause Git to present stored credentials to the wrong server · Advisory · git/git · GitHub</a></li>
<li><a href="https://text.baldanders.info/remark/2019/04/install-git-from-ppa/">PPA から Git をインストールする</a></li>
</ul>

</div></section>

</article>
</main>
<nav class="page-nav">
<div class="prev-page">&laquo; <a href="/release/2020/04/go-1_14_2-is-released/">Go 1.14.2 がリリースされた</a></div>
<div class="next-page"><a href="/release/2020/04/openjdk-14_0_1-is-released/">OpenJDK 14.0.1 のリリース【セキュリティ・アップデート】</a> &raquo;</div>
</nav>

<aside class="feedback" id='feedback'>
<h1>Feedback</h1>
<p>GitHub に<a href="https://github.com/spiegel-im-spiegel/github-pages-env/discussions">フィードバック用のディスカッションページ</a>を用意しました。
書き込みには GitHub のアカウントが必要ですが，お気軽にご利用ください。</p>
<p>他のフィードバック手段として Twitter, Facebook または電子メールも利用できます。電子メールを利用する際の公開鍵は<a href="https://baldanders.info/profile/">プロフィール</a>から取得できます。</p>
</aside>
<footer>


<div class="userinfo">
	<div class="userinfo-avater">
		<a href="https://baldanders.info/profile/"><img src="https://text.baldanders.info/images/avatar.jpg" width="48" height="48" alt="avatar" id="logo"></a>
	</div>
	<div class="userinfo-info" id="maker">
		Text by <a href="https://baldanders.info/profile/" rel="cc:attributionURL" property="cc:attributionName">Spiegel</a>
		in <time property='dc:dateCopyrighted'>2020-04-15</time>
		<a rel='cc:license' href="https://creativecommons.org/licenses/by-sa/4.0/"><i class="fab fa-creative-commons"></i>&nbsp;<i class="fab fa-creative-commons-by"></i>&nbsp;<i class="fab fa-creative-commons-sa"></i></a>
		<ul class="social"><li><a rel="me" href="https://github.com/spiegel-im-spiegel"><span class="github-color"><i class="fab fa-github"></i></span></a></li><li><a rel="me" href="https://www.flickr.com/photos/spiegel/"><span class="flickr-color"><i class="fab fa-flickr"></i></span></a></li><li><a rel="me" href="https://fedibird.com/@spiegel"><span class="mastodon-color"><i class="fa-brands fa-mastodon"></i></span></a></li><li><a rel="me" href="https://twitter.com/spiegel_2007"><span class="twitter-color"><i class="fab fa-twitter"></i></span></a></li></ul>
	</div>
</div>

<nav>
<ul class='cloud center'>
<li><a href='/about-feeds/'>Feeds</a></li>
<li><a href='/reviews/'>Reviews</a></li>
<li><a href='/site-policy/'>Policy</a></li>
<li><a href='https://github.com/spiegel-im-spiegel/spiegel-im-spiegel.github.io'>Repository</a></li>
<li><a href='https://validator.w3.org/nu/?doc=https%3a%2f%2ftext.baldanders.info%2frelease%2f2020%2f04%2fgit-2_26_1-is-released%2f&amp;showoutline=yes'>Debug</a></li>
</ul>
<ul class='cloud center'>
<li><a href='https://baldanders.info/'>Home</a></li>
<li><a href='https://photo.baldanders.info/'>Photos</a></li>
<li><a href='https://slide.baldanders.info/'>Slide</a></li>
<li><a href='https://zenn.dev/spiegel'>Zenn</a></li>
</ul>
<ul class='cloud center'>
<li>Powered by <a href='https://gohugo.io/'>Hugo 0.118.1</a> and <a href="https://github.com/spiegel-im-spiegel/hugo-theme-baldanders-info
">Theme of Baldanders.info</a>.</li>
</ul>
</nav>
</footer>
</div>

</body>
</html>
