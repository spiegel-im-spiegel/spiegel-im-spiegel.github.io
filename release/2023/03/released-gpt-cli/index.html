<!DOCTYPE html>
<html lang="ja">
<head prefix="og: http://ogp.me/ns#">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Hugo 0.139.3">
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="https://text.baldanders.info/release/2023/03/released-gpt-cli/">
<script defer src="/fa/js/all.min.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=BIZ+UDGothic:wght@400;700&family=BIZ+UDMincho&family=Inconsolata:wght@400;700&family=Noto+Color+Emoji&family=Noto+Sans:wght@400;700&family=Noto+Serif&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/css/local-font.css" type='text/css'>
<link rel="stylesheet" href="/css/baldanders-info-dark.css" type='text/css'>

<link rel="alternate" href="https://text.baldanders.info/index.xml" type="application/rss+xml" title="text.Baldanders.info">
<link rel="alternate" href="https://text.baldanders.info/index.json" type="application/json" title="text.Baldanders.info">
<meta name="google-site-verification" content="jTjBCslPtf8gwVatiY-GDgGv7pV5csa8aUOw1MRPUD4">
<link rel="me" href="https://fedibird.com/@spiegel">
<title>OpenAI API を使って GPT と遊ぶ gpt-cli をリリースした。 | text.Baldanders.info</title>
<meta property="og:title" content="OpenAI API を使って GPT と遊ぶ gpt-cli をリリースした。">
<meta name="description" content="先日書いたとおり，ちょっと真面目に ChatGPT で遊んでみることにした。">
<meta property="og:description" content="先日書いたとおり，ちょっと真面目に ChatGPT で遊んでみることにした。">
<meta property="og:image" content="https://text.baldanders.info/images/attention/go-logo_blue.png">
<meta name="author" content="Spiegel">


<meta name="twitter:card" content="summary">
<link rel="me" href="https://goark.fedicity.net/@spiegel">
<meta name="keywords" content="golang, tools, openai, artificial-intelligence">
<link rel='prev' href='https://text.baldanders.info/release/2023/03/java-20-is-released/' title='Java 20 がリリースされた' />
<link rel='next' href='https://text.baldanders.info/release/2023/04/go-1_20_3-is-released/' title='Go 1.20.3 のリリース【セキュリティ・アップデート】' />

<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "WebSite",
	"@id": "https://text.baldanders.info/",
	"inLanguage": "ja",
	"name": "text.Baldanders.info",
    "url": "https://text.baldanders.info/",
	"publisher": {
		"@id": "https://text.baldanders.info/#org"
	},
	"author": {
		"@id": "https://text.baldanders.info/#maker"
	},
	"image": "https://text.baldanders.info/images/attention/site.jpg",
	"description": "帰ってきた「しっぽのさきっちょ」"
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Organization",
	"@id": "https://text.baldanders.info/#org",
	"name": "Spiegel",
	"logo": {
		"@type": "ImageObject",
		"@id": "https://text.baldanders.info/#logo",
		"url": "https://text.baldanders.info/images/avatar.jpg"
	}
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Person",
	"@id": "https://text.baldanders.info/#maker",
	"name": "Spiegel",
	"url": "https://baldanders.info/profile/",
	"image": "https://text.baldanders.info/images/avatar.jpg"
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Blog",
	"@id": "https://text.baldanders.info/release/",
	"url": "https://text.baldanders.info/release/",
	"inLanguage": "ja",
	"name": "リリース情報",
	"description": "自作パッケージ・ツールと気になるツール・サービスのリリース情報について。",
	"image": "https://text.baldanders.info/images/attention/tools.png",
	"publisher": {
		"@id": "https://text.baldanders.info/#org"
	},
	"author": {
		"@id": "https://text.baldanders.info/#maker"
	}
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "BreadcrumbList",
	"@id": "https://text.baldanders.info/release/2023/03/released-gpt-cli/#breadcrumb-list",
	"itemListElement": [
		{
			"@type": "ListItem",
			"position": 1,
			"item": {
				"@id": "https://text.baldanders.info/"
			}
		},
		{
			"@type": "ListItem",
			"position": 2,
			"item": {
				"@id": "https://text.baldanders.info/release/"
			}
		}
	]
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "BlogPosting",
	"@id": "https://text.baldanders.info/release/2023/03/released-gpt-cli/",
	"url": "https://text.baldanders.info/release/2023/03/released-gpt-cli/",
	"mainEntityOfPage": "https://text.baldanders.info/release/2023/03/released-gpt-cli/",
	"inLanguage": "ja",
	"name": "OpenAI API を使って GPT と遊ぶ gpt-cli をリリースした。",
	"description": "先日書いたとおり，ちょっと真面目に ChatGPT で遊んでみることにした。",
	"headline": "先日書いたとおり，ちょっと真面目に ChatGPT で遊んでみることにした。",
	"keywords": "golang, tools, openai, artificial-intelligence",
	"image": "https://text.baldanders.info/images/attention/go-logo_blue.png",
	"datePublished": "2023-03-28T11:49:13+00:00",
	"dateModified": "2024-05-10T22:02:32+00:00",
	"publisher": {
		"@id": "https://text.baldanders.info/#org"
	},
	"author": {
		"@id": "https://text.baldanders.info/#maker"
	},
	"license": "https://creativecommons.org/licenses/by-sa/4.0/"
}
</script>
</head>
<body>

<div id='container'>

<main>
<nav class="breadcrumb">
<a href="https://text.baldanders.info/">text.Baldanders.info</a> &raquo; <a href="/release/">リリース情報</a>
</nav>
<article>
<h1>OpenAI API を使って GPT と遊ぶ gpt-cli をリリースした。</h1>
<nav class="tags">
	<div><a href='/tags/'>Tags</a>: #<a href="/tags/artificial-intelligence/">artificial-intelligence</a> #<a href="/tags/golang/">golang</a> #<a href="/tags/openai/">openai</a> #<a href="/tags/tools/">tools</a></div>
	<div class="cloud">
		<span class="share-color" title="Share this entry"><i class="fas fa-share-square"></i></span>&nbsp;:
		&nbsp;<a href="https://getpocket.com/edit?url=https%3a%2f%2ftext.baldanders.info%2frelease%2f2023%2f03%2freleased-gpt-cli%2f&amp;title=OpenAI%20API%20%e3%82%92%e4%bd%bf%e3%81%a3%e3%81%a6%20GPT%20%e3%81%a8%e9%81%8a%e3%81%b6%20gpt-cli%20%e3%82%92%e3%83%aa%e3%83%aa%e3%83%bc%e3%82%b9%e3%81%97%e3%81%9f%e3%80%82" target="_blank"><span class="pocket-color"><abbr title="Share Pocket"><i class="fab fa-get-pocket" aria-hidden="true"></i></abbr></span></a>
		&nbsp;<a href="http://www.facebook.com/share.php?u=https%3a%2f%2ftext.baldanders.info%2frelease%2f2023%2f03%2freleased-gpt-cli%2f" target="_blank"><span class="facebook-color"><abbr title="Share facebook"><i class="fab fa-facebook-square" aria-hidden="true"></i></abbr></span></a>
		&nbsp;<a href="http://twitter.com/share?text=OpenAI%20API%20%e3%82%92%e4%bd%bf%e3%81%a3%e3%81%a6%20GPT%20%e3%81%a8%e9%81%8a%e3%81%b6%20gpt-cli%20%e3%82%92%e3%83%aa%e3%83%aa%e3%83%bc%e3%82%b9%e3%81%97%e3%81%9f%e3%80%82&amp;url=https%3a%2f%2ftext.baldanders.info%2frelease%2f2023%2f03%2freleased-gpt-cli%2f" target="_blank"><span class="twitter-color"><abbr title="Share Twitter"><i class="fab fa-twitter-square" aria-hidden="true"></i></abbr></span></a>
		&nbsp;<a href="https://donshare.net/share.html?text=OpenAI%20API%20%e3%82%92%e4%bd%bf%e3%81%a3%e3%81%a6%20GPT%20%e3%81%a8%e9%81%8a%e3%81%b6%20gpt-cli%20%e3%82%92%e3%83%aa%e3%83%aa%e3%83%bc%e3%82%b9%e3%81%97%e3%81%9f%e3%80%82+by+@spiegel%40goark.fedicity.net%20+https%3a%2f%2ftext.baldanders.info%2frelease%2f2023%2f03%2freleased-gpt-cli%2f" target="_blank"><span class="mastodon-color"><abbr title="Share Mastodon"><i class="fa-brands fa-mastodon"></i></abbr></span></a>
	</div>
</nav>
<nav class="history">History in
  <a href="https://github.com/spiegel-im-spiegel/spiegel-im-spiegel.github.io/commits/master/release/2023/03/released-gpt-cli/index.html">GitHub Page</a>
</nav>

<section><div>
<div class="noextension">
<a href="https://baldanders.info/public-domain-locked/" title="Public Domain Locked... | Baldanders.info"><img src="/images/Locked-150.png" alt="no extension" width="150" /></a>
</div>
<h2>OpenAI API で遊びたい</h2>
<p><a href="https://text.baldanders.info/remark/2023/03/practice-on-the-wall/" title="ChatGPT という壁打ち">先日書いた</a>とおり，ちょっと真面目に ChatGPT で遊んでみることにした。
んで，とりあえず Web ブラウザでチャットは何かと辛いので，コマンドライン・ツールで近い機能が実装できないかなぁ，と物色してみたら</p>
<ul>
<li><a href="https://github.com/sashabaranov/go-openai" title="sashabaranov/go-openai: OpenAI ChatGPT, GPT-3, GPT-4, DALL·E, Whisper API wrapper for Go">sashabaranov/go-openai: OpenAI ChatGPT, GPT-3, GPT-4, DALL·E, Whisper API wrapper for Go</a></li>
</ul>
<p>というパッケージを使うのが<a href="https://zenn.dev/spiegel/scraps/fa5fcc9f7f1781" title="ターミナルで ChatGPT とお話するための #golang コード">よさげ</a>である。</p>
<p>というわけで，このパッケージを用いた CLI ツールを作ってみた。</p>
<ul>
<li><a href="https://github.com/goark/gpt-cli">goark/gpt-cli: CLI tool for GPT with OpenAI API</a></li>
</ul>
<p>ぶっちゃけ，この手のツールはみんな思いつくようで， <a href="https://go.dev/">Go</a> 製のものだけでもそこそこ見かける。
でも，まぁ，こういうのは実際にコードを書いて動かしてみないと理解できなかったりするからねぇ。
N番煎じはご容赦を。</p>
<p>拙作の場合はこんな感じ。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ gpt-cli -h
</span></span><span class="line"><span class="cl">CLI tool for GPT with OpenAI API.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Usage:
</span></span><span class="line"><span class="cl">  gpt-cli [flags]
</span></span><span class="line"><span class="cl">  gpt-cli [command]
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Available Commands:
</span></span><span class="line"><span class="cl">  chat        Chat with GPT-x
</span></span><span class="line"><span class="cl">  help        Help about any command
</span></span><span class="line"><span class="cl">  version     Print the version number
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Flags:
</span></span><span class="line"><span class="cl">      --api-key string     OpenAI API key
</span></span><span class="line"><span class="cl">      --config string      Config file (default /home/username/.config/gpt-cli/config.yaml)
</span></span><span class="line"><span class="cl">      --debug              for debug
</span></span><span class="line"><span class="cl">  -h, --help               help for gpt-cli
</span></span><span class="line"><span class="cl">      --log-dir string     Directory for log files (default &#34;/home/username/.cache/gpt-cli&#34;)
</span></span><span class="line"><span class="cl">      --log-level string   Log level [nop|error|warn|info|debug|trace] (default &#34;nop&#34;)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Use &#34;gpt-cli [command] --help&#34; for more information about a command.
</span></span></code></pre></div><p>今のところはチャット機能しかないが， <a href="https://github.com/sashabaranov/go-openai" title="sashabaranov/go-openai: OpenAI ChatGPT, GPT-3, GPT-4, DALL·E, Whisper API wrapper for Go">sashabaranov/go-openai</a> を使えば，いま話題沸騰（笑）の GPT-4 や DALL·E, Whisper あたりもハンドリングできるみたいなので，そのうち挑戦してみたいと思っている。
ちなみに GPT-4 は申請中だが，しばらく順番は回ってこないだろうな。</p>
<h2>OpenAI API Key を取得する</h2>
<p>拙作を動かす場合は <a href="https://platform.openai.com/">OpenAI API</a> Key を取得する必要がある。
取得方法は適当にググってください。
<a href="https://platform.openai.com/">OpenAI</a> のアカウントを取ると，最初は無料だけど，無料枠を使い切ると有料（従量制）になるのでご注意を。</p>
<p>で， <a href="https://platform.openai.com/">OpenAI API</a> Key はコマンドラインで指定することもできるけど，設定ファイルに記述しておくことができる。
規定ファイルは <code>$XDG_CONFIG_HOME/gpt-cli/config.yaml</code>。
中身は YAML 形式で，こんな感じに記述できる。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">api-key</span><span class="p">:</span><span class="w"> </span><span class="l">your_api_key_string</span><span class="w">
</span></span></span></code></pre></div><p>Linux の場合は， <code>$XDG_CONFIG_HOME</code> は <code>$HOME/.config/</code> ディレクトリに割り当てられていることが多い。
Windows だと <code>%AppData%</code> フォルダ， macOS (Darwin) だと <code>$HOME/Library/Application/</code> フォルダになる。
コマンドラインの <code>--config</code> オプションで設定ファイルを指定することもできる。</p>
<h2>GPT とチャットする</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ gpt-cli chat -h
</span></span><span class="line"><span class="cl">Chat with GPT-x, input from standard input.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Usage:
</span></span><span class="line"><span class="cl">  gpt-cli chat [flags]
</span></span><span class="line"><span class="cl">  gpt-cli chat [command]
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Aliases:
</span></span><span class="line"><span class="cl">  chat, c
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Available Commands:
</span></span><span class="line"><span class="cl">  history     Print chat history
</span></span><span class="line"><span class="cl">  interactive Interactive mode
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Flags:
</span></span><span class="line"><span class="cl">  -a, --attach-file strings   Path of attach files (text file only)
</span></span><span class="line"><span class="cl">  -c, --clipboard             Input message from clipboard
</span></span><span class="line"><span class="cl">  -h, --help                  help for chat
</span></span><span class="line"><span class="cl">  -m, --message string        Chat message
</span></span><span class="line"><span class="cl">  -p, --prepare-file string   Path of prepare file (JSON format)
</span></span><span class="line"><span class="cl">  -f, --save-file string      Path of save file (JSON format)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Global Flags:
</span></span><span class="line"><span class="cl">      --api-key string     OpenAI API key
</span></span><span class="line"><span class="cl">      --config string      Config file (default /home/username/.config/gpt-cli/config.yaml)
</span></span><span class="line"><span class="cl">      --debug              for debug
</span></span><span class="line"><span class="cl">      --log-dir string     Directory for log files (default &#34;/home/username/.cache/gpt-cli&#34;)
</span></span><span class="line"><span class="cl">      --log-level string   Log level [nop|error|warn|info|debug|trace] (default &#34;nop&#34;)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Use &#34;gpt-cli chat [command] --help&#34; for more information about a command.
</span></span></code></pre></div><p>いちばん簡単な使い方は以下の通り（<a href="https://platform.openai.com/">OpenAI API</a> Key は設定ファイルに記述済みとする）。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ gpt-cli c -m &#34;hello&#34;
</span></span><span class="line"><span class="cl">Hello! How can I help you today?
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">save to /home/username/.cache/gpt-cli/chat.2133582955.json
</span></span></code></pre></div><p><a href="https://platform.openai.com/">OpenAI API</a> を使って “<code>hello</code>” と投げると “<code>Hello! How can I help you today?</code>” と返ってきた。
最後に，やり取りの記録を <code>$XDG_CACHE_HOME/gpt-cli/chat.*.json</code> ファイル<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup> に格納して終了（保存先は <code>--save-file</code> または <code>-f</code> オプションで指定できる）。
そして，次に起動するときは <code>--prepare-file</code> または <code>-p</code> オプションで記録を格納したファイルを指定すれば続きから始められる。</p>
<p><code>--prepare-file</code> オプションを使うことで初期状態をある程度いじることができる。
<code>--prepare-file</code> オプションで指定するファイルは JSON 形式で，たとえば</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;model&#34;</span><span class="p">:</span> <span class="s2">&#34;gpt-3.5-turbo-0301&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;max_tokens&#34;</span><span class="p">:</span> <span class="mi">256</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;temperature&#34;</span><span class="p">:</span> <span class="mf">0.7</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;messages&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;role&#34;</span><span class="p">:</span> <span class="s2">&#34;system&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;content&#34;</span><span class="p">:</span> <span class="s2">&#34;これからプログラムのコードを渡すので，質問に答えてください。&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>などと記述しておいて，これを <code>--prepare-file</code> オプションで読み込ませて初期状態にできる。</p>
<h3>チャットにファイルを添付する</h3>
<p><code>--attach-file</code> または <code>-a</code> オプションを使ってファイルを添付して評価してもらうこともできる。
こんな感じ。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ cat sample/hello.go
</span></span><span class="line"><span class="cl">package main
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">import &#34;fmt&#34;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">func main() {
</span></span><span class="line"><span class="cl">    fmt.Println(&#34;Hello, world.&#34;)
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ gpt-cli c -a sample/hello.go -m &#34;Summarize the source code below.&#34;
</span></span><span class="line"><span class="cl">The source code is a basic program in the Go programming language that prints the text &#34;Hello, world.&#34; to the console. It includes the standard library package &#34;fmt&#34; and a main function that utilizes the &#34;Println&#34; function from the &#34;fmt&#34; package.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">save to /home/username/.cache/gpt-cli/chat.3658387869.json
</span></span></code></pre></div><p><code>--attach-file</code> オプションを複数使って複数のファイルを指定することが可能。
また <code>*.go</code> みたいなワイルドカード指定もできる（bash 上などではファイル名が勝手に展開されてしまうので <code>&quot;*.go&quot;</code> のように引用符で囲むとよい）。</p>
<h3>クリップボードの内容をメッセージとして送信する</h3>
<p><code>--clipboard</code> または <code>-c</code> オプションを指定することでクリップボードの内容をメッセージとして送信できる。</p>
<p>たとえば上述の <code>sample/hello.go</code> の内容をクリップボードにコピーした上で</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ gpt-cli c -c -m &#34;次のコードを要約してください。&#34;
</span></span><span class="line"><span class="cl">このコードは、mainパッケージをインポートし、&#34;Hello, world.&#34;という文字列を出力するプログラムです。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">save to /home/username/.cache/gpt-cli/chat.2878035472.json
</span></span></code></pre></div><p>などとできる。
送信の順番は <code>--message</code> オプションで指定した文字列 → クリップボードの内容 → 添付ファイル の順に送信される。</p>
<h2>対話モード</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ gpt-cli chat interactive -h
</span></span><span class="line"><span class="cl">Interactive mode in chat.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Usage:
</span></span><span class="line"><span class="cl">  gpt-cli chat interactive [flags]
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Aliases:
</span></span><span class="line"><span class="cl">  interactive, i
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Flags:
</span></span><span class="line"><span class="cl">  -h, --help               help for interactive
</span></span><span class="line"><span class="cl">  -p, --profile string     Path of profile file (JSON format)
</span></span><span class="line"><span class="cl">  -f, --save-file string   Path of save file (JSON format)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Global Flags:
</span></span><span class="line"><span class="cl">      --api-key string     OpenAI API key
</span></span><span class="line"><span class="cl">      --config string      Config file (default /home/username/.config/gpt-cli/config.yaml)
</span></span><span class="line"><span class="cl">      --debug              for debug
</span></span><span class="line"><span class="cl">      --log-dir string     Directory for log files (default &#34;/home/username/.cache/gpt-cli&#34;)
</span></span><span class="line"><span class="cl">      --log-level string   Log level [nop|error|warn|info|debug|trace] (default &#34;nop&#34;)
</span></span></code></pre></div><p>こんな感じに使える。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ gpt-cli c i
</span></span><span class="line"><span class="cl">Input &#39;q&#39; or &#39;quit&#39; to stop
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Chat&gt; こんにちは
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">こんにちは！私はAIのアシスタントです。何かお手伝いできることがありますか？
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Chat&gt; 科学雑誌の日経サイエンスにChatGPTの特集が載るそうです。どんな内容になるか予想してみましょう。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ChatGPTとは、人工知能による自然言語処理を利用した対話型のチャットボットです。日経サイエンスがChatGPTに特集を組むことから、以下のような予想が考えられます。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">1. ChatGPTの機能や特徴の紹介
</span></span><span class="line"><span class="cl">ChatGPTの性能、動作原理などの詳しい解説や、どのような機能があるのか、どのような場面で活躍するのかなどが紹介される可能性があります。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">2. ChatGPTの応用例の紹介
</span></span><span class="line"><span class="cl">ChatGPTが活用される応用例として、カスタマーサポート、医療支援、人工知能アシスタントなどがあります。特集では、ChatGPTがどのようにこれらの分野で活躍しているのか、具体例を交えて解説されるかもしれません。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">3. ChatGPTの進化と今後の展望について
</span></span><span class="line"><span class="cl">ChatGPTは、自然言語処理分野での革新的な技術であり、今後、ますます進化していくことが期待されています。特集では、今後どのような改良がされ、また、普及の度合いがどこまで広がるのか、その展望についても取り上げられるかもしれません。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Chat&gt; ありがとうございます。雑誌を読むのが楽しみです
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">どういたしまして。日経サイエンスは、科学技術に関する話題や最新の研究成果などが掲載され、とても興味深く読める雑誌ですね。ChatGPTに特集が組まれるということで、ますます注目が集まりそうですね。楽しみにしていてください。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Chat&gt; q
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">save to /home/username/.cache/gpt-cli/chat.2788390222.json
</span></span></code></pre></div><p>入力は1行のみ可（複数行編集の実装は保留中）。
ファイルの添付とかもできない。
本当に文章で対話するだけ（笑）</p>
<h2>チャット履歴を表示</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ gpt-cli chat history -h
</span></span><span class="line"><span class="cl">Print chat history.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Usage:
</span></span><span class="line"><span class="cl">  gpt-cli chat history [flags]
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Aliases:
</span></span><span class="line"><span class="cl">  history, hist, h
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Flags:
</span></span><span class="line"><span class="cl">  -a, --assistant-name string   Assistant name (display name)
</span></span><span class="line"><span class="cl">  -h, --help                    help for history
</span></span><span class="line"><span class="cl">  -f, --history-file string     Path of history file (JSON format)
</span></span><span class="line"><span class="cl">  -u, --user-name string        User name (display name)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Global Flags:
</span></span><span class="line"><span class="cl">      --api-key string     OpenAI API key
</span></span><span class="line"><span class="cl">      --config string      Config file (default /home/username/.config/gpt-cli/config.yaml)
</span></span><span class="line"><span class="cl">      --debug              for debug
</span></span><span class="line"><span class="cl">      --log-dir string     Directory for log files (default &#34;/home/username/.cache/gpt-cli&#34;)
</span></span><span class="line"><span class="cl">      --log-level string   Log level [nop|error|warn|info|debug|trace] (default &#34;nop&#34;)
</span></span></code></pre></div><p>最後に出力される記録ファイルを読み込んで markdown 風のテキストに整形して出力できる。
オマケ機能。
こんな感じ。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ gpt-cli c h -u Spiegel -a ChatGPT -f /home/username/.cache/gpt-cli/chat.2133582955.json
</span></span><span class="line"><span class="cl"># Chat with GPT
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">- `model`: gpt-3.5-turbo-0301
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">## Spiegel
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">hello
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">## ChatGPT
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Hello! How can I help you today?
</span></span></code></pre></div><p>ChatGPT とのやりとりを <a href="https://gist.github.com/spiegel-im-spiegel">Gist に上げたり</a>してるんだけど，手動で整形するのが面倒くさくて（笑）</p>
<h2>よっしゃ，今日はこれぐらいにしといたるわ</h2>
<p>というわけで，今回はこのへんで。
しばらく遊んでみて，必要なら機能を足すかも知れん。
こうやって，ツールがカオスになっていくんだねぇ（笑）</p>
<h2>ブックマーク</h2>
<ul>
<li><a href="https://japan.zdnet.com/article/35201375/">ChatGPTに回答の参考文献を提示させるには - ZDNET Japan</a></li>
<li><a href="https://zenn.dev/u_u/articles/54902c757ffce5">ChatGPTのプロンプトをLispで書く</a></li>
<li><a href="https://qiita.com/kznrluk/items/6d5ecd22c1b19d3e1d56">ChatGPTで開発効率アップ！askiを使ったCLIコードレビュー＆バグ特定 - Qiita</a></li>
<li><a href="https://dev.to/disukharev/top-3-open-source-ai-tools-for-programmers-4oed">TOP 3 open-source AI to code like a PRO 🧠 🤖 - DEV Community</a></li>
<li><a href="https://zetamatta.hatenablog.com/entry/2023/03/24/233301">go-readline-ny でマルチライン編集 - 標準愚痴出力</a></li>
</ul>
<h2>参考図書</h2>
<div class="hreview">
  <div class="photo"><a href="https://www.amazon.co.jp/dp/B0BXQ2HMQ5?tag=baldandersinf-22&amp;linkCode=ogi&amp;th=1&amp;psc=1"><img src="https://m.media-amazon.com/images/I/51RHpNwG41L._SL160_.jpg" width="120" alt="photo"></a></div>
  <dl>
    <dt class="item"><a class="fn url" href="https://www.amazon.co.jp/dp/B0BXQ2HMQ5?tag=baldandersinf-22&amp;linkCode=ogi&amp;th=1&amp;psc=1">日経サイエンス2023年5月号（特集：対話するAI　ChatGPT）</a></dt>
    <dd>日経サイエンス編集部 (編集)</dd>
    <dd>日経サイエンス 2023-03-25 (Release 2023-03-25)</dd>
    <dd>雑誌</dd>
    <dd>B0BXQ2HMQ5 (ASIN), 4910071150534 (EAN)</dd>
    <dd>評価<abbr class="rating fa-sm" title="4">&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="far fa-star"></i></abbr></dd>
  </dl>
  <p class="description">特集記事が「話す AI 描く AI」ということで，いわゆる Generative AI に関する内容。大規模言語モデル（LLM）の解説も載っている。圏論の記事もあるよ。</p>
  <p class="powered-by">reviewed by <a href='#maker' class='reviewer'>Spiegel</a> on <abbr class="dtreviewed" title="2023-03-28">2023-03-28</abbr> (powered by <a href="https://affiliate.amazon.co.jp/assoc_credentials/home">PA-APIv5</a>)</p>
</div> <!-- 日経サイエンス2023年5月号（特集：対話するAI ChatGPT） -->
<div class="hreview">
  <div class="photo"><a href="https://www.amazon.co.jp/dp/4621300253?tag=baldandersinf-22&amp;linkCode=ogi&amp;th=1&amp;psc=1"><img src="https://m.media-amazon.com/images/I/41meaSLNFfL._SL160_.jpg" width="123" alt="photo"></a></div>
  <dl>
    <dt class="item"><a class="fn url" href="https://www.amazon.co.jp/dp/4621300253?tag=baldandersinf-22&amp;linkCode=ogi&amp;th=1&amp;psc=1">プログラミング言語Go (ADDISON-WESLEY PROFESSIONAL COMPUTING SERIES)</a></dt>
    <dd>Alan A.A. Donovan (著), Brian W. Kernighan (著), 柴田 芳樹 (翻訳)</dd>
    <dd>丸善出版 2016-06-20</dd>
    <dd>単行本（ソフトカバー）</dd>
    <dd>4621300253 (ASIN), 9784621300251 (EAN), 4621300253 (ISBN), 9784621300251 (ISBN)</dd>
    <dd>評価<abbr class="rating fa-sm" title="5">&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="fas fa-star"></i></abbr></dd>
  </dl>
  <p class="description">著者のひとりは（あの「バイブル」とも呼ばれる）通称 “K&amp;R” の K のほうである。この本は Go 言語の教科書と言ってもいいだろう。</p>
  <p class="powered-by">reviewed by <a href='#maker' class='reviewer'>Spiegel</a> on <abbr class="dtreviewed" title="2016-07-13">2016-07-13</abbr> (powered by <a href="https://affiliate.amazon.co.jp/assoc_credentials/home">PA-APIv5</a>)</p>
</div> <!-- プログラミング言語Go -->
<div class="hreview">
  <div class="photo"><a href="https://www.amazon.co.jp/dp/B09C2XBC2F?tag=baldandersinf-22&amp;linkCode=ogi&amp;th=1&amp;psc=1"><img src="https://m.media-amazon.com/images/I/31PDIZXO9tL._SL160_.jpg" width="160" alt="photo"></a></div>
  <dl>
    <dt class="item"><a class="fn url" href="https://www.amazon.co.jp/dp/B09C2XBC2F?tag=baldandersinf-22&amp;linkCode=ogi&amp;th=1&amp;psc=1">デベロッパーゴースーパーゴラン Tシャツ</a></dt>
    <dd>Geek Go Super Golang Tees</dd>
    <dd>ウェア&amp;シューズ</dd>
    <dd>B09C2XBC2F (ASIN)</dd>
    <dd>評価<abbr class="rating fa-sm" title="4">&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="far fa-star"></i></abbr></dd>
  </dl>
  <p class="description">ついカッとなってポチった。反省はしない</p>
  <p class="powered-by">reviewed by <a href='#maker' class='reviewer'>Spiegel</a> on <abbr class="dtreviewed" title="2022-04-10">2022-04-10</abbr> (powered by <a href="https://affiliate.amazon.co.jp/assoc_credentials/home">PA-APIv5</a>)</p>
</div> <!-- Golang Tシャツ -->
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Linux では <code>$XDG_CACHE_HOME</code> は <code>$HOME/.cache/</code> ディレクトリに割り当てられていることが多い。 Windows だと <code>%LocalAppData%</code> フォルダ， macOS (Darwin) だと <code>$HOME/Library/Caches/</code> フォルダになる。&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

</div></section>

</article>
</main>
<nav class="page-nav">
<div class="prev-page">&laquo; <a href="/release/2023/03/java-20-is-released/">Java 20 がリリースされた</a></div>
<div class="next-page"><a href="/release/2023/04/go-1_20_3-is-released/">Go 1.20.3 のリリース【セキュリティ・アップデート】</a> &raquo;</div>
</nav>

<aside class="feedback" id='feedback'>
<h1>Feedback</h1>
<p>GitHub に<a href="https://github.com/spiegel-im-spiegel/github-pages-env/discussions">フィードバック用のディスカッションページ</a>を用意しました。
書き込みには GitHub のアカウントが必要ですが，お気軽にご利用ください。</p>
<p>他のフィードバック手段として Mastodon などの SNS や電子メールも利用できます。電子メールを利用する際の公開鍵は<a href="https://baldanders.info/profile/">プロフィール</a>から取得できます。</p>
</aside>
<footer>


<div class="userinfo">
	<div class="userinfo-avater">
		<a href="https://baldanders.info/profile/"><img src="https://text.baldanders.info/images/avatar.jpg" width="48" height="48" alt="avatar" id="logo"></a>
	</div>
	<div class="userinfo-info" id="maker">
		Text by <a href="https://baldanders.info/profile/" rel="cc:attributionURL" property="cc:attributionName">Spiegel</a>
		in <time property='dc:dateCopyrighted'>2023-03-28</time> (revised in 2024-05-11)
		<a rel='cc:license' href="https://creativecommons.org/licenses/by-sa/4.0/"><i class="fab fa-creative-commons"></i>&nbsp;<i class="fab fa-creative-commons-by"></i>&nbsp;<i class="fab fa-creative-commons-sa"></i></a>
		<ul class="social"><li><a rel="me" href="https://github.com/spiegel-im-spiegel"><span class="github-color"><abbr title="GitHub"><i class="fab fa-github"></i></abbr></span></a></li><li><a rel="me" href="https://www.flickr.com/photos/spiegel/"><span class="flickr-color"><abbr title="Flickr"><i class="fab fa-flickr"></i></abbr></span></a></li><li><a rel="me" href="https://goark.fedicity.net/@spiegel"><span class="mastodon-color"><abbr title="Mastodon"><i class="fa-brands fa-mastodon"></i></abbr></span></a></li><li><a rel="me" href="https://bsky.app/profile/baldanders.info"><span class="bluesky-color"><abbr title="Bluesky"><i class="fa-brands fa-bluesky"></i></abbr></span></a></li></ul>
	</div>
</div>

<nav>
<ul class='cloud center'>
<li><a href='/about-feeds/'>Feeds</a></li>
<li><a href='/reviews/'>Reviews</a></li>
<li><a href='/site-policy/'>Policy</a></li>
<li><a href='https://github.com/spiegel-im-spiegel/spiegel-im-spiegel.github.io'>Repository</a></li>
<li><a href='https://validator.w3.org/nu/?doc=https%3a%2f%2ftext.baldanders.info%2frelease%2f2023%2f03%2freleased-gpt-cli%2f&amp;showoutline=yes'>Debug</a></li>
</ul>
<ul class='cloud center'>
<li><a href='https://baldanders.info/'>Home</a></li>
<li><a href='https://photo.baldanders.info/'>Photos</a></li>
<li><a href='https://slide.baldanders.info/'>Slide</a></li>
<li><a href='https://zenn.dev/spiegel'>Zenn</a></li>
</ul>
<ul class='cloud center'>
<li>Powered by <a href='https://gohugo.io/'>Hugo 0.139.3</a> and <a href="https://github.com/spiegel-im-spiegel/hugo-theme-baldanders-info
">Theme of Baldanders.info</a>.</li>
</ul>
</nav>
</footer>
</div>

</body>
</html>
