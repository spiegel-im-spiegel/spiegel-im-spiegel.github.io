<!DOCTYPE html>
<html lang="ja">
<head prefix="og: http://ogp.me/ns#">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Hugo 0.152.0">
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="https://text.baldanders.info/typst/7-function-and-rules/">
<script defer src="/fa/js/all.min.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=BIZ+UDGothic:wght@400;700&family=BIZ+UDMincho:wght@400;700&family=Intel+One+Mono:wght@400;700&family=Noto+Color+Emoji&family=Noto+Sans:wght@400;700&family=Noto+Serif+Hentaigana:wght@400;700&family=Noto+Serif:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/css/local-font.css" type='text/css'>
<link rel="stylesheet" href="/css/baldanders-info-dark.css" type='text/css'>

<link rel="alternate" href="https://text.baldanders.info/index.xml" type="application/rss+xml" title="text.Baldanders.info">
<link rel="alternate" href="https://text.baldanders.info/index.json" type="application/json" title="text.Baldanders.info">
<meta name="google-site-verification" content="jTjBCslPtf8gwVatiY-GDgGv7pV5csa8aUOw1MRPUD4">
<link rel="me" href="https://fedibird.com/@spiegel">
<title>Typst における関数とルール [text.Baldanders.info]</title>
<meta property="og:title" content="Typst における関数とルール">
<meta name="description" content="関数の定義と呼び出し / 名前付き引数 / Show ルール / Set ルール / 文書ファイルを分割した際のルール設定">
<meta property="og:description" content="関数の定義と呼び出し / 名前付き引数 / Show ルール / Set ルール / 文書ファイルを分割した際のルール設定">
<meta property="og:image" content="https://text.baldanders.info/images/attention/tools.png">
<meta name="author" content="Spiegel">


<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@spiegel_2007">
<meta name="twitter:creator" content="@spiegel_2007">
<link rel="me" href="https://goark.fedicity.net/@spiegel">
<meta name="keywords" content="typst, programming">
<link rel='prev' href='https://text.baldanders.info/typst/x-miscellaneous/' title='Typst に関する雑多な話'>

<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "WebSite",
	"@id": "https://text.baldanders.info/",
	"inLanguage": "ja",
	"name": "text.Baldanders.info",
    "url": "https://text.baldanders.info/",
	"publisher": {
		"@id": "https://text.baldanders.info/#org"
	},
	"author": {
		"@id": "https://text.baldanders.info/#maker"
	},
	"image": "https://text.baldanders.info/images/attention/site.jpg",
	"description": "帰ってきた「しっぽのさきっちょ」"
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Organization",
	"@id": "https://text.baldanders.info/#org",
	"name": "Spiegel",
	"logo": {
		"@type": "ImageObject",
		"@id": "https://text.baldanders.info/#logo",
		"url": "https://text.baldanders.info/images/avatar.jpg"
	}
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Person",
	"@id": "https://text.baldanders.info/#maker",
	"name": "Spiegel",
	"url": "https://baldanders.info/profile/",
	"image": "https://text.baldanders.info/images/avatar.jpg"
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Blog",
	"@id": "https://text.baldanders.info/typst/",
	"url": "https://text.baldanders.info/typst/",
	"inLanguage": "ja",
	"name": "Typst のお勉強",
	"description": "話題のドキュメント組版エンジン Typst についてお勉強する。",
	"image": "https://text.baldanders.info/images/attention/tools.png",
	"publisher": {
		"@id": "https://text.baldanders.info/#org"
	},
	"author": {
		"@id": "https://text.baldanders.info/#maker"
	}
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "BreadcrumbList",
	"@id": "https://text.baldanders.info/typst/7-function-and-rules/#breadcrumb-list",
	"itemListElement": [
		{
			"@type": "ListItem",
			"position": 1,
			"item": {
				"@id": "https://text.baldanders.info/"
			}
		},
		{
			"@type": "ListItem",
			"position": 2,
			"item": {
				"@id": "https://text.baldanders.info/typst/"
			}
		}
	]
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "BlogPosting",
	"@id": "https://text.baldanders.info/typst/7-function-and-rules/",
	"url": "https://text.baldanders.info/typst/7-function-and-rules/",
	"mainEntityOfPage": "https://text.baldanders.info/typst/7-function-and-rules/",
	"inLanguage": "ja",
	"name": "Typst における関数とルール",
	"description": "関数の定義と呼び出し / 名前付き引数 / Show ルール / Set ルール / 文書ファイルを分割した際のルール設定",
	"headline": "関数の定義と呼び出し / 名前付き引数 / Show ルール / Set ルール / 文書ファイルを分割した際のルール設定",
	"keywords": "typst, programming",
	"image": "https://text.baldanders.info/images/attention/tools.png",
	"datePublished": "2025-03-07T10:16:25+00:00",
	"dateModified": "2025-03-07T11:31:08+00:00",
	"publisher": {
		"@id": "https://text.baldanders.info/#org"
	},
	"author": {
		"@id": "https://text.baldanders.info/#maker"
	},
	"license": "https://creativecommons.org/licenses/by-sa/4.0/"
}
</script>
</head>
<body>

<div id='container'>

<main>
<nav class="breadcrumb">
<a href="https://text.baldanders.info/">text.Baldanders.info</a> &raquo; <a href="/typst/">Typst のお勉強</a>
</nav>
<article>
<h1>Typst における関数とルール</h1>
<nav class="tags">
	<div><a href='/tags/'>Tags</a>: #<a href="/tags/programming/">programming</a> #<a href="/tags/typst/">typst</a></div>
	<div class="cloud">
		<span class="share-color" title="Share this entry"><i class="fa-solid fa-share-from-square"></i></span>&nbsp;:
		&nbsp;<a href="https://getpocket.com/edit?url=https%3a%2f%2ftext.baldanders.info%2ftypst%2f7-function-and-rules%2f&amp;title=Typst%20%e3%81%ab%e3%81%8a%e3%81%91%e3%82%8b%e9%96%a2%e6%95%b0%e3%81%a8%e3%83%ab%e3%83%bc%e3%83%ab" target="_blank"><span class="pocket-color"><abbr title="Share Pocket"><i class="fab fa-get-pocket" aria-hidden="true"></i></abbr></span></a>
		&nbsp;<a href="http://www.facebook.com/share.php?u=https%3a%2f%2ftext.baldanders.info%2ftypst%2f7-function-and-rules%2f" target="_blank"><span class="facebook-color"><abbr title="Share facebook"><i class="fab fa-square-facebook" aria-hidden="true"></i></abbr></span></a>
		&nbsp;<a href="http://twitter.com/share?text=Typst%20%e3%81%ab%e3%81%8a%e3%81%91%e3%82%8b%e9%96%a2%e6%95%b0%e3%81%a8%e3%83%ab%e3%83%bc%e3%83%ab+by+@spiegel_2007&amp;url=https%3a%2f%2ftext.baldanders.info%2ftypst%2f7-function-and-rules%2f" target="_blank"><span class="x-twitter-color"><abbr title="Share Twitter"><i class="fa-brands fa-square-x-twitter" aria-hidden="true"></i></abbr></span></a>
		&nbsp;<a href="https://donshare.net/share.html?text=Typst%20%e3%81%ab%e3%81%8a%e3%81%91%e3%82%8b%e9%96%a2%e6%95%b0%e3%81%a8%e3%83%ab%e3%83%bc%e3%83%ab+by+@spiegel%40goark.fedicity.net%20+https%3a%2f%2ftext.baldanders.info%2ftypst%2f7-function-and-rules%2f" target="_blank"><span class="mastodon-color"><abbr title="Share Mastodon"><i class="fa-brands fa-mastodon" aria-hidden="true"></i></abbr></span></a>
	</div>
</nav>
<nav class="history">History in
  <a href="https://github.com/spiegel-im-spiegel/spiegel-im-spiegel.github.io/commits/master/typst/7-function-and-rules/index.html">GitHub Page</a>
</nav>

<section>
<p>そろそろ
<a href="https://typst.app/" title="Typst: Compose papers faster">Typst</a> の関数とルール設定について，そろそろちゃんと調べようと思って。
本当は「<a href="/typst/x-miscellaneous/">Typst に関する雑多な話</a>」で軽く触れるだけにするつもりだったが，思ったより量があったので記事を立てることにした。</p>
<h2>関数の定義と呼び出し</h2>
<p>まずは一番簡単な関数を考えてみる。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typst" data-lang="typst"><span class="line"><span class="cl"><span class="kd">#let</span><span class="w"> </span><span class="nf">fnc</span><span class="p">(</span><span class="nv">it</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">it</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="err">;</span><span class="w">
</span></span></span></code></pre></div><p>これは引数をそのまま返すだけの関数である。
この関数の引数に <code>&quot;Hello&quot;</code> を渡して呼び出すと</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typst" data-lang="typst"><span class="line"><span class="cl"><span class="nf">#fnc</span><span class="p">(</span><span class="s2">&#34;Hello&#34;</span><span class="p">)</span><span class="w">
</span></span></span></code></pre></div><p>引数の内容がそのまま出力される。</p>
<figure style='margin:0 auto;text-align:center;'><a href="./func-1.png"><img src="./func-1.png" srcset="./func-1.png 647w" sizes="(min-width:600px) 500px, 80vw" alt="関数の定義と呼び出し (1)" loading="lazy"></a><figcaption><div><a href="./func-1.png">関数の定義と呼び出し (1)</a></div></figcaption>
</figure>
<p>引数には（出力可能なものであれば）なんでも渡せる。
数値を入れることもできるし，何なら関数を入れ子にしてもよい。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typst" data-lang="typst"><span class="line"><span class="cl"><span class="nf">#fnc</span><span class="p">(</span><span class="nf">fnc</span><span class="p">(</span><span class="s2">&#34;Hello&#34;</span><span class="p">))</span><span class="w">
</span></span></span></code></pre></div><p>もうひとつ。
<a href="https://typst.app/" title="Typst: Compose papers faster">Typst</a> の関数呼び出しではコンテントブロック（角括弧 <code>[ ... ]</code> で囲まれる領域）を関数呼び出しの後ろに付けることができる。
これをコンテント引数（content argument）と呼ぶ。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typst" data-lang="typst"><span class="line"><span class="cl"><span class="nf">#fnc</span><span class="p">[</span>Hello<span class="p">]</span><span class="w">
</span></span></span></code></pre></div><p>コンテント引数（content argument）は呼び出された側では <a href="https://typst.app/docs/reference/foundations/content/" title="Content Type – Typst Documentation"><code>content</code></a> 型の引数としてセットされる。
つまり <code>#fnc(&quot;Hello&quot;)</code> と <code>#fnc[Hello]</code> は（<a href="https://typst.app/docs/reference/foundations/str/" title="String Type – Typst Documentation"><code>str</code></a> と <a href="https://typst.app/docs/reference/foundations/content/" title="Content Type – Typst Documentation"><code>content</code></a> の型の違い以外は）ほぼ同じ機能である。</p>
<p>ついでの話として，呼び出す側はコンテント引数を複数並べることができる。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typst" data-lang="typst"><span class="line"><span class="cl"><span class="nf">#fnc2</span><span class="p">[</span>Hello<span class="p">][</span>world<span class="p">]</span><span class="w">
</span></span></span></code></pre></div><p>この場合，呼び出される側は以下のように定義する。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typst" data-lang="typst"><span class="line hl"><span class="cl"><span class="kd">#let</span><span class="w"> </span><span class="nf">fnc2</span><span class="p">(..</span><span class="nv">it</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">it</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nf">#fnc2</span><span class="p">[</span>Hello<span class="p">][</span>world<span class="p">]</span><span class="w">
</span></span></span></code></pre></div><p>このときの出力結果は以下の通り。</p>
<figure style='margin:0 auto;text-align:center;'><a href="./func-1b.png"><img src="./func-1b.png" srcset="./func-1b.png 647w" sizes="(min-width:600px) 500px, 80vw" alt="関数の定義と呼び出し (2)" loading="lazy"></a><figcaption><div><a href="./func-1b.png">関数の定義と呼び出し (2)</a></div></figcaption>
</figure>
<p><code>it</code> に <a href="https://typst.app/docs/reference/foundations/arguments/" title="Arguments Type – Typst Documentation"><code>arguments</code></a> 型で受けているのが分かる。
<a href="https://typst.app/docs/reference/foundations/arguments/" title="Arguments Type – Typst Documentation"><code>arguments</code></a> 型は <code>pos</code> メソッドで <a href="https://typst.app/docs/reference/foundations/array/" title="Array Type – Typst Documentation"><code>array</code></a> 型に変換できる。</p>
<h2>名前付き引数</h2>
<p>次は文字列を色付きで出力することを考えてみる。
関数定義は以下の通り。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typst" data-lang="typst"><span class="line"><span class="cl"><span class="kd">#let</span><span class="w"> </span><span class="nf">colorText</span><span class="p">(</span><span class="nv">color</span><span class="p">:</span><span class="w"> </span><span class="nv">red</span><span class="p">,</span><span class="w"> </span><span class="nv">it</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nf">text</span><span class="p">(</span><span class="nv">fill</span><span class="p">:</span><span class="w"> </span><span class="nv">color</span><span class="p">)[</span><span class="nv">#it</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p><code>color: red</code> は名前付き引数（named parameter）と呼ばれる。
名前付き引数には既定値がつく（上述のコードでは <code>red</code> が既定値）。
この関数の呼び出しは以下のように書く。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typst" data-lang="typst"><span class="line"><span class="cl"><span class="nf">#colorText</span><span class="p">[</span>Hello<span class="p">]</span><span class="w"> </span><span class="nf">#colorText</span><span class="p">(</span><span class="nv">color</span><span class="p">:</span><span class="w"> </span><span class="nv">blue</span><span class="p">)[</span>world<span class="p">]</span><span class="w">
</span></span></span></code></pre></div><p>名前付き引数は省略可能で省略した場合は既定値になる。
もちろん</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typst" data-lang="typst"><span class="line"><span class="cl"><span class="nf">#colorText</span><span class="p">(</span><span class="s2">&#34;Hello&#34;</span><span class="p">)</span><span class="w"> </span><span class="nf">#colorText</span><span class="p">(</span><span class="nv">color</span><span class="p">:</span><span class="w"> </span><span class="nv">blue</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;world&#34;</span><span class="p">)</span><span class="w">
</span></span></span></code></pre></div><p>などと書くこともできる。
出力結果は同じで以下の通り：</p>
<figure style='margin:0 auto;text-align:center;'><a href="./color-text-1.png"><img src="./color-text-1.png" srcset="./color-text-1.png 647w" sizes="(min-width:600px) 500px, 80vw" alt="関数の定義と呼び出し (2)" loading="lazy"></a><figcaption><div><a href="./color-text-1.png">関数の定義と呼び出し (2)</a></div></figcaption>
</figure>
<h2>Show ルール</h2>
<p><code>show</code> キーワードを使って指定した対象に対し show ルールを設定できる。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typst" data-lang="typst"><span class="line"><span class="cl"><span class="kd">#let</span><span class="w"> </span><span class="nf">colorText</span><span class="p">(</span><span class="nv">color</span><span class="p">:</span><span class="w"> </span><span class="nv">red</span><span class="p">,</span><span class="w"> </span><span class="nv">it</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nf">text</span><span class="p">(</span><span class="nv">fill</span><span class="p">:</span><span class="w"> </span><span class="nv">color</span><span class="p">)[</span><span class="nv">#it</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">#show</span><span class="w"> </span><span class="nv">heading</span><span class="p">:</span><span class="w"> </span><span class="nv">it</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nf">colorText</span><span class="p">(</span><span class="nv">color</span><span class="p">:</span><span class="w"> </span><span class="nv">blue</span><span class="p">,</span><span class="w"> </span><span class="nv">it</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="gh">
</span></span></span><span class="line"><span class="cl"><span class="gh">= Heading 1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="gh">
</span></span></span><span class="line"><span class="cl"><span class="gh">== Heading 1.1</span><span class="w">
</span></span></span></code></pre></div><p>上のコードの <code>it</code> は <code>show</code> キーワードで指定した対象を無名関数のコンテント引数として渡したもの。
全ての関数で共通に用意されている <code>with</code> メソッドを使うことで以下のようにコンテント引数を省略できる。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typst" data-lang="typst"><span class="line"><span class="cl"><span class="kd">#let</span><span class="w"> </span><span class="nf">colorText</span><span class="p">(</span><span class="nv">color</span><span class="p">:</span><span class="w"> </span><span class="nv">red</span><span class="p">,</span><span class="w"> </span><span class="nv">it</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nf">text</span><span class="p">(</span><span class="nv">fill</span><span class="p">:</span><span class="w"> </span><span class="nv">color</span><span class="p">)[</span><span class="nv">#it</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w"></span><span class="kd">#show</span><span class="w"> </span><span class="nv">heading</span><span class="p">:</span><span class="w"> </span><span class="nv">colorText</span><span class="p">.</span><span class="nf">with</span><span class="p">(</span><span class="nv">color</span><span class="p">:</span><span class="w"> </span><span class="nv">blue</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="gh">
</span></span></span><span class="line"><span class="cl"><span class="gh">= Heading 1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="gh">
</span></span></span><span class="line"><span class="cl"><span class="gh">== Heading 1.1</span><span class="w">
</span></span></span></code></pre></div><p>出力結果はいずれも同じでこんな感じ。</p>
<figure style='margin:0 auto;text-align:center;'><a href="./show-rule-1.png"><img src="./show-rule-1.png" srcset="./show-rule-1.png 647w" sizes="(min-width:600px) 500px, 80vw" alt="Show ルール設定 (1)" loading="lazy"></a><figcaption><div><a href="./show-rule-1.png">Show ルール設定 (1)</a></div></figcaption>
</figure>
<p>Show ルールの対象は（出力可能なものなら）なんでもよくて，たとえば</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typst" data-lang="typst"><span class="line"><span class="cl"><span class="kd">#let</span><span class="w"> </span><span class="nf">colorText</span><span class="p">(</span><span class="nv">color</span><span class="p">:</span><span class="w"> </span><span class="nv">red</span><span class="p">,</span><span class="w"> </span><span class="nv">it</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nf">text</span><span class="p">(</span><span class="nv">fill</span><span class="p">:</span><span class="w"> </span><span class="nv">color</span><span class="p">)[</span><span class="nv">#it</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">#show</span><span class="w"> </span><span class="s2">&#34;Hello&#34;</span><span class="p">:</span><span class="w"> </span><span class="nv">colorText</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>Hello<span class="w"> </span>World<span class="w">
</span></span></span></code></pre></div><p>みたいな記述もできる。
なお，コンテント引数以外に引数がない（または省略できる）場合は，上のように関数名だけを指定できる。</p>
<p>このコードの出力結果は以下の通り：</p>
<figure style='margin:0 auto;text-align:center;'><a href="./show-rule-2.png"><img src="./show-rule-2.png" srcset="./show-rule-2.png 647w" sizes="(min-width:600px) 500px, 80vw" alt="Show ルール設定 (2)" loading="lazy"></a><figcaption><div><a href="./show-rule-2.png">Show ルール設定 (2)</a></div></figcaption>
</figure>
<p>Show ルールの対象には <a href="https://typst.app/docs/reference/foundations/selector/" title="Selector Type – Typst Documentation"><code>selector</code></a> も指定できる。
たとえば <code>where</code> メソッドを使って以下のように記述できる。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typst" data-lang="typst"><span class="line"><span class="cl"><span class="kd">#let</span><span class="w"> </span><span class="nf">colorText</span><span class="p">(</span><span class="nv">color</span><span class="p">:</span><span class="w"> </span><span class="nv">red</span><span class="p">,</span><span class="w"> </span><span class="nv">it</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nf">text</span><span class="p">(</span><span class="nv">fill</span><span class="p">:</span><span class="w"> </span><span class="nv">color</span><span class="p">)[</span><span class="nv">#it</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w"></span><span class="kd">#show</span><span class="w"> </span><span class="nv">heading</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="nv">level</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">).</span><span class="ow">or</span><span class="p">(</span><span class="nv">heading</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="nv">level</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">)):</span><span class="w"> </span><span class="nv">colorText</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="gh">
</span></span></span><span class="line"><span class="cl"><span class="gh">= Heading 1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="gh">
</span></span></span><span class="line"><span class="cl"><span class="gh">== Heading 1.1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="gh">
</span></span></span><span class="line"><span class="cl"><span class="gh">=== Heading 1.1.1</span><span class="w">
</span></span></span></code></pre></div><p>出力結果は以下の通り：</p>
<figure style='margin:0 auto;text-align:center;'><a href="./show-rule-3.png"><img src="./show-rule-3.png" srcset="./show-rule-3.png 647w" sizes="(min-width:600px) 500px, 80vw" alt="Show ルール設定 (3)" loading="lazy"></a><figcaption><div><a href="./show-rule-3.png">Show ルール設定 (3)</a></div></figcaption>
</figure>
<p>Show ルールの対象がない場合，文書全体が対象となる。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typst" data-lang="typst"><span class="line"><span class="cl"><span class="kd">#let</span><span class="w"> </span><span class="nf">colorText</span><span class="p">(</span><span class="nv">color</span><span class="p">:</span><span class="w"> </span><span class="nv">red</span><span class="p">,</span><span class="w"> </span><span class="nv">it</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nf">text</span><span class="p">(</span><span class="nv">fill</span><span class="p">:</span><span class="w"> </span><span class="nv">color</span><span class="p">)[</span><span class="nv">#it</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w"></span><span class="kd">#show</span><span class="p">:</span><span class="w"> </span><span class="nv">colorText</span><span class="p">.</span><span class="nf">with</span><span class="p">(</span><span class="nv">color</span><span class="p">:</span><span class="w"> </span><span class="nv">blue</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nf">#lorem</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span><span class="w">
</span></span></span></code></pre></div><p>ちなみに <a href="https://typst.app/docs/reference/text/lorem/" title="Lorem Function – Typst Documentation"><code>lorem</code></a> は指定した単語数のランダムな文章（欧文<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>）を生成する関数である。</p>
<p>出力結果は以下の通り：</p>
<figure style='margin:0 auto;text-align:center;'><a href="./show-rule-4.png"><img src="./show-rule-4.png" srcset="./show-rule-4.png 647w" sizes="(min-width:600px) 500px, 80vw" alt="Show ルール設定 (4)" loading="lazy"></a><figcaption><div><a href="./show-rule-4.png">Show ルール設定 (4)</a></div></figcaption>
</figure>
<h3>Show ルールは逐次処理されるのか</h3>
<p>Show ルールがどのように効いてくるか試してみた。</p>
<p>まずはこれ。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typst" data-lang="typst"><span class="line"><span class="cl"><span class="kd">#let</span><span class="w"> </span><span class="nf">colorText</span><span class="p">(</span><span class="nv">color</span><span class="p">:</span><span class="w"> </span><span class="nv">red</span><span class="p">,</span><span class="w"> </span><span class="nv">it</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nf">text</span><span class="p">(</span><span class="nv">fill</span><span class="p">:</span><span class="w"> </span><span class="nv">color</span><span class="p">)[</span><span class="nv">#it</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="gh">
</span></span></span><span class="line"><span class="cl"><span class="gh">= Heading 1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="gh">
</span></span></span><span class="line"><span class="cl"><span class="gh">== Heading 1.1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">#show</span><span class="w"> </span><span class="nv">heading</span><span class="p">:</span><span class="w"> </span><span class="nv">colorText</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="gh">
</span></span></span><span class="line"><span class="cl"><span class="gh">= Heading 2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="gh">
</span></span></span><span class="line"><span class="cl"><span class="gh">== Heading 2.1</span><span class="w">
</span></span></span></code></pre></div><p>出力結果は以下の通り：</p>
<figure style='margin:0 auto;text-align:center;'><a href="./show-rule-1b.png"><img src="./show-rule-1b.png" srcset="./show-rule-1b.png 647w" sizes="(min-width:600px) 500px, 80vw" alt="Show ルール設定 (1b)" loading="lazy"></a><figcaption><div><a href="./show-rule-1b.png">Show ルール設定 (1b)</a></div></figcaption>
</figure>
<p>まぁ，これは予想通り。</p>
<p>次はこれ。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typst" data-lang="typst"><span class="line"><span class="cl"><span class="kd">#let</span><span class="w"> </span><span class="nf">colorText</span><span class="p">(</span><span class="nv">color</span><span class="p">:</span><span class="w"> </span><span class="nv">red</span><span class="p">,</span><span class="w"> </span><span class="nv">it</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nf">text</span><span class="p">(</span><span class="nv">fill</span><span class="p">:</span><span class="w"> </span><span class="nv">color</span><span class="p">)[</span><span class="nv">#it</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="gh">
</span></span></span><span class="line"><span class="cl"><span class="gh">= Heading 1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="gh">
</span></span></span><span class="line"><span class="cl"><span class="gh">== Heading 1.1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">#show</span><span class="w"> </span><span class="nv">heading</span><span class="p">:</span><span class="w"> </span><span class="nv">colorText</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="gh">
</span></span></span><span class="line"><span class="cl"><span class="gh">= Heading 2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="gh">
</span></span></span><span class="line"><span class="cl"><span class="gh">== Heading 2.1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">#show</span><span class="w"> </span><span class="nv">heading</span><span class="p">:</span><span class="w"> </span><span class="nv">it</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nf">colorText</span><span class="p">(</span><span class="nv">color</span><span class="p">:</span><span class="w"> </span><span class="nv">blue</span><span class="p">,</span><span class="w"> </span><span class="nv">it</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="gh">
</span></span></span><span class="line"><span class="cl"><span class="gh">= Heading 3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="gh">
</span></span></span><span class="line"><span class="cl"><span class="gh">== Heading 3.1</span><span class="w">
</span></span></span></code></pre></div><p>希望としては 黒 → 赤 → 青 の順で変わってほしいのだが&hellip;</p>
<figure style='margin:0 auto;text-align:center;'><a href="./show-rule-1c.png"><img src="./show-rule-1c.png" srcset="./show-rule-1c.png 647w" sizes="(min-width:600px) 500px, 80vw" alt="Show ルール設定 (1c)" loading="lazy"></a><figcaption><div><a href="./show-rule-1c.png">Show ルール設定 (1c)</a></div></figcaption>
</figure>
<p>んー。
ひょっとして show ルールって遡って適用されるのだろうか。
外部パッケージを <code>import</code> したときに show ルールが衝突したら面倒なことになりそう。</p>
<p>Show ルールの設計はちょっと気をつけないといけないかもしれない。</p>
<h2>Set ルール</h2>
<p><a href="https://typst.app/docs/reference/text/text/" title="Text Function – Typst Documentation"><code>text</code></a> や <a href="https://typst.app/docs/reference/visualize/image/" title="Image Function – Typst Documentation"><code>image</code></a> あるいは <a href="https://typst.app/docs/reference/model/heading/" title="Heading Function – Typst Documentation"><code>heading</code></a> や <a href="https://typst.app/docs/reference/model/par/" title="Paragraph Function – Typst Documentation"><code>par</code></a> などドキュメント要素に紐づく組込み関数は「要素関数（element function）」と言うそうな。
要素関数は <code>set</code> キーワードを使い set ルールで名前付き引数の既定値を変更することができる。</p>
<figure lang="en">
<blockquote cite="https://typst.app/docs/reference/foundations/function/#element-functions">Some functions are associated with elements like <a href="https://typst.app/docs/reference/model/heading/">headings</a> or <a href="https://typst.app/docs/reference/model/table/">tables</a>. When called, these create an element of their respective kind. In contrast to normal functions, they can further be used in <a href="https://typst.app/docs/reference/styling/#set-rules">set rules</a>, <a href="https://typst.app/docs/reference/styling/#show-rules">show rules</a>, and <a href="https://typst.app/docs/reference/foundations/selector/">selectors</a>.</blockquote>
<figcaption><div>via <q><a href="https://typst.app/docs/reference/foundations/function/#element-functions">Function Type – Typst Documentation</a></q></div></figcaption>
</figure>
<p>ドキュメントのルートで set ルールを指定すると，逐次処理で指定位置以降に適用される。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typst" data-lang="typst"><span class="line"><span class="cl"><span class="kd">#set</span><span class="w"> </span><span class="nf">text</span><span class="p">(</span><span class="nv">font</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;Noto Serif CJK JP&#34;</span><span class="p">,</span><span class="w"> </span><span class="nv">lang</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;ja&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>明朝体<span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">#set</span><span class="w"> </span><span class="nf">text</span><span class="p">(</span><span class="nv">font</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;Noto Sans CJK JP&#34;</span><span class="p">,</span><span class="w"> </span><span class="nv">lang</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;ja&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>ゴシック体<span class="w">
</span></span></span></code></pre></div><p>出力結果は以下の通り：</p>
<figure style='margin:0 auto;text-align:center;'><a href="./set-rule-1.png"><img src="./set-rule-1.png" srcset="./set-rule-1.png 647w" sizes="(min-width:600px) 500px, 80vw" alt="Set ルール設定 (1)" loading="lazy"></a><figcaption><div><a href="./set-rule-1.png">Set ルール設定 (1)</a></div></figcaption>
</figure>
<p>Show ルールの中で set ルールを指定した場合，その show ルールの中でのみ set ルールが適用される。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typst" data-lang="typst"><span class="line"><span class="cl"><span class="kd">#set</span><span class="w"> </span><span class="nf">text</span><span class="p">(</span><span class="nv">font</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;Noto Serif CJK JP&#34;</span><span class="p">,</span><span class="w"> </span><span class="nv">lang</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;ja&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">#show</span><span class="w"> </span><span class="nv">heading</span><span class="p">:</span><span class="w"> </span><span class="nv">it</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">set</span><span class="w"> </span><span class="nf">text</span><span class="p">(</span><span class="nv">font</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;Noto Sans CJK JP&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">it</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="gh">
</span></span></span><span class="line"><span class="cl"><span class="gh">= ゴシック体</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>明朝体<span class="w">
</span></span></span></code></pre></div><p><code>set</code> キーワードのみの記述ならコンテント引数を省略して</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typst" data-lang="typst"><span class="line"><span class="cl"><span class="kd">#set</span><span class="w"> </span><span class="nf">text</span><span class="p">(</span><span class="nv">font</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;Noto Serif CJK JP&#34;</span><span class="p">,</span><span class="w"> </span><span class="nv">lang</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;ja&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w"></span><span class="kd">#show</span><span class="w"> </span><span class="nv">heading</span><span class="p">:</span><span class="w"> </span><span class="kd">set</span><span class="w"> </span><span class="nf">text</span><span class="p">(</span><span class="nv">font</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;Noto Sans CJK JP&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="gh">
</span></span></span><span class="line"><span class="cl"><span class="gh">= ゴシック体</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>明朝体<span class="w">
</span></span></span></code></pre></div><p>などと記述することもできる。</p>
<p>出力結果はいずれも同じでこんな感じ。</p>
<figure style='margin:0 auto;text-align:center;'><a href="./set-rule-2.png"><img src="./set-rule-2.png" srcset="./set-rule-2.png 647w" sizes="(min-width:600px) 500px, 80vw" alt="Set ルール設定 (2)" loading="lazy"></a><figcaption><div><a href="./set-rule-2.png">Set ルール設定 (2)</a></div></figcaption>
</figure>
<p>なお <code>let</code> キーワードで定義したユーザ関数は要素関数ではないので <strong>set ルールは使えない</strong>。</p>
<h2>文書ファイルを分割した際のルール設定</h2>
<p>文書ファイルを分割して <a href="https://typst.app/docs/reference/scripting/#modules" title="Scripting – Typst Documentation"><code>import</code> や <code>include</code></a> で読み込む場合，子ドキュメントで設定した set および show ルールは親ドキュメントには適用されないので注意（親ドキュメントから子ドキュメントへはルールが継承される）。
子ドキュメントで記述した set および show ルールを親ドキュメントに適用させるには（<a href="https://typst.app/docs/tutorial/making-a-template/" title="Making a Template – Typst Documentation">テンプレート</a>で使う手法）ルールを記述した関数を <a href="https://typst.app/docs/reference/scripting/#modules" title="Scripting – Typst Documentation"><code>import</code></a> で読み込み，親ドキュメントの show ルールを使って関数を呼び出す。</p>
<figure style='margin:0 auto;text-align:center;'><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typst" data-lang="typst"><span class="line"><span class="cl"><span class="kd">#let</span><span class="w"> </span><span class="nf">initFonts</span><span class="p">(</span><span class="nv">font-name</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;New Computer Modern&#34;</span><span class="p">,</span><span class="w"> </span><span class="nv">body</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="kd">set</span><span class="w"> </span><span class="nf">text</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">lang</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;ja&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">font</span><span class="p">:</span><span class="w"> </span><span class="nv">font-name</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nv">size</span><span class="p">:</span><span class="w"> </span><span class="m">10</span><span class="kr">pt</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">body</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div>
<figcaption><div>子ドキュメント</div></figcaption>
</figure>
<figure style='margin:0 auto;text-align:center;'><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typst" data-lang="typst"><span class="line"><span class="cl"><span class="kn">#import</span><span class="w"> </span><span class="s2">&#34;child.typ&#34;</span><span class="p">:</span><span class="w"> </span><span class="nv">initFonts</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">#show</span><span class="p">:</span><span class="w"> </span><span class="nv">it</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nf">initFonts</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">font-name</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;Noto Sans CJK JP&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nv">it</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>こんにちわ、世界！<span class="w">
</span></span></span></code></pre></div>
<figcaption><div>親ドキュメント (1)</div></figcaption>
</figure>
<p>または <code>with</code> メソッドを使って</p>
<figure style='margin:0 auto;text-align:center;'><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typst" data-lang="typst"><span class="line"><span class="cl"><span class="kn">#import</span><span class="w"> </span><span class="s2">&#34;child.typ&#34;</span><span class="p">:</span><span class="w"> </span><span class="nv">initFonts</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w"></span><span class="kd">#show</span><span class="p">:</span><span class="w"> </span><span class="nv">initFonts</span><span class="p">.</span><span class="nf">with</span><span class="p">(</span><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">  </span><span class="nv">font-name</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;Noto Sans CJK JP&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w"></span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>こんにちわ、世界！<span class="w">
</span></span></span></code></pre></div>
<figcaption><div>親ドキュメント (2)</div></figcaption>
</figure>
<p>などとコンテント引数を省略できる。</p>
<h2>ブックマーク</h2>
<p>ブックマークは「<a href="/typst/0-bookmark/">Typst に関するブックマーク</a>」にてまとめています。</p>
<h2>参考文献</h2>
<div class="hreview">
  <div class="photo"><a href="https://www.amazon.co.jp/dp/B0DPXBNTRS?tag=baldandersinf-22&amp;linkCode=ogi&amp;th=1&amp;psc=1"><img src="https://m.media-amazon.com/images/I/51B7ollzNML._SL160_.jpg" width="100" alt="photo"></a></div>
  <dl>
    <dt class="item"><a class="fn url" href="https://www.amazon.co.jp/dp/B0DPXBNTRS?tag=baldandersinf-22&amp;linkCode=ogi&amp;th=1&amp;psc=1">Typst完全入門: LaTeXより簡単、Markdownより強力、美しいドキュメント作成術</a></dt>
    <dd>doitsu (著)</dd>
    <dd> 2024-12-08 (Release 2024-12-08)</dd>
    <dd>Kindle版</dd>
    <dd>B0DPXBNTRS (ASIN)</dd>
    <dd>評価<abbr class="rating fa-sm" title="3">&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="fas fa-star"></i>&nbsp;<i class="far fa-star"></i>&nbsp;<i class="far fa-star"></i></abbr></dd>
  </dl>
  <p class="description">マークアップ言語および組版ツールである Typst についての解説。 Kindle 版のみの提供。固定レイアウトではないためレイアウトが崩れまくって読みにくい。この手の技術解説書は固定レイアウトの Kindle 版か，いっそ PDF で出してほしい。でも Typst についてまとまった解説のある日本語の本は他に見当たらなかったのでありがたい。</p>
  <p class="powered-by">reviewed by <a href='#maker' class='reviewer'>Spiegel</a> on <abbr class="dtreviewed" title="2025-02-20">2025-02-20</abbr> (powered by <a href="https://affiliate.amazon.co.jp/assoc_credentials/home">PA-APIv5</a>)</p>
</div> <!-- Typst完全入門-->
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>日本語の文を生成する <a href="https://zenn.dev/mkpoli/articles/7e54c1c780ff43" title="Typstの日本語Lipsumパッケージを作ってみた件"><code>roremu</code> パッケージ</a>を公開されている方もいる。感謝！&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

</section>

</article>
</main>
<nav class="page-nav">
<div class="prev-page">&laquo; <a href="/typst/x-miscellaneous/">Typst に関する雑多な話</a></div>
<div class="next-page"></div>
</nav>

<aside class="feedback" id='feedback'>
<h1>Feedback</h1>
<p>GitHub に<a href="https://github.com/spiegel-im-spiegel/github-pages-env/discussions">フィードバック用のディスカッションページ</a>を用意しました。
書き込みには GitHub のアカウントが必要ですが，お気軽にご利用ください。</p>
<p>他のフィードバック手段として Mastodon などの SNS や電子メールも利用できます。電子メールを利用する際の公開鍵は<a href="https://baldanders.info/profile/">プロフィール</a>から取得できます。</p>
</aside>
<footer>


<div class="userinfo">
	<div class="userinfo-avater">
		<a href="https://baldanders.info/profile/"><img src="https://text.baldanders.info/images/avatar.jpg" width="48" height="48" alt="avatar" id="logo"></a>
	</div>
	<div class="userinfo-info" id="maker">
		Text by <a href="https://baldanders.info/profile/" rel="cc:attributionURL" property="cc:attributionName">Spiegel</a>
		in <time property='dc:dateCopyrighted'>2025-03-07</time>
		<a rel='cc:license' href="https://creativecommons.org/licenses/by-sa/4.0/"><i class="fab fa-creative-commons"></i>&nbsp;<i class="fab fa-creative-commons-by"></i>&nbsp;<i class="fab fa-creative-commons-sa"></i></a>
		<ul class="social"><li><a rel="me" href="https://github.com/spiegel-im-spiegel"><span class="github-color"><abbr title="GitHub"><i class="fab fa-github"></i></abbr></span></a></li><li><a rel="me" href="https://www.flickr.com/photos/spiegel/"><span class="flickr-color"><abbr title="Flickr"><i class="fab fa-flickr"></i></abbr></span></a></li><li><a rel="me" href="https://goark.fedicity.net/@spiegel"><span class="mastodon-color"><abbr title="Mastodon"><i class="fa-brands fa-mastodon"></i></abbr></span></a></li><li><a rel="me" href="https://bsky.app/profile/baldanders.info"><span class="bluesky-color"><abbr title="Bluesky"><i class="fa-brands fa-bluesky"></i></abbr></span></a></li><li><a rel="me" href="https://www.strava.com/athletes/122077389"><span class="strava-color"><abbr title="Strava"><i class="fa-brands fa-strava"></i></abbr></span></a></li><li><a rel="me" href="https://x.com/spiegel_2007"><span class="x-twitter-color"><abbr title="X (Twitter)"><i class="fab fa-x-twitter"></i></abbr></span></a></li></ul>
	</div>
</div>

<nav>
<ul class='cloud center'>
<li><a href='/about-feeds/'>Feeds</a></li>
<li><a href='/reviews/'>Reviews</a></li>
<li><a href='/site-policy/'>Policy</a></li>
<li><a href='https://github.com/spiegel-im-spiegel/spiegel-im-spiegel.github.io'>Repository</a></li>
<li><a href='https://validator.w3.org/nu/?doc=https%3a%2f%2ftext.baldanders.info%2ftypst%2f7-function-and-rules%2f&amp;showoutline=yes'>Debug</a></li>
</ul>
<ul class='cloud center'>
<li><a href='https://baldanders.info/'>Home</a></li>
<li><a href='https://photo.baldanders.info/'>Photos</a></li>
<li><a href='https://slide.baldanders.info/'>Slide</a></li>
<li><a href='https://zenn.dev/spiegel'>Zenn</a></li>
</ul>
<ul class='cloud center'>
<li>Powered by <a href='https://gohugo.io/'>Hugo 0.152.0</a> and <a href="https://github.com/spiegel-im-spiegel/hugo-theme-baldanders-info
">Theme of Baldanders.info</a>.</li>
</ul>
</nav>
</footer>
</div>

</body>
</html>
