<!DOCTYPE html>
<html lang="ja">
<head prefix="og: http://ogp.me/ns#">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Hugo 0.30.2" />
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel='stylesheet' href='//fonts.googleapis.com/css?family=Noto+Serif%7cNoto+Sans%3a400,700%7cInconsolata%3a400,700' type='text/css'>
<link rel='stylesheet' href='//fonts.googleapis.com/earlyaccess/notosansjp.css' type='text/css'>
<link rel='stylesheet' href='//fonts.googleapis.com/earlyaccess/sawarabimincho.css' type='text/css'>
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/cc-icons/1.2.1/css/cc-icons.min.css">
<link rel="stylesheet" href="/css/main.css">
<link rel="stylesheet" href="/css/text-baldanders.css"><link rel="alternate" href="http://text.baldanders.info/index.xml" type="application/rss+xml" title="text.Baldanders.info">
<meta name="google-site-verification" content="jTjBCslPtf8gwVatiY-GDgGv7pV5csa8aUOw1MRPUD4">
<link rel="stylesheet" href="/css/addon.css">
<link rel="stylesheet" href="/css/chroma-styles.css">
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
	displayAlign: "left",
	displayIndent: "2em",
	tex2jax: {
		inlineMath: [['$','$'], ['\\(','\\)']],
		processEscapes: true
	},
	TeX: {
		equationNumbers: { autoNumber: "AMS" },
	    extensions: ["mhchem.js"],
		Macros: {
			ssqrt: ['\\sqrt{\\smash[b]{\\mathstrut #1}}', 1]
		}
	},
	CommonHTML: {
		matchFontHeight: false
	},
	"HTML-CSS": {
		availableFonts: ["STIX"],
	    preferredFont: "STIX",
		webFont: "STIX-Web",
		matchFontHeight: false,
	    mtextFontInherit: true
	}
});
</script>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS_HTML&amp;locale=ja"></script>
<link rel="canonical" href="http://text.baldanders.info/remark/2016/05/open-source-license-api/">
<title>Open Source License API ? — しっぽのさきっちょ | text.Baldanders.info</title>
<meta property="og:title" content="Open Source License API ? — しっぽのさきっちょ | text.Baldanders.info">
<meta name="description" content="どうやらオープンソース・ライセンスに関する情報（メタデータ）を取り出せる仕組みのようだ。">
<meta property="og:description" content="どうやらオープンソース・ライセンスに関する情報（メタデータ）を取り出せる仕組みのようだ。">
<meta property="og:image" content="http://text.baldanders.info/images/attention/remark.jpg">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@spiegel_2007">
<meta name="twitter:creator" content="@spiegel_2007">
<meta name="author" content="Spiegel">
<meta name="keywords" content="license,tools">
<link rel='prev' href='http://text.baldanders.info/remark/2016/05/28-stories/' title='週末スペシャル： Barack Obama 米国大統領の来広' />
<link rel='next' href='http://text.baldanders.info/remark/2016/06/code-by-hardware-engineer/' title='ハード屋が書く C ソースコードが凄まじかった思い出（再掲載）' />
</head>
<body>

<div id='container'>
<header>
<div id="sitetitle"><a href="http://text.baldanders.info/">text.Baldanders.info</a> <a href='/index.xml' title='Feed'><i class='fa fa-rss'></i></a></div>
<p>帰ってきた「しっぽのさきっちょ」</p>
</header>


<main>
<article itemscope itemtype='http://schema.org/BlogPosting' itemref='maker'>
<div><strong><a href="/remark">しっぽのさきっちょ</a>: 2016-05-30 付</strong></div>
<h1 itemprop='name'>Open Source License API ?</h1>
<nav class="tags">
<div><a href="/tags">Tags</a>: #<a href="/tags/license">license</a> #<a href="/tags/tools">tools</a></div>
<div><a href="https://github.com/spiegel-im-spiegel/spiegel-im-spiegel.github.io/commits/master/remark/2016/05/open-source-license-api/index.html">History</a></div>
</nav>

<section><div>
<div style="float:right;margin-left:0.5rem;margin-bottom:0.5rem;padding-left:0.5rem;padding-bottom:0.5rem;">
<a href="http://www.baldanders.info/spiegel/log2/000820.shtml" title="Stop Fast Track TPP — Baldanders.info"><img src="http://www.baldanders.info/images/noextension.png" alt="no extension" width="165" height="50" /></a>
</div>
<p><a href="http://d.hatena.ne.jp/yomoyomo/20160529/ossapi">yomoyomo さんの記事</a>から。</p>

<ul>
<li><a href="https://opensource.org/node/822">Announcing the Open Source License API | Open Source Initiative</a></li>
<li><a href="https://github.com/OpenSourceOrg/api">OpenSourceOrg/api: Light API based on the licenses spec</a></li>
</ul>

<p>う～ん？ どうやらオープンソース・ライセンスに関する情報（メタデータ）を取り出せる仕組みのようだ。</p>

<p>たとえば Apache License 2.0 の情報を取り出すには <a href="https://api.opensource.org/license/Apache-2.0">https://api.opensource.org/license/Apache-2.0</a> にリクエストを投げる。
すると結果が JSON 形式で返ってくる。
（以下は見やすいように適当に改行を入れている。
各項目の Schema はリポジトリの <a href="https://github.com/OpenSourceOrg/api/blob/master/doc/endpoints.md">doc/endpoints.md</a> に説明がある）</p>
<div class="highlight"><pre class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
    <span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="s2">&#34;Apache-2.0&#34;</span><span class="p">,</span>
    <span class="nt">&#34;identifiers&#34;</span><span class="p">:</span>
        <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&#34;identifier&#34;</span><span class="p">:</span><span class="s2">&#34;Apache-2.0&#34;</span><span class="p">,</span>
                <span class="nt">&#34;scheme&#34;</span><span class="p">:</span><span class="s2">&#34;DEP5&#34;</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&#34;identifier&#34;</span><span class="p">:</span><span class="s2">&#34;Apache-2.0&#34;</span><span class="p">,</span>
                <span class="nt">&#34;scheme&#34;</span><span class="p">:</span><span class="s2">&#34;SPDX&#34;</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&#34;identifier&#34;</span><span class="p">:</span><span class="s2">&#34;License :: OSI Approved :: Apache Software License&#34;</span><span class="p">,</span>
                <span class="nt">&#34;scheme&#34;</span><span class="p">:</span><span class="s2">&#34;Trove&#34;</span>
            <span class="p">}</span>
        <span class="p">],</span>
    <span class="nt">&#34;links&#34;</span><span class="p">:</span>
        <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&#34;note&#34;</span><span class="p">:</span><span class="s2">&#34;tl;dr legal&#34;</span><span class="p">,</span>
                <span class="nt">&#34;url&#34;</span><span class="p">:</span><span class="s2">&#34;https://tldrlegal.com/license/apache-license-2.0-%28apache-2.0%29&#34;</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&#34;note&#34;</span><span class="p">:</span><span class="s2">&#34;Wikipedia page&#34;</span><span class="p">,</span>
                <span class="nt">&#34;url&#34;</span><span class="p">:</span><span class="s2">&#34;https://en.wikipedia.org/wiki/Apache_License&#34;</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&#34;note&#34;</span><span class="p">:</span><span class="s2">&#34;OSI Page&#34;</span><span class="p">,</span>
                <span class="nt">&#34;url&#34;</span><span class="p">:</span><span class="s2">&#34;https://opensource.org/licenses/Apache-2.0&#34;</span>
            <span class="p">}</span>
        <span class="p">],</span>
    <span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;Apache License, Version 2.0&#34;</span><span class="p">,</span>
    <span class="nt">&#34;other_names&#34;</span><span class="p">:[],</span>
    <span class="nt">&#34;superseded_by&#34;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
    <span class="nt">&#34;keywords&#34;</span><span class="p">:</span>
        <span class="p">[</span>
            <span class="s2">&#34;osi-approved&#34;</span><span class="p">,</span>
            <span class="s2">&#34;popular&#34;</span><span class="p">,</span>
            <span class="s2">&#34;permissive&#34;</span>
        <span class="p">],</span>
    <span class="nt">&#34;text&#34;</span><span class="p">:</span>
        <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&#34;media_type&#34;</span><span class="p">:</span><span class="s2">&#34;text/html&#34;</span><span class="p">,</span>
                <span class="nt">&#34;title&#34;</span><span class="p">:</span><span class="s2">&#34;HTML&#34;</span><span class="p">,</span>
                <span class="nt">&#34;url&#34;</span><span class="p">:</span><span class="s2">&#34;https://www.apache.org/licenses/LICENSE-2.0&#34;</span>
            <span class="p">}</span>
        <span class="p">]</span>
<span class="p">}</span></code></pre></div>
<p>あるいは <a href="https://spdx.org/" title="SPDX | Software Package Data Exchange">SPDX</a> の識別子を使って <a href="https://api.opensource.org/license/SPDX/Apache-2.0">https://api.opensource.org/license/SPDX/Apache-2.0</a> にリクエストを投げても同じ結果が帰ってくる。</p>

<p>キーワードで検索することもできるようだ。
たとえば Copyleft なライセンスを探すのであれば <a href="https://api.opensource.org/licenses/copyleft">https://api.opensource.org/licenses/copyleft</a> とリクエストを投げれば，先程のようなライセンス情報が配列で返ってくる。
ちなみに licenses/ のうしろに何もキーワードを付けないと<a href="https://github.com/OpenSourceOrg/licenses" title="OpenSourceOrg/licenses: machine readable OSI license information">登録されている全ライセンス</a>の情報<sup class="footnote-ref" id="fnref:0"><a rel="footnote" href="#fn:0">1</a></sup> が返ってくるようだ。</p>

<p><a href="https://github.com/OpenSourceOrg/api" title="OpenSourceOrg/api: Light API based on the licenses spec">リポジトリ</a>を見ると <a href="https://golang.org/" title="The Go Programming Language">Go 言語</a>による実装がある<sup class="footnote-ref" id="fnref:a"><a rel="footnote" href="#fn:a">2</a></sup>。
こんな感じで使える。</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">&#34;fmt&#34;</span>

    <span class="s">&#34;github.com/opensourceorg/api/client&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nx">ohshit</span><span class="p">(</span><span class="nx">err</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">license</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">Get</span><span class="p">(</span><span class="s">&#34;Apache-2.0&#34;</span><span class="p">)</span>
    <span class="nx">ohshit</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&#34;%s\n&#34;</span><span class="p">,</span> <span class="nx">license</span><span class="p">.</span><span class="nx">Name</span><span class="p">)</span>
<span class="p">}</span></code></pre></div>
<p>これを実行すると以下のような出力になる。</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">$ go run sample.go
Apache License, Version 2.0</code></pre></div>
<p>キーワードで探すならこんな感じかな。</p>
<div class="highlight"><pre class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">&#34;fmt&#34;</span>

    <span class="s">&#34;github.com/opensourceorg/api/client&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nx">ohshit</span><span class="p">(</span><span class="nx">err</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">licenses</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">Tagged</span><span class="p">(</span><span class="s">&#34;copyleft&#34;</span><span class="p">)</span>
    <span class="nx">ohshit</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
    <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">license</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">licenses</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&#34;%s\n&#34;</span><span class="p">,</span> <span class="nx">license</span><span class="p">.</span><span class="nx">Name</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></div>
<p>このコードの実行結果は以下のとおり。</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">$ go run sample2.go
GNU General Public License, Version 2.0
GNU General Public License, Version 3.0
GNU Lesser General Public License, Version 2.1
GNU Lesser General Public License, Version 3.0
Licence Libre du Québec – Réciprocité forte, Version 1.1
Licence Libre du Québec – Réciprocité, Version 1.1
Mozilla Public License, Version 2.0</code></pre></div>
<p>う～ん。
正直に言って，既に <a href="https://spdx.org/" title="SPDX | Software Package Data Exchange">SPDX</a> のようなサービスがあるのに，わざわざこのような仕組みを作る意味がよく分からない。</p>

<figure lang="en">
<blockquote>
<q>The concept behind this API is to be a "hub" to store a central list of crosswalks and common identifiers to other services, allowing third parties who are already license-aware to provide their mappings, and pull OSI approval status programatically. As a proof of concept, SPDX identifiers have been added, trivially allowing cross-walks to SPDX datasets. This allows anyone to take an SPDX license ID, and determine if it's OSI approved by asking the OSI API.</q>
</blockquote>
<figcaption>via <q><a href="https://opensource.org/node/822">Announcing the Open Source License API</a></q></figcaption>
</figure>

<p>OSI がやることに意味があるということだろうか。
あるいは <a href="http://www.baldanders.info/spiegel/log2/000861.shtml" title="Google vs Oracle の訴訟の行方 — Baldanders.info">API に著作権があるとされた昨年の判決</a>を受けての防衛措置だったりして。</p>
<div class="footnotes">

<hr />

<ol>
<li id="fn:0">ライセンス・データおよび API は CC0 で提供されているようである。 API を利用するなら金よこせとか言うどこぞの企業とは違うらしい（笑）
 <a class="footnote-return" href="#fnref:0"><sup>[return]</sup></a></li>
<li id="fn:a">他にも <a href="https://github.com/opensourceorg/python-opensource" title="OpenSourceOrg/python-opensource: Python bindings to the Open Source License API">Python</a>, <a href="https://github.com/opensourceorg/ruby-opensourceapi" title="OpenSourceOrg/ruby-opensourceapi: Ruby API Bindings to the OSI License API">Ruby</a>, <a href="https://github.com/OpenSourceOrg/haskell-opensource" title="OpenSourceOrg/haskell-opensource: Haskell API Bindings to the Open Source License API">Haskell</a> による実装がある。
 <a class="footnote-return" href="#fnref:a"><sup>[return]</sup></a></li>
</ol>
</div>

</div></section>

</article>
</main>
<nav class="page-nav">
<div class="prev-page">&laquo; <a href="/remark/2016/05/28-stories/">週末スペシャル： Barack Obama 米国大統領の来広</a></div>
<div class="next-page"><a href="/remark/2016/06/code-by-hardware-engineer/">ハード屋が書く C ソースコードが凄まじかった思い出（再掲載）</a> &raquo;</div>
</nav>

<aside id='tech-terms'>
<style>
#tech-terms h1 {
  border: solid thin gray;
  margin: 0 0 1rem 0;
  padding: 0 0.5rem 2px 2px;
}
</style>
<h1>Technical Terms</h1>
<div class="cloud" style="font-size:smaller;">
<script src="http://e-words.jp/embed.x?e=utf8"></script>
<p class="right">Powered by <a href="http://e-words.jp/p/s-embed.html">e-Words</a></p>
</div>
</aside>
<aside id='feedback'>
<style>
#feedback h1 {
  border: solid thin gray;
  margin: 0 0 1rem 0;
  padding: 0 0.5rem 2px 2px;
}
</style>
<h1>Feedback</h1>
<div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "textbaldandersinfo" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</aside>
<footer>

	<div class="userinfo">
		<div class="userinfo-avater">
			
				<a href="http://www.baldanders.info/spiegel/profile/"><img src="/images/avatar.jpg" width="48" height="48" alt="avatar"></a>
			
		</div>
		<div class="userinfo-info" id="maker" itemprop='author' itemscope itemtype='http://schema.org/Person'>
			
				Written by <a href="http://www.baldanders.info/spiegel/profile/" rel="cc:attributionURL" property="cc:attributionName" itemprop='name'>Spiegel</a> in <time property='dc:dateCopyrighted'>2016-05-30</time>.
				
	<a rel='cc:license' href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank"><i class="cc cc-cc"></i>&nbsp;<i class="cc cc-by"></i>&nbsp;<i class="cc cc-sa"></i></a>

			
			
	<ul class="social">
		<li><a href="https://github.com/spiegel-im-spiegel" target="_blank"><i class="fa fa-github"></i></a></li>
		<li><a href="https://twitter.com/spiegel_2007" target="_blank"><i class="fa fa-twitter"></i></a></li>
		
		<li><a href="http://spiegel-im-spiegel.tumblr.com/" target="_blank"><i class="fa fa-tumblr"></i></a></li>
		<li><a href="http://instagram.com/spiegel_2007" target="_blank"><i class="fa fa-instagram"></i></a></li>
		<li><a href="https://www.flickr.com/photos/spiegel/" target="_blank"><i class="fa fa-flickr"></i></a></li>
		<li><a href="https://www.facebook.com/spiegel.im.spiegel" target="_blank"><i class="fa fa-facebook"></i></a></li>
		<li><a href="https://jp.linkedin.com/in/spiegelimspiegel" target="_blank"><i class="fa fa-linkedin"></i></a></li>
		
	</ul>
	<ul class="social">
		<li><a href="http://www.facebook.com/share.php?u=http%3a%2f%2ftext.baldanders.info%2fremark%2f2016%2f05%2fopen-source-license-api%2f" target="_blank"><i class="fa fa-facebook-square fa-2x" aria-hidden="true"></i></a></li>
		<li><a href="http://twitter.com/share?text=Open%20Source%20License%20API%20%3f+from+@spiegel_2007&amp;url=http%3a%2f%2ftext.baldanders.info%2fremark%2f2016%2f05%2fopen-source-license-api%2f" target="_blank"><i class="fa fa-twitter-square fa-2x" aria-hidden="true"></i></a></li>
		<li><a href="https://flattr.com/submit/auto?user_id=spiegel&amp;url=http%3a%2f%2ftext.baldanders.info%2fremark%2f2016%2f05%2fopen-source-license-api%2f&amp;title=Open%20Source%20License%20API%20%3f" target="_blank"><img src="//button.flattr.com/flattr-badge-large.png" alt="Flattr this" title="Flattr this"></a></li>
	</ul>

		</div>
	</div>

<nav>
<ul class='cloud center'>
<li><a href='https://github.com/spiegel-im-spiegel/spiegel-im-spiegel.github.io'>Repository</a></li>
<li><a href='/reviews/'>Reviews</a></li>
<li><a href='/about-feeds/'>Feeds</a></li>
<li><a href='/site-policy/'>Site Policy</a></li>
<li><a href='https://validator.w3.org/nu/?doc=http%3a%2f%2ftext.baldanders.info%2fremark%2f2016%2f05%2fopen-source-license-api%2f&amp;showoutline=yes'>Debug</a></li>
</ul>
<ul class='cloud center'>
<li><a href='http://www.baldanders.info/'>Baldanders.info</a></li>
<li><a href='https://scrapbox.io/spiegel-branch/'>Scrapbox</a></li>
<li><a href='http://qiita.com/spiegel-im-spiegel'>Qiita</a></li>
</ul>
<ul class='cloud center'>
<li>Powered by <a href='https://gohugo.io/'>Hugo 0.30.2</a> and <a href="https://github.com/spiegel-im-spiegel/hugo-theme-text">Text</a>.</li>
</ul>
</nav>
</footer>

</div>
<script src="/highlightjs/highlight.pack.js"></script>
<script>
  hljs.configure({
    tabReplace: "    ",	
  });
  hljs.initHighlightingOnLoad();
</script>

</body>
</html>
