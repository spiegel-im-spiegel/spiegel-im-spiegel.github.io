<!DOCTYPE html>
<html lang="ja">
<head prefix="og: http://ogp.me/ns#">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
<link rel="canonical" href="https://text.baldanders.info/remark/2017/12/plantuml-with-atom/">
<script defer src="https://use.fontawesome.com/releases/v5.7.2/js/all.js" integrity="sha384-0pzryjIRos8mFBWMzSSZApWtPl/5++eIfzYmTgBBmXYdhvxPc+XcFEk+zJwDgWbP" crossorigin="anonymous"></script>
<link rel='stylesheet' href='//fonts.googleapis.com/css?family=Noto+Serif%7cNoto+Sans%3a400,700%7cInconsolata%3a400,700' type='text/css'>
<link rel='stylesheet' href='//fonts.googleapis.com/earlyaccess/notosansjp.css' type='text/css'>
<link rel='stylesheet' href='//baldanders.info/fonts/NotoSerifJP/NotoSerifJP.css' type='text/css'>
<link rel="stylesheet" href="/css/local-font.css" type='text/css'>
<link rel="stylesheet" href="/css/main.css" type='text/css'>
<link rel="stylesheet" href="/css/baldanders-info.css" type='text/css'>
<link rel="stylesheet" href="/css/chroma-styles.css">

<link rel="alternate" href="https://text.baldanders.info/index.xml" type="application/rss+xml" title="text.Baldanders.info">
<link rel="alternate" href="https://text.baldanders.info/index.json" type="application/json" title="text.Baldanders.info">
<meta name="google-site-verification" content="jTjBCslPtf8gwVatiY-GDgGv7pV5csa8aUOw1MRPUD4">
<title>ATOM エディタを使った作図（PlantUML 編） — しっぽのさきっちょ | text.Baldanders.info</title>
<meta property="og:title" content="ATOM エディタを使った作図（PlantUML 編） — しっぽのさきっちょ | text.Baldanders.info">
<meta name="description" content="おおっ。流石にクラス図は PlantUML の方がいいな。">
<meta property="og:description" content="おおっ。流石にクラス図は PlantUML の方がいいな。">
<meta property="og:image" content="https://text.baldanders.info/images/attention/remark.jpg">
<meta name="author" content="Spiegel">


<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@spiegel_2007">
<meta name="twitter:creator" content="@spiegel_2007">
<meta name="keywords" content="tools, plantuml, uml, atom, editor, java">
<link rel='prev' href='https://text.baldanders.info/remark/2017/12/favorite-atom-packages-2017/' title='年末なので ATOM Editor を掃除しましょう（もしくは2017年お気に入り ATOM パッケージ）' />
<link rel='next' href='https://text.baldanders.info/remark/2017/12/die-in-the-internet/' title='インターネットで「死ぬ」ということ' />

<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "WebSite",
	"@id": "https://text.baldanders.info/",
	"inLanguage": "ja",
	"name": "text.Baldanders.info",
    "url": "https://text.baldanders.info/",
	"publisher": {
		"@id": "https://text.baldanders.info/#org"
	},
	"author": {
		"@id": "https://text.baldanders.info/#maker"
	},
	"image": "https://text.baldanders.info/images/attention/site.jpg",
	"description": "帰ってきた「しっぽのさきっちょ」"
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Organization",
	"@id": "https://text.baldanders.info/#org",
	"name": "Spiegel",
	"logo": {
		"@type": "ImageObject",
		"@id": "https://text.baldanders.info/#logo",
		"url": "https://text.baldanders.info/images/avatar.jpg"
	}
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Person",
	"@id": "https://text.baldanders.info/#maker",
	"name": "Spiegel",
	"url": "https://baldanders.info/spiegel/profile/",
	"image": "https://text.baldanders.info/images/avatar.jpg"
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Blog",
	"@id": "https://text.baldanders.info/remark/",
	"url": "https://text.baldanders.info/remark/",
	"inLanguage": "ja",
	"name": "しっぽのさきっちょ",
	"description": "帰ってきた「しっぽのさきっちょ」。とりとめのない四方山話。",
	"image": "https://text.baldanders.info/images/attention/remark.jpg",
	"publisher": {
		"@id": "https://text.baldanders.info/#org"
	},
	"author": {
		"@id": "https://text.baldanders.info/#maker"
	}
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "BreadcrumbList",
	"@id": "https://text.baldanders.info/remark/2017/12/plantuml-with-atom/#breadcrumb-list",
	"itemListElement": [
		{
			"@type": "ListItem",
			"position": 1,
			"item": {
				"@id": "https://text.baldanders.info/"
			}
		},
		{
			"@type": "ListItem",
			"position": 2,
			"item": {
				"@id": "https://text.baldanders.info/remark/"
			}
		}
	]
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "BlogPosting",
	"@id": "https://text.baldanders.info/remark/2017/12/plantuml-with-atom/",
	"url": "https://text.baldanders.info/remark/2017/12/plantuml-with-atom/",
	"mainEntityOfPage": "https://text.baldanders.info/remark/2017/12/plantuml-with-atom/",
	"inLanguage": "ja",
	"name": "ATOM エディタを使った作図（PlantUML 編）",
	"description": "おおっ。流石にクラス図は PlantUML の方がいいな。",
	"headline": "おおっ。流石にクラス図は PlantUML の方がいいな。",
	"keywords": "tools, plantuml, uml, atom, editor, java",
	"image": "https://text.baldanders.info/images/attention/remark.jpg",
	"datePublished": "2017-12-17T12:56:39+00:00",
	"dateModified": "2019-01-07T04:28:43+00:00",
	"publisher": {
		"@id": "https://text.baldanders.info/#org"
	},
	"author": {
		"@id": "https://text.baldanders.info/#maker"
	},
	"license": "https://creativecommons.org/licenses/by-sa/4.0/"
}
</script>
</head>
<body>

<div id='container'>

<main>
<nav class="breadcrumb">
<a href="https://text.baldanders.info/">text.Baldanders.info</a> &raquo; <a href="/remark/">しっぽのさきっちょ</a>
</nav>
<article>
<h1>ATOM エディタを使った作図（PlantUML 編）</h1>
<nav class="tags">
	<div><a href='/tags/'>Tags</a>: #<a href="/tags/atom/">atom</a> #<a href="/tags/editor/">editor</a> #<a href="/tags/java/">java</a> #<a href="/tags/plantuml/">plantuml</a> #<a href="/tags/tools/">tools</a> #<a href="/tags/uml/">uml</a></div>
	<div class="cloud">
		<a href="http://www.facebook.com/share.php?u=https%3a%2f%2ftext.baldanders.info%2fremark%2f2017%2f12%2fplantuml-with-atom%2f" target="_blank"><span class="facebook-color"><i class="fab fa-facebook-square" aria-hidden="true"></i></span></a>
		<a href="http://twitter.com/share?text=ATOM%20%e3%82%a8%e3%83%87%e3%82%a3%e3%82%bf%e3%82%92%e4%bd%bf%e3%81%a3%e3%81%9f%e4%bd%9c%e5%9b%b3%ef%bc%88PlantUML%20%e7%b7%a8%ef%bc%89+by+@spiegel_2007&amp;url=https%3a%2f%2ftext.baldanders.info%2fremark%2f2017%2f12%2fplantuml-with-atom%2f" target="_blank"><span class="twitter-color"><i class="fab fa-twitter-square" aria-hidden="true"></i></span></a>
		<a href="https://getpocket.com/edit?url=https%3a%2f%2ftext.baldanders.info%2fremark%2f2017%2f12%2fplantuml-with-atom%2f&amp;title=ATOM%20%e3%82%a8%e3%83%87%e3%82%a3%e3%82%bf%e3%82%92%e4%bd%bf%e3%81%a3%e3%81%9f%e4%bd%9c%e5%9b%b3%ef%bc%88PlantUML%20%e7%b7%a8%ef%bc%89" target="_blank"><span class="pocket-color"><i class="fab fa-get-pocket" aria-hidden="true"></i></span></a>
		
	</div>
</nav>
<nav class="history">
	<a href="https://github.com/spiegel-im-spiegel/spiegel-im-spiegel.github.io/commits/master/remark/2017/12/plantuml-with-atom/index.html">History</a>
</nav>

<section><div>
<div class="noextension">
<a href="/remark/2018/11/copyright-law-is-revised/" title="年末年始に施行される改正著作権法に関する覚え書き"><img src="/images/noextension.png" alt="no extension" width="165" height="50" /></a>
</div>


<p><a href="https://text.baldanders.info/remark/2017/12/favorite-atom-packages-2017/" title="年末なので ATOM Editor を掃除しましょう（もしくは2017年お気に入り ATOM パッケージ）">前回</a>で <a href="https://atom.io/" title="Atom">ATOM</a> エディタの掃除も終わったので，以前から気になっていた「<a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> を使った作図」について調べてみた。
ええ，分かってますとも。
<a href="https://text.baldanders.info/remark/2017/12/favorite-atom-packages-2017/" title="年末なので ATOM Editor を掃除しましょう（もしくは2017年お気に入り ATOM パッケージ）">前回</a>に引き続き「現実逃避」というやつです。</p>

<ul>
<li><a href="http://plantuml.com/">Open-source tool that uses simple textual descriptions to draw UML diagrams.</a></li>
</ul>

<h2 id="toc_0"><a href="https://atom.io/" title="Atom">ATOM</a> に <a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> 関連パッケージを導入する</h2>

<p><a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> 自体は UML (Unified Modeling Language; 統一モデリング言語) を記述するための DSL (Domain-Specific Language; ドメイン特化言語) と考えてよい（実際には UML 以外のものも記述可能）。
UML の構文（に相当するもの）は図形で表されるが，それをテキストで記述できるようにしたのが <a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> である。
「UML って何？」って方もおられるだろうが，それは<a href="#uml">後ほど説明</a>する。</p>

<p>直前に述べたように <a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> 自体はテキストで記述するが，最終的には図（diagram）に落とし込むため <a href="http://graphviz.org/" title="Graphviz - Graph Visualization Software">Graphviz</a> と Java の実行環境が必要となる<sup class="footnote-ref" id="fnref:jar0"><a href="#fn:jar0">1</a></sup>。
これらをあらかじめ導入しておくこと（導入方法については割愛する）。</p>

<p><a href="https://atom.io/" title="Atom">ATOM</a> で UML を書く（描く）ために以下の2つのパッケージを導入する。</p>

<ul>
<li><a href="https://atom.io/packages/language-plantuml">language-plantuml</a></li>
<li><a href="https://atom.io/packages/plantuml-viewer">plantuml-viewer</a> <sup class="footnote-ref" id="fnref:jar1"><a href="#fn:jar1">2</a></sup></li>
</ul>

<p><a href="https://atom.io/packages/language-plantuml">language-plantuml</a> は（今のところ）ハイライト機能しかないようなので無くても構わないが， <a href="https://atom.io/packages/plantuml-viewer">plantuml-viewer</a> は描画に必要なので必ず導入すること。</p>

<p><a href="https://atom.io/packages/plantuml-viewer">plantuml-viewer</a> を導入したら Settings を開いて “Charset” および “Graphviz Dot Executable” 各項目の設定をしておく。</p>

<figure style='margin:0 auto;text-align:center;'>
<a href="./38219245875_o.png"><img src="./38219245875_o.png" srcset="./38219245875_o.png 847w" sizes="(min-width:600px) 500px, 80vw" alt="settings of plantuml-viewer package"></a>
<figcaption><a href="./38219245875_o.png">settings of plantuml-viewer package</a></figcaption>
</figure>

<p>“Graphviz Dot Executable” 項目には <a href="http://graphviz.org/" title="Graphviz - Graph Visualization Software">Graphviz</a> の dot コマンドへのフルパスをセットする。
“Charset” 項目については， <a href="https://atom.io/" title="Atom">ATOM</a> で書くんだから UTF-8 にしておけばいいだろう。</p>

<h2 id="toc_1">最初はやっぱり Hello World でしょ</h2>

<p>動作確認を兼ねて何か書いてみる。</p>

<p><a href="https://atom.io/packages/language-plantuml">language-plantuml</a> では <code>.pu</code>, <code>.puml</code>, <code>.plantuml</code> を <a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> 用の拡張子と認識するようなので，まずは <code>hello.puml</code> ファイルを作って以下のように記述する。</p>
<div class="highlight"><pre class="chroma"><code class="language-puml" data-lang="puml">Bob-&gt;Alice : hello</code></pre></div>
<p>これを <a href="https://atom.io/packages/plantuml-viewer">plantuml-viewer</a> で表示する（<code>ctrl-alt-p</code> でビュアーが開く）。</p>

<figure style='margin:0 auto;text-align:center;'>
<a href="hello1.puml"><img src="hello1.svg" srcset="hello1.svg 500w" sizes="(min-width:600px) 500px, 80vw" alt=""></a></figure>

<p>おおっ。
できたできた。
表示されている図は PNG, SVG, EPS のいずれかの形式で保存できる（コンテキスト・メニューから “Save As ...” を選択する）。</p>

<p><a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> は <code>@startuml ... @enduml</code> の間を記述領域と見なすようで</p>
<div class="highlight"><pre class="chroma"><code class="language-puml" data-lang="puml">ほげほげ

@startuml
  Bob-&gt;Alice : hello
@enduml

ほえほえ</code></pre></div>
<p>と書いても，全く同じ図が出力される。
他形式のドキュメントに埋め込むことを想定してのことだろうが<sup class="footnote-ref" id="fnref:embd1"><a href="#fn:embd1">3</a></sup>，今回は単純に図が出力できればいいので，以降の記述では <code>@startuml</code> および <code>@enduml</code> を省くことにする。</p>

<h2 id="toc_2">見た目の調整</h2>

<p>このままでもいいっちゃあいいのだが，もう少し見た目をどうにかしたい。
まずはモノクロ表示にしてみる。</p>

<div class="highlight"><pre class="chroma"><code class="language-puml" data-lang="puml"><span class="hl">skinparam monochrome true
</span>Bob-&gt;Alice : hello</code></pre></div>

<p>これで</p>

<figure style='margin:0 auto;text-align:center;'>
<a href="hello2a.puml"><img src="hello2a.svg" srcset="hello2a.svg 500w" sizes="(min-width:600px) 500px, 80vw" alt=""></a></figure>

<p>という感じにモノクロになった。
調子に乗ってもう少し色々と弄ってみよう。</p>

<div class="highlight"><pre class="chroma"><code class="language-puml" data-lang="puml"><span class="hl">skinparam shadowing false
</span><span class="hl">skinparam default{
</span><span class="hl">  FontName &#39;Noto Serif&#39;, &#39;Noto Serif JP&#39;, serif
</span><span class="hl">  FontColor black
</span><span class="hl">  FontSize 14
</span><span class="hl">}
</span><span class="hl">skinparam sequence {
</span><span class="hl">  ArrowColor Black
</span><span class="hl">  ArrowFontName &#39;Noto Sans&#39;, &#39;Noto Sans JP&#39;, sans-serif
</span><span class="hl">  ArrowFontColor black
</span><span class="hl">  ArrowFontSize 10
</span><span class="hl">  LifeLineBorderColor Black
</span><span class="hl">  LifeLineBackgroundColor White
</span><span class="hl">  ActorBorderColor Black
</span><span class="hl">  ActorBackgroundColor White
</span><span class="hl">  ParticipantBorderColor Black
</span><span class="hl">  ParticipantBackgroundColor LightGray
</span><span class="hl">  MessageAlign center
</span><span class="hl">}
</span>
actor ボブ
participant Alice

ボブ-&gt;Alice : こんにちは
activate Alice

Alice--&gt;ボブ : Hello
deactivate Alice</code></pre></div>

<p>前半部分で線や背景色の色およびフォントについて指定し<sup class="footnote-ref" id="fnref:fnt1"><a href="#fn:fnt1">4</a></sup>，後半部分で実際のシーケンスを記述している。
これを SVG に出力するとこんな感じになる。</p>

<figure style='margin:0 auto;text-align:center;'>
<a href="hello2b.puml"><img src="hello2b.svg" srcset="hello2b.svg 500w" sizes="(min-width:600px) 500px, 80vw" alt=""></a></figure>

<p>見た目の記述に毎回あれだけの量を書くのはかったるいのでインクルードファイルとして別出ししてしまおう。</p>

<div class="highlight"><pre class="chroma"><code class="language-puml" data-lang="puml"><span class="hl">!include style.puml
</span>
actor ボブ
participant Alice

ボブ-&gt;Alice : こんにちは
activate Alice

Alice--&gt;ボブ : Hello
deactivate Alice</code></pre></div>

<p>これでスッキリした。
<a href="./style.puml"><code>style.puml</code></a> ファイルの中身はこんな感じで，記述をそのままコピっただけ。</p>

<div class="highlight"><pre class="chroma"><code class="language-puml" data-lang="puml">skinparam shadowing false
skinparam default{
  FontName &#39;Noto Serif&#39;, &#39;Noto Serif JP&#39;, serif
  FontColor black
  FontSize 14
}
skinparam sequence {
  ArrowColor Black
  ArrowFontName &#39;Noto Sans&#39;, &#39;Noto Sans JP&#39;, sans-serif
  ArrowFontColor black
  ArrowFontSize 10
  LifeLineBorderColor Black
  LifeLineBackgroundColor White
  ActorBorderColor Black
  ActorBackgroundColor White
  ParticipantBorderColor Black
  ParticipantBackgroundColor LightGray
  MessageAlign center
}</code></pre></div>

<h2 id="uml"><a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> で作図可能な UML 図</h2>

<p>現在 UML 2.0 では以下の図（Diagrams）が定義されている。</p>

<ul>
<li>Diagrams

<ul>
<li>構造図（Structural Diagrams）

<ul>
<li><a href="http://plantuml.com/class-diagram">クラス図（Class Diagram）</a></li>
<li><a href="http://plantuml.com/object-diagram">オブジェクト図（Object Diagram）</a></li>
<li>パッケージ図（Package Diagram）</li>
<li>コンポジット構造図（Composite Structure Diagram）</li>
<li><a href="http://plantuml.com/component-diagram">コンポーネント図（Component Diagram）</a></li>
<li><a href="http://plantuml.com/deployment-diagram">配置図（Deployment Diagram）</a></li>
</ul></li>
<li>振る舞い図（Behavioral Diagrams）

<ul>
<li><a href="http://plantuml.com/use-case-diagram">ユースケース図（Use Case Diagram）</a></li>
<li><a href="http://plantuml.com/activity-diagram-beta">アクティビティ図（Activity Diagram）</a></li>
<li><a href="http://plantuml.com/state-diagram">状態遷移図（State Machine Diagram）</a></li>
<li><a href="http://plantuml.com/sequence-diagram">シーケンス図（Sequence Diagram）</a></li>
<li>コミュニケーション図（Communication Diagram）</li>
<li>相互作用概要図（Interaction Overview Diagram）</li>
<li><a href="http://plantuml.com/timing-diagram">タイミング図（Timing Diagram）</a></li>
</ul></li>
</ul></li>
</ul>

<p>リンクがあるものが <a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> 記述可能な図である。</p>

<p>UML 各図の中の線や図形は全て「意味」が決められており，それらを組み合わせることでシステムの仕様や設計が表現できることを目指している。
名前が示す通りモデリングの設計手法と相性がいいため，オブジェクト指向設計においてよく使われる。</p>

<p>実際には上で挙げた図を全て駆使するのではなく，システムの性格や規模に応じて幾つかの図を組み合わせて使うのが普通である。</p>

<p>UML 図の中でもよく使われるシーケンス図とクラス図について <a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> での記述を紹介しよう。
以前「<a href="https://text.baldanders.info/remark/2017/09/sequence-diagram/" title="そうだ，シーケンス図を描こう！ （一応クラス図も描けるよ）">そうだ，シーケンス図を描こう！</a>」の中で， <a href="https://mermaidjs.github.io/">mermaid</a> 記法で書いたシーケンス図</p>

<figure style='margin:0 auto;text-align:center;'>
<div class="mermaid">
sequenceDiagram
    カバ->>+カバン: あなた，泳げまして？
    カバン-->>-カバ: いえ
    カバ->>+カバン: 空は飛べるんですの？
    カバン-->>-カバ: いえ
    カバ->>+カバン: じゃあ，足が速いとか？
    カバン-->>-カバ: いえ
    カバ->>カバン: あなた，何にもできないのねぇ
    loop ひとりヘコむ
        カバン->>カバン: ううっ
    end
</div>
<figcaption>カバとカバン</figcaption>
</figure>

<p>を <a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> で作図するとこんな感じだろうか（図のリンク先が <a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> ソースコード）。</p>

<figure style='margin:0 auto;text-align:center;'>
<a href="kaban.puml"><img src="kaban.svg" srcset="kaban.svg 500w" sizes="(min-width:600px) 500px, 80vw" alt="カバとカバン"></a>
<figcaption><a href="kaban.puml">カバとカバン</a></figcaption>
</figure>

<p>じゃあ， <a href="https://mermaidjs.github.io/">mermaid</a> 記法で書いたクラス図</p>

<figure style='margin:0 auto;text-align:center;'>
<div class="mermaid">
classDiagram
    friends<|--serval
    friends<|--raccoon
    friends<|--fennec
    serval : +Waai()
    raccoon : +OmakaseNanoda()
    fennec : +Haiyo()
</div>
<figcaption>フレンズ</figcaption>
</figure>

<p>を <a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> で作図するとこんな感じかな（コメントをちょろんと加えてみた）。</p>

<figure style='margin:0 auto;text-align:center;'>
<a href="friends-class.puml"><img src="friends-class.svg" srcset="friends-class.svg 500w" sizes="(min-width:600px) 500px, 80vw" alt="フレンズ"></a>
<figcaption><a href="friends-class.puml">フレンズ</a></figcaption>
</figure>

<p>おおっ。
流石にクラス図は <a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> の方がいいな。
矢印は横向きにも出来るっぽい。</p>

<figure style='margin:0 auto;text-align:center;'>
<a href="wiki.puml"><img src="wiki.svg" srcset="wiki.svg 500w" sizes="(min-width:600px) 500px, 80vw" alt=""></a></figure>

<p>今度からクラス図描くときは <a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> で描くようにしよう。</p>

<h2 id="toc_4">やっぱり考えながら描く</h2>

<p>「<a href="https://text.baldanders.info/remark/2017/09/sequence-diagram/" title="そうだ，シーケンス図を描こう！ （一応クラス図も描けるよ）">そうだ，シーケンス図を描こう！</a>」でも書いたんだけど，クラス図やシーケンス図といったものは試行錯誤しながら描いていくものなのよ<sup class="footnote-ref" id="fnref:case1"><a href="#fn:case1">5</a></sup>。
お客さんもマネージャもプログラマも UML 図を中心に議論を行っていく。
だから作成や修正が面倒なツールはダメなのだ。
<a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> は時々刻々と修正されることを前提にしたツールと言える。</p>

<p>もうひとつ。</p>

<p>要求定義を行っていくと「要求」やそれに伴う「仕様」が大きく変化することがある。
変化すること自体は（改善されてるってことだし）結構なのだが（予算規模が変わってアワアワする可能性はあるけど），あとからチームに参加する人たちは「結果」しか提示されないので「何故そのような「要求」に至ったか」が理解できないことが多い。
不完全な理解のまま作業をすすめると必ず何処かで不整合が起きる（つまり文脈（context）が大事ってこと）。</p>

<p>だから議論の流れを後から追えるよう「履歴」をとっていく必要がある。
私が最近 UML 図に関して教わったのは</p>

<ol>
<li>最初は不完全でも間違ってても構わない。まずは考えていることを図にぶちまけることが重要</li>
<li>ただし，クラス図では多重度を記述すること（MUST）</li>
<li>要求定義レベルの図と設計レベルの図は必要とされる詳細度や厳密度が異なる。最初から設計レベルの図を描こうとしないこと</li>
<li>作成した図は（手書きのものも含めて）全て履歴として保管し，後から参照できるようにすること</li>
</ol>

<p>だったかな。</p>

<p><a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> の利点は，テキストであるが故に修正・変更が容易で， git などのバージョン管理システムと組み合わせて履歴から差分情報を抽出しやすいことにある。
ぶっちゃけ，出力としての PNG や SVG 画像ファイルにはさしたる価値はなく， UML 用の DSL である <a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> の記述にこそ大きな価値があるということだ。</p>

<h2 id="toc_5">ブックマーク</h2>

<ul>
<li><a href="http://www.itsenka.com/contents/development/uml/">UML入門 - IT専科</a></li>
<li><a href="http://plantuml.com/skinparam">Changing colors and fonts</a></li>
<li><a href="http://yohshiy.blog.fc2.com/blog-entry-152.html">PlantUML の使い方 | プログラマーズ雑記帳</a></li>

<li><p><a href="https://qiita.com/ogomr/items/0b5c4de7f38fd1482a48">PlantUML Cheat Sheet - Qiita</a></p></li>

<li><p><a href="https://qiita.com/nakahashi/items/3d88655f055ca6a2617c">AtomとPlantUMLで爆速UMLモデリング - Qiita</a></p></li>

<li><p><a href="https://qiita.com/k_nakayama/items/77ca73753ebd049a66de">Atom+PlantUMLで見た目もいい感じのシーケンス図を作成する - Qiita</a></p></li>
</ul>
<div class="footnotes">

<hr />

<ol>
<li id="fn:jar0"><a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> の本体は <code>plantuml.jar</code> で提供されている。このファイルを使って “<code>java -jar plantuml.jar -language</code>” とコマンドを打つと <a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> で使われる全シンボルが表示される。シーケンス図以外は内部で DOT 言語に変換してから <a href="http://graphviz.org/" title="Graphviz - Graph Visualization Software">Graphviz</a> を使って作図するようだ。
 <a class="footnote-return" href="#fnref:jar0"><sup>[return]</sup></a></li>
<li id="fn:jar1">Windows なら <code>%USERPROFILE%\.atom\packages\plantuml-viewer</code> フォルダにインストールされるが，その中の <code>node_modules\node-plantuml</code> フォルダに <code>plantuml.jar</code> がある筈である。
 <a class="footnote-return" href="#fnref:jar1"><sup>[return]</sup></a></li>
<li id="fn:embd1"><code>@startuml</code> の後ろに <code>images/hello.png</code> などと指定すれば <code>plantuml.jar</code> のほうで自動的に指定したパス名で画像ファイルを出力するらしい。
 <a class="footnote-return" href="#fnref:embd1"><sup>[return]</sup></a></li>
<li id="fn:fnt1">フォント名については <code>font-family</code> としてそのまま SVG に埋め込まれる。従って環境によって見え方が異なる筈である。どの環境でも同じような見え方にしたいなら PNG で保存するのが最も確実だろう。その場合は <code>xxxFontName</code> に自マシンにインストールされている具体的なフォント名を指定する必要がある。
 <a class="footnote-return" href="#fnref:fnt1"><sup>[return]</sup></a></li>
<li id="fn:case1">もちろん UML を CASE (Computer Aided Software Engineering) の入力手段として使う場合もある（つか UML ってそれを念頭に置いて開発されたものだからねぇ）。その場合は矛盾のない正確な記述が要求される。
 <a class="footnote-return" href="#fnref:case1"><sup>[return]</sup></a></li>
</ol>
</div>

</div></section>

</article>
</main>
<nav class="page-nav">
<div class="prev-page">&laquo; <a href="/remark/2017/12/favorite-atom-packages-2017/">年末なので ATOM Editor を掃除しましょう（もしくは2017年お気に入り ATOM パッケージ）</a></div>
<div class="next-page"><a href="/remark/2017/12/die-in-the-internet/">インターネットで「死ぬ」ということ</a> &raquo;</div>
</nav>

<aside class="feedback" id='feedback'>
<h1>Feedback</h1>
<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "textbaldandersinfo" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</aside>
<footer>


<div class="userinfo">
	<div class="userinfo-avater">
		<a href="https://baldanders.info/spiegel/profile/"><img src="https://text.baldanders.info/images/avatar.jpg" width="48" height="48" alt="avatar" id="logo"></a>
	</div>
	<div class="userinfo-info" id="maker">
		Text by <a href="https://baldanders.info/spiegel/profile/" rel="cc:attributionURL" property="cc:attributionName">Spiegel</a>
		in <time property='dc:dateCopyrighted'>2017-12-17</time> (revised in 2019-01-07)
		
	<a rel='cc:license' href="https://creativecommons.org/licenses/by-sa/4.0/"><i class="fab fa-creative-commons"></i>&nbsp;<i class="fab fa-creative-commons-by"></i>&nbsp;<i class="fab fa-creative-commons-sa"></i></a>

		<ul class="social">
	<li><a href="https://github.com/spiegel-im-spiegel"><span class="github-color"><i class="fab fa-github"></i></span></a></li>
	<li><a href="https://twitter.com/spiegel_2007"><span class="twitter-color"><i class="fab fa-twitter"></i></span></a></li>
	
	
	<li><a href="http://instagram.com/spiegel_2007"><span class="instagram-color"><i class="fab fa-instagram"></i></span></a></li>
	<li><a href="https://www.flickr.com/photos/spiegel/"><span class="flickr-color"><i class="fab fa-flickr"></i></span></a></li>
	<li><a href="https://www.facebook.com/spiegel.im.spiegel"><span class="facebook-color"><i class="fab fa-facebook-f"></i></span></a></li>
	
	
</ul>
	</div>
</div>

<nav>
<ul class='cloud center'>
<li><a href='https://github.com/spiegel-im-spiegel/spiegel-im-spiegel.github.io'>Repository</a></li>
<li><a href='/reviews/'>Reviews</a></li>
<li><a href='/about-feeds/'>Feeds</a></li>
<li><a href='/site-policy/'>Site Policy</a></li>
<li><a href='https://validator.w3.org/nu/?doc=https%3a%2f%2ftext.baldanders.info%2fremark%2f2017%2f12%2fplantuml-with-atom%2f&amp;showoutline=yes'>Debug</a></li>
</ul>
<ul class='cloud center'>
<li><a href='https://baldanders.info/'>Baldanders.info</a></li>
<li><a href='https://scrapbox.io/spiegel-branch/'>Scrapbox</a></li>
<li><a href='http://qiita.com/spiegel-im-spiegel'>Qiita</a></li>
</ul>
<ul class='cloud center'>
<li>Powered by <a href='https://gohugo.io/'>Hugo</a> and <a href="https://github.com/spiegel-im-spiegel/hugo-theme-baldanders-info
">Theme of Baldanders.info</a>.</li>
</ul>
</nav>
</footer>
</div>
<script src="https://unpkg.com/mermaid@8.0.0/dist/mermaid.min.js"></script>
<script>
  mermaid.initialize({startOnLoad: true, theme: 'neutral', sequenceDiagram: {height: 40, mirrorActors: false}});
</script>
</body>
</html>
