<!DOCTYPE html>
<html lang="ja">
<head prefix="og: http://ogp.me/ns#">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Hugo 0.50" />
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="stylesheet" href="/css/local-font.css" type='text/css'>
<link rel='stylesheet' href='//fonts.googleapis.com/css?family=Noto+Serif%7cNoto+Sans%3a400,700%7cInconsolata%3a400,700' type='text/css'>
<link rel='stylesheet' href='//fonts.googleapis.com/earlyaccess/notosansjp.css' type='text/css'>
<link rel='stylesheet' href='http://www.baldanders.info/fonts/NotoSerifJP/NotoSerifJP.css' type='text/css'>
<link rel="stylesheet" href="/css/main.css" type='text/css'>
<link rel="stylesheet" href="/css/text-baldanders.css" type='text/css'>
<script defer src="https://use.fontawesome.com/releases/v5.4.1/js/all.js" integrity="sha384-L469/ELG4Bg9sDQbl0hvjMq8pOcqFgkSpwhwnslzvVVGpDjYJ6wJJyYjvG3u8XW7" crossorigin="anonymous"></script>
<link rel="alternate" href="http://text.baldanders.info/index.xml" type="application/rss+xml" title="text.Baldanders.info">
<meta name="google-site-verification" content="jTjBCslPtf8gwVatiY-GDgGv7pV5csa8aUOw1MRPUD4">
<link rel="stylesheet" href="/css/addon.css">
<link rel="stylesheet" href="/css/chroma-styles.css">

<link rel="canonical" href="http://text.baldanders.info/remark/2017/11/gpgpdump-0_3_0-released/">
<title>gpgpdump 0.3.0 をリリースした — しっぽのさきっちょ | text.Baldanders.info</title>
<meta property="og:title" content="gpgpdump 0.3.0 をリリースした — しっぽのさきっちょ | text.Baldanders.info">
<meta name="description" content="OpenPGP パケットの内容を視覚化する gpgpdump の 0.3.0 をリリースした。このバージョンでようやく pgpdump に近い出力ができるようになった。">
<meta property="og:description" content="OpenPGP パケットの内容を視覚化する gpgpdump の 0.3.0 をリリースした。このバージョンでようやく pgpdump に近い出力ができるようになった。">
<meta property="og:image" content="http://text.baldanders.info/images/attention/remark.jpg">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@spiegel_2007">
<meta name="twitter:creator" content="@spiegel_2007">
<meta name="author" content="Spiegel">
<meta name="keywords" content="tools, openpgp, golang, gpgpdump">
<link rel='prev' href='http://text.baldanders.info/remark/2017/11/issuer-fingerprint-signature-subpacket-in-next-openpgp/' title='Issuer Fingerprint Signature Subpacket in Next OpenPGP' />
<link rel='next' href='http://text.baldanders.info/remark/2017/11/astronomical-calendar-2018/' title='2018年の主な暦象' />

<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "WebSite",
	"@id": "http://text.baldanders.info/",
	"inLanguage": "ja",
	"name": "text.Baldanders.info",
    "url": "http://text.baldanders.info/",
	"publisher": {
		"@id": "http://text.baldanders.info/#org"
	},
	"author": {
		"@id": "http://text.baldanders.info/#maker"
	},
	"image": "http://text.baldanders.info/images/avatar.jpg",
	"description": "帰ってきた「しっぽのさきっちょ」"
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Organization",
	"@id": "http://text.baldanders.info/#org",
	"name": "text.Baldanders.info",
	"logo": {
		"@type": "ImageObject",
		"@id": "http://text.baldanders.info/#logo",
		"url": "http://text.baldanders.info/images/avatar.jpg"
	}
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Person",
	"@id": "http://text.baldanders.info/#maker",
	"name": "Spiegel",
	"url": "http://www.baldanders.info/spiegel/profile/",
	"image": "http://text.baldanders.info/images/avatar.jpg"
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Blog",
	"@id": "http://text.baldanders.info/remark/",
	"url": "http://text.baldanders.info/remark/",
	"inLanguage": "ja",
	"name": "しっぽのさきっちょ",
	"description": "とりとめのない四方山話。",
	"image": "http://text.baldanders.info/images/attention/remark.jpg",
	"publisher": {
		"@id": "http://text.baldanders.info/#org"
	},
	"author": {
		"@id": "http://text.baldanders.info/#maker"
	}
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "BreadcrumbList",
	"@id": "http://text.baldanders.info/remark/2017/11/gpgpdump-0_3_0-released/#breadcrumb-list",
	"itemListElement": [
		{
			"@type": "ListItem",
			"position": 1,
			"item": {
				"@id": "http://text.baldanders.info/"
			}
		},
		{
			"@type": "ListItem",
			"position": 2,
			"item": {
				"@id": "http://text.baldanders.info/remark/"
			}
		}
	]
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "BlogPosting",
	"@id": "http://text.baldanders.info/remark/2017/11/gpgpdump-0_3_0-released/",
	"url": "http://text.baldanders.info/remark/2017/11/gpgpdump-0_3_0-released/",
	"mainEntityOfPage": "http://text.baldanders.info/remark/2017/11/gpgpdump-0_3_0-released/",
	"inLanguage": "ja",
	"name": "gpgpdump 0.3.0 をリリースした",
	"description": "OpenPGP パケットの内容を視覚化する gpgpdump の 0.3.0 をリリースした。このバージョンでようやく pgpdump に近い出力ができるようになった。",
	"headline": "OpenPGP パケットの内容を視覚化する gpgpdump の 0.3.0 をリリースした。このバージョンでようやく pgpdump に近い出力ができるようになった。",
	"keywords": "tools, openpgp, golang, gpgpdump",
	"image": "http://text.baldanders.info/images/attention/remark.jpg",
	"datePublished": "2017-11-26T19:21:26+09:00",
	"dateModified": "2017-12-04T07:44:18+09:00",
	"publisher": {
		"@id": "http://text.baldanders.info/#org"
	},
	"author": {
		"@type": "Person",
		"@id": "http://text.baldanders.info/remark/2017/11/gpgpdump-0_3_0-released/#maker",
		"name": "Spiegel",
		"url": "http://www.baldanders.info/spiegel/profile/",
		"image": "http://text.baldanders.info/images/avatar.jpg"
	},
	"license": "http://creativecommons.org/licenses/by-sa/4.0/"
}
</script>
</head>
<body>

<div id='container'>

<main>
<nav class="breadcrumb">
<a href="http://text.baldanders.info/">text.Baldanders.info</a> &raquo; <a href="http://text.baldanders.info/remark/">しっぽのさきっちょ</a>
</nav>
<article>
<h1>gpgpdump 0.3.0 をリリースした</h1>
<nav class="tags">
<div><a href="/tags">Tags</a>: #<a href="/tags/golang">golang</a> #<a href="/tags/gpgpdump">gpgpdump</a> #<a href="/tags/openpgp">openpgp</a> #<a href="/tags/tools">tools</a></div>
<div><a href="https://github.com/spiegel-im-spiegel/spiegel-im-spiegel.github.io/commits/master/remark/2017/11/gpgpdump-0_3_0-released/index.html">History</a></div>
</nav>

<section><div>
<div style="float:right;margin-left:0.5rem;margin-bottom:0.5rem;padding-left:0.5rem;padding-bottom:0.5rem;">
<a href="http://www.baldanders.info/spiegel/log2/000820.shtml" title="Stop Fast Track TPP — Baldanders.info"><img src="http://www.baldanders.info/images/noextension.png" alt="no extension" width="165" height="50" /></a>
</div>


<p><a href="http://openpgp.org/">OpenPGP</a> パケットの内容を視覚化する <a href="https://github.com/spiegel-im-spiegel/gpgpdump" title="spiegel-im-spiegel/gpgpdump: OpenPGP packet visualizer">gpgpdump</a> の 0.3.0 をリリースした。</p>

<ul>
<li><a href="https://github.com/spiegel-im-spiegel/gpgpdump/releases/tag/v0.3.0">Release v0.3.0 · spiegel-im-spiegel/gpgpdump</a></li>
</ul>

<p>このバージョンでようやく <a href="http://www.mew.org/~kazu/proj/pgpdump/" title="pgpdump">pgpdump</a> に近い出力ができるようになった。</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">$ cat sig
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iF4EARMIAAYFAlTDCN8ACgkQMfv9qV+7+hg2HwEA6h2iFFuCBv3VrsSf2BREQaT1
T1ZprZqwRPOjiLJg9AwA/ArTwCPz7c2vmxlv7sRlRLUI6CdsOqhuO1KfYXrq7idI
=ZOTN
-----END PGP SIGNATURE-----

$ cat sig | gpgpdump -u
Signature Packet (tag 2) (94 bytes)
    Version: 4 (new)
    Signiture Type: Signature of a canonical text document (0x01)
    Public-key Algorithm: ECDSA public key algorithm (pub 19)
    Hash Algorithm: SHA256 (hash 8)
    Hashed Subpacket (6 bytes)
        Signature Creation Time (sub 2): 2015-01-24T02:52:15Z
    Unhashed Subpacket (10 bytes)
        Issuer (sub 16): 0x31fbfda95fbbfa18
    Hash left 2 bytes
        36 1f
    ECDSA r (256 bits)
    ECDSA s (252 bits)</code></pre></div>
<p>今までの TOML フォーマット出力を行うには <code>-t</code> または <code>--toml</code> オプションを付ければよい。</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">$ cat sig | gpgpdump -t -u
[[Packet]]
  name = &#34;Signature Packet (tag 2)&#34;
  note = &#34;94 bytes&#34;

  [[Packet.Item]]
    name = &#34;Version&#34;
    value = &#34;4&#34;
    note = &#34;new&#34;

  [[Packet.Item]]
    name = &#34;Signiture Type&#34;
    value = &#34;Signature of a canonical text document (0x01)&#34;

  [[Packet.Item]]
    name = &#34;Public-key Algorithm&#34;
    value = &#34;ECDSA public key algorithm (pub 19)&#34;

  [[Packet.Item]]
    name = &#34;Hash Algorithm&#34;
    value = &#34;SHA256 (hash 8)&#34;

  [[Packet.Item]]
    name = &#34;Hashed Subpacket&#34;
    note = &#34;6 bytes&#34;

    [[Packet.Item.Item]]
      name = &#34;Signature Creation Time (sub 2)&#34;
      value = &#34;2015-01-24T02:52:15Z&#34;

  [[Packet.Item]]
    name = &#34;Unhashed Subpacket&#34;
    note = &#34;10 bytes&#34;

    [[Packet.Item.Item]]
      name = &#34;Issuer (sub 16)&#34;
      value = &#34;0x31fbfda95fbbfa18&#34;

  [[Packet.Item]]
    name = &#34;Hash left 2 bytes&#34;
    dump = &#34;36 1f&#34;

  [[Packet.Item]]
    name = &#34;ECDSA r&#34;
    note = &#34;256 bits&#34;

  [[Packet.Item]]
    name = &#34;ECDSA s&#34;
    note = &#34;252 bits&#34;</code></pre></div>
<p>あとは “<a href="https://tools.ietf.org/html/rfc4880#section-5.6">Compressed Data Packet (Tag 8)</a>” に対応したことか。
これもようやく。</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">$ gpgpdump -u sig2
Compressed Data Packet (tag 8) (149 bytes)
    Compression Algorithm: ZIP &lt;RFC1951&gt; (comp 1)
        One-Pass Signature Packet (tag 4) (13 bytes)
            Version: 3 (new)
            Signiture Type: Signature of a binary document (0x00)
            Hash Algorithm: SHA256 (hash 8)
            Public-key Algorithm: DSA (Digital Signature Algorithm) (pub 17)
            Key ID: 0xb4da3bae7e20b81c
            Encrypted session key: other than one pass signature (01)
        Literal Data Packet (tag 11) (19 bytes)
            Literal data format: b (binary)
            File name: &lt;null&gt;
            Modification time of a file: 2017-11-25T06:29:56Z
            Literal data (13 bytes)
        Signature Packet (tag 2) (117 bytes)
            Version: 4 (new)
            Signiture Type: Signature of a binary document (0x00)
            Public-key Algorithm: DSA (Digital Signature Algorithm) (pub 17)
            Hash Algorithm: SHA256 (hash 8)
            Hashed Subpacket (29 bytes)
                Issuer Fingerprint (sub 33) (21 bytes)
                    Version: 4 (need 20 octets length)
                    Fingerprint (20 bytes)
                        1b 52 02 db 4a 3e c7 76 f1 e0 ad 18 b4 da 3b ae 7e 20 b8 1c
                Signature Creation Time (sub 2): 2017-11-25T06:29:56Z
            Unhashed Subpacket (10 bytes)
                Issuer (sub 16): 0xb4da3bae7e20b81c
            Hash left 2 bytes
                73 3c
            DSA r (256 bits)
            DSA s (255 bits)</code></pre></div>
<p><a href="https://tools.ietf.org/html/rfc1951" title="RFC 1951 - DEFLATE Compressed Data Format Specification version 1.3">RFC 1951</a> を <a href="https://golang.org/" title="The Go Programming Language">Go 言語</a>でどうやって実装するのか分からなくてさ。
<a href="https://golang.org/pkg/compress/flate/" title="flate - The Go Programming Language"><code>compress/flate</code></a> パッケージを使えばいいと気づくまで試行錯誤しちゃったよ（自作しなくて済んだ）。
この辺は<a href="http://text.baldanders.info/golang/compress-data/" title="Go 言語でデータ圧縮と解凍">別の記事</a>で紹介する。</p>

<p>現在のオプションはこんな感じ。</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">$ gpgpdump -h
Usage:
  gpgpdump [flags] [OpenPGP file]

Flags:
  -a, --armor     accepts ASCII input only
      --debug     for debug
  -h, --help      help for gpgpdump
  -i, --int       dumps multi-precision integers
  -j, --json      output with JSON format
  -l, --literal   dumps literal packets (tag 11)
  -m, --marker    dumps marker packets (tag 10)
  -p, --private   dumps private packets (tag 60-63)
  -t, --toml      output with TOML format
  -u, --utc       output with UTC time
  -v, --version   output version of gpgpdump</code></pre></div>
<p><code>--debug</code> オプションは主に私がテストするためののもの。
以前は隠し機能にしてたんだけど，正式なオプションとして昇格させた。
これを付けると出力がかなりウザいことになるので，普段はお勧めしない。</p>

<p>残りの TODO はこんな感じ。
欲しい機能はだいたい実装できたかな。</p>

<ul>
<li>パケット解析の未テスト部分を埋める（古いフォーマットのパケットのテストどうしよう）</li>
<li>実は ECC (<a href="https://tools.ietf.org/html/rfc6637" title="RFC 6637 - Elliptic Curve Cryptography (ECC) in OpenPGP">RFC 6637</a>) がよく分かってない。もしかしたら解釈を間違えているかもしれない</li>
</ul>

<p>個人的には，これで <a href="http://www.mew.org/~kazu/proj/pgpdump/" title="pgpdump">pgpdump</a> から置き換えてもいいかなぁ，ってところまできたかな。
テストが圧倒的に不足してるのでしばらくはデバッグに専念するけど。
でも，ようやく専念できるようになったよ（笑）</p>

<h2 id="ブックマーク">ブックマーク</h2>

<ul>
<li><a href="http://text.baldanders.info/remark/2016/02/gpgpdump-released/">gpgpdump - OpenPGP packet visualizer</a></li>
<li><a href="http://text.baldanders.info/remark/2017/11/gpgpdump-0_2_0-released/">gpgpdump 0.2.0 をリリースした</a></li>
</ul>

</div></section>

</article>
</main>
<nav class="page-nav">
<div class="prev-page">&laquo; <a href="/remark/2017/11/issuer-fingerprint-signature-subpacket-in-next-openpgp/">Issuer Fingerprint Signature Subpacket in Next OpenPGP</a></div>
<div class="next-page"><a href="/remark/2017/11/astronomical-calendar-2018/">2018年の主な暦象</a> &raquo;</div>
</nav>

<aside id='tech-terms'>
<style>
#tech-terms h1 {
  border: solid thin gray;
  margin: 0 0 1rem 0;
  padding: 0 0.5rem 2px 2px;
}
</style>
<h1>Technical Terms</h1>
<div class="cloud" style="font-size:smaller;">
<script src="http://e-words.jp/embed.x?e=utf8"></script>
<p class="right">Powered by <a href="http://e-words.jp/p/s-embed.html">e-Words</a></p>
</div>
</aside>
<aside id='feedback'>
<style>
#feedback h1 {
  border: solid thin gray;
  margin: 0 0 1rem 0;
  padding: 0 0.5rem 2px 2px;
}
</style>
<h1>Feedback</h1>
<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "textbaldandersinfo" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</aside>
<footer>

	<div class="userinfo">
		<div class="userinfo-avater">
			
				<a href="http://www.baldanders.info/spiegel/profile/"><img src="/images/avatar.jpg" width="48" height="48" alt="avatar"></a>
			
		</div>
		<div class="userinfo-info" id="maker">
			
				Written by <a href="http://www.baldanders.info/spiegel/profile/" rel="cc:attributionURL" property="cc:attributionName">Spiegel</a> in <time property='dc:dateCopyrighted'>2017-11-26</time> (revised in <time property='dc:modified'>2017-12-04</time>).
				
	<a rel='cc:license' href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank"><i class="fab fa-creative-commons"></i>&nbsp;<i class="fab fa-creative-commons-by"></i>&nbsp;<i class="fab fa-creative-commons-sa"></i></a>

			
			
	<ul class="social">
		<li><a href="https://github.com/spiegel-im-spiegel" target="_blank"><span class="github-color"><i class="fab fa-github"></i></span></a></li>
		<li><a href="https://twitter.com/spiegel_2007" target="_blank"><span class="twitter-color"><i class="fab fa-twitter"></i></span></a></li>
		
		<li><a href="http://spiegel-im-spiegel.tumblr.com/" target="_blank"><span class="tumblr-color"><i class="fab fa-tumblr"></i></span></a></li>
		<li><a href="http://instagram.com/spiegel_2007" target="_blank"><span class="instagram-color"><i class="fab fa-instagram"></i></span></a></li>
		<li><a href="https://www.flickr.com/photos/spiegel/" target="_blank"><span class="flickr-color"><i class="fab fa-flickr"></i></span></a></li>
		<li><a href="https://www.facebook.com/spiegel.im.spiegel" target="_blank"><span class="facebook-color"><i class="fab fa-facebook-f"></i></span></a></li>
		<li><a href="https://jp.linkedin.com/in/spiegelimspiegel" target="_blank"><span class="linkedin-color"><i class="fab fa-linkedin-in"></i></span></a></li>
		
	</ul>
	<ul class="social">
		<li><a href="http://www.facebook.com/share.php?u=http%3a%2f%2ftext.baldanders.info%2fremark%2f2017%2f11%2fgpgpdump-0_3_0-released%2f" target="_blank"><span class="facebook-color"><i class="fab fa-facebook-square fa-2x" aria-hidden="true"></i></span></a></li>
		<li><a href="http://twitter.com/share?text=gpgpdump%200.3.0%20%e3%82%92%e3%83%aa%e3%83%aa%e3%83%bc%e3%82%b9%e3%81%97%e3%81%9f+from+@spiegel_2007&amp;url=http%3a%2f%2ftext.baldanders.info%2fremark%2f2017%2f11%2fgpgpdump-0_3_0-released%2f" target="_blank"><span class="twitter-color"><i class="fab fa-twitter-square fa-2x" aria-hidden="true"></i></span></a></li>
		<li><a href="https://flattr.com/submit/auto?user_id=spiegel&amp;url=http%3a%2f%2ftext.baldanders.info%2fremark%2f2017%2f11%2fgpgpdump-0_3_0-released%2f&amp;title=gpgpdump%200.3.0%20%e3%82%92%e3%83%aa%e3%83%aa%e3%83%bc%e3%82%b9%e3%81%97%e3%81%9f" target="_blank"><img src="//button.flattr.com/flattr-badge-large.png" alt="Flattr this" title="Flattr this"></a></li>
	</ul>

		</div>
	</div>

<nav>
<ul class='cloud center'>
<li><a href='https://github.com/spiegel-im-spiegel/spiegel-im-spiegel.github.io'>Repository</a></li>
<li><a href='/reviews/'>Reviews</a></li>
<li><a href='/about-feeds/'>Feeds</a></li>
<li><a href='/site-policy/'>Site Policy</a></li>
<li><a href='https://validator.w3.org/nu/?doc=http%3a%2f%2ftext.baldanders.info%2fremark%2f2017%2f11%2fgpgpdump-0_3_0-released%2f&amp;showoutline=yes'>Debug</a></li>
</ul>
<ul class='cloud center'>
<li><a href='http://www.baldanders.info/'>Baldanders.info</a></li>
<li><a href='https://scrapbox.io/spiegel-branch/'>Scrapbox</a></li>
<li><a href='http://qiita.com/spiegel-im-spiegel'>Qiita</a></li>
</ul>
<ul class='cloud center'>
<li>Powered by <a href='https://gohugo.io/'>Hugo 0.50</a> and <a href="https://github.com/spiegel-im-spiegel/hugo-theme-text">Text</a>.</li>
</ul>
</nav>
</footer>
</div>


</body>
</html>
