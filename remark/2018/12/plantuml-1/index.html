<!DOCTYPE html>
<html lang="ja">
<head prefix="og: http://ogp.me/ns#">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Hugo 0.152.2">
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="https://text.baldanders.info/remark/2018/12/plantuml-1/">
<script defer src="/fa/js/all.min.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=BIZ+UDGothic:wght@400;700&family=BIZ+UDMincho:wght@400;700&family=Intel+One+Mono:wght@400;700&family=Noto+Color+Emoji&family=Noto+Sans:wght@400;700&family=Noto+Serif+Hentaigana:wght@400;700&family=Noto+Serif:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/css/local-font.css" type='text/css'>
<link rel="stylesheet" href="/css/baldanders-info-dark.css" type='text/css'>

<link rel="alternate" href="https://text.baldanders.info/index.xml" type="application/rss+xml" title="text.Baldanders.info">
<link rel="alternate" href="https://text.baldanders.info/index.json" type="application/json" title="text.Baldanders.info">
<meta name="google-site-verification" content="jTjBCslPtf8gwVatiY-GDgGv7pV5csa8aUOw1MRPUD4">
<link rel="me" href="https://fedibird.com/@spiegel">
<title>真面目に PlantUML (1) : PlantUML のインストール [text.Baldanders.info]</title>
<meta property="og:title" content="真面目に PlantUML (1) : PlantUML のインストール">
<meta name="description" content=" せっかく時間ができたのだから PlantUML についてちゃんと調べてみることにした。">
<meta property="og:description" content=" せっかく時間ができたのだから PlantUML についてちゃんと調べてみることにした。">
<meta property="og:image" content="https://text.baldanders.info/images/attention/kitten.jpg">
<meta name="author" content="Spiegel">


<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@spiegel_2007">
<meta name="twitter:creator" content="@spiegel_2007">
<link rel="me" href="https://goark.fedicity.net/@spiegel">
<meta name="keywords" content="java, plantuml, uml, tools">
<link rel='prev' href='https://text.baldanders.info/remark/2018/12/move-with-trello/' title='Trello で引っ越し'>
<link rel='next' href='https://text.baldanders.info/remark/2018/12/plantuml-2-sequence-diagram/' title='真面目に PlantUML (2) : シーケンス図'>

<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "WebSite",
	"@id": "https://text.baldanders.info/",
	"inLanguage": "ja",
	"name": "text.Baldanders.info",
    "url": "https://text.baldanders.info/",
	"publisher": {
		"@id": "https://text.baldanders.info/#org"
	},
	"author": {
		"@id": "https://text.baldanders.info/#maker"
	},
	"image": "https://text.baldanders.info/images/attention/site.jpg",
	"description": "帰ってきた「しっぽのさきっちょ」"
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Organization",
	"@id": "https://text.baldanders.info/#org",
	"name": "Spiegel",
	"logo": {
		"@type": "ImageObject",
		"@id": "https://text.baldanders.info/#logo",
		"url": "https://text.baldanders.info/images/avatar.jpg"
	}
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Person",
	"@id": "https://text.baldanders.info/#maker",
	"name": "Spiegel",
	"url": "https://baldanders.info/profile/",
	"image": "https://text.baldanders.info/images/avatar.jpg"
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Blog",
	"@id": "https://text.baldanders.info/remark/",
	"url": "https://text.baldanders.info/remark/",
	"inLanguage": "ja",
	"name": "しっぽのさきっちょ",
	"description": "帰ってきた「しっぽのさきっちょ」。とりとめのない四方山話。",
	"image": "https://text.baldanders.info/images/attention/remark.jpg",
	"publisher": {
		"@id": "https://text.baldanders.info/#org"
	},
	"author": {
		"@id": "https://text.baldanders.info/#maker"
	}
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "BreadcrumbList",
	"@id": "https://text.baldanders.info/remark/2018/12/plantuml-1/#breadcrumb-list",
	"itemListElement": [
		{
			"@type": "ListItem",
			"position": 1,
			"item": {
				"@id": "https://text.baldanders.info/"
			}
		},
		{
			"@type": "ListItem",
			"position": 2,
			"item": {
				"@id": "https://text.baldanders.info/remark/"
			}
		}
	]
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "BlogPosting",
	"@id": "https://text.baldanders.info/remark/2018/12/plantuml-1/",
	"url": "https://text.baldanders.info/remark/2018/12/plantuml-1/",
	"mainEntityOfPage": "https://text.baldanders.info/remark/2018/12/plantuml-1/",
	"inLanguage": "ja",
	"name": "真面目に PlantUML (1) : PlantUML のインストール",
	"description": " せっかく時間ができたのだから PlantUML についてちゃんと調べてみることにした。",
	"headline": " せっかく時間ができたのだから PlantUML についてちゃんと調べてみることにした。",
	"keywords": "java, plantuml, uml, tools",
	"image": "https://text.baldanders.info/images/attention/kitten.jpg",
	"datePublished": "2018-12-27T10:55:14+00:00",
	"dateModified": "2021-11-13T01:33:39+00:00",
	"publisher": {
		"@id": "https://text.baldanders.info/#org"
	},
	"author": {
		"@id": "https://text.baldanders.info/#maker"
	},
	"license": "https://creativecommons.org/licenses/by-sa/4.0/"
}
</script>
</head>
<body>

<div id='container'>

<main>
<nav class="breadcrumb">
<a href="https://text.baldanders.info/">text.Baldanders.info</a> &raquo; <a href="/remark/">しっぽのさきっちょ</a>
</nav>
<article>
<h1>真面目に PlantUML (1) : PlantUML のインストール</h1>
<nav class="tags">
	<div><a href='/tags/'>Tags</a>: #<a href="/tags/java/">java</a> #<a href="/tags/plantuml/">plantuml</a> #<a href="/tags/tools/">tools</a> #<a href="/tags/uml/">uml</a></div>
	<div class="cloud">
		<span class="share-color" title="Share this entry"><i class="fa-solid fa-share-from-square"></i></span>&nbsp;:
		&nbsp;<a href="https://getpocket.com/edit?url=https%3a%2f%2ftext.baldanders.info%2fremark%2f2018%2f12%2fplantuml-1%2f&amp;title=%e7%9c%9f%e9%9d%a2%e7%9b%ae%e3%81%ab%20PlantUML%20%281%29%20%3a%20PlantUML%20%e3%81%ae%e3%82%a4%e3%83%b3%e3%82%b9%e3%83%88%e3%83%bc%e3%83%ab" target="_blank"><span class="pocket-color"><abbr title="Share Pocket"><i class="fab fa-get-pocket" aria-hidden="true"></i></abbr></span></a>
		&nbsp;<a href="http://www.facebook.com/share.php?u=https%3a%2f%2ftext.baldanders.info%2fremark%2f2018%2f12%2fplantuml-1%2f" target="_blank"><span class="facebook-color"><abbr title="Share facebook"><i class="fab fa-square-facebook" aria-hidden="true"></i></abbr></span></a>
		&nbsp;<a href="http://twitter.com/share?text=%e7%9c%9f%e9%9d%a2%e7%9b%ae%e3%81%ab%20PlantUML%20%281%29%20%3a%20PlantUML%20%e3%81%ae%e3%82%a4%e3%83%b3%e3%82%b9%e3%83%88%e3%83%bc%e3%83%ab+by+@spiegel_2007&amp;url=https%3a%2f%2ftext.baldanders.info%2fremark%2f2018%2f12%2fplantuml-1%2f" target="_blank"><span class="x-twitter-color"><abbr title="Share Twitter"><i class="fa-brands fa-square-x-twitter" aria-hidden="true"></i></abbr></span></a>
		&nbsp;<a href="https://donshare.net/share.html?text=%e7%9c%9f%e9%9d%a2%e7%9b%ae%e3%81%ab%20PlantUML%20%281%29%20%3a%20PlantUML%20%e3%81%ae%e3%82%a4%e3%83%b3%e3%82%b9%e3%83%88%e3%83%bc%e3%83%ab+by+@spiegel%40goark.fedicity.net%20+https%3a%2f%2ftext.baldanders.info%2fremark%2f2018%2f12%2fplantuml-1%2f" target="_blank"><span class="mastodon-color"><abbr title="Share Mastodon"><i class="fa-brands fa-mastodon" aria-hidden="true"></i></abbr></span></a>
	</div>
</nav>
<nav class="history">History in
  <a href="https://github.com/spiegel-im-spiegel/spiegel-im-spiegel.github.io/commits/master/remark/2018/12/plantuml-1/index.html">GitHub Page</a>
</nav>

<section><div>
<div class="noextension">
<a href="https://baldanders.info/public-domain-locked/" title="Public Domain Locked... | Baldanders.info"><img src="/images/Locked-150.png" alt="no extension" width="150"></a>
</div>
<p>1年ほど前に <a href="https://atom.io/" title="Atom">ATOM</a> エディタを使って <a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> を使って UML で遊んだのだが， <a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> 自体は「とりあえず動かしてみた」というレベルできちんと調べていなかった。
せっかく時間ができたのだから，この機会にちゃんと調べてみることにした。</p>
<h2>目次</h2>
<ol>
<li><a href="https://text.baldanders.info/remark/2018/12/plantuml-1/">PlantUML のインストール</a> ← イマココ</li>
<li><a href="https://text.baldanders.info/remark/2018/12/plantuml-2-sequence-diagram/">シーケンス図</a></li>
<li><a href="https://text.baldanders.info/remark/2018/12/plantuml-3-class-diagrams/">クラス図</a></li>
<li><a href="https://text.baldanders.info/remark/2019/07/plantuml-4-entity-relationship-diagrams/">実体関連図</a></li>
</ol>
<h2><a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> のインストール</h2>
<p><a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> は UML (Unified Modeling Language; 統一モデリング言語) を記述するための DSL (Domain-Specific Language; ドメイン特化言語) と考えてよい。
UML の構文（に相当するもの）は図形で表されるが，それをテキストで記述できるようにしたのが <a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> である。
<a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> では UML 2.0 のうち以下の図（Diagrams）を作成できるようだ。</p>
<ul>
<li>構造図（Structural Diagrams）
<ul>
<li><a href="http://plantuml.com/class-diagram">クラス図（Class Diagram）</a> ※同じ機能でパッケージ図も作成可能</li>
<li><a href="http://plantuml.com/object-diagram">オブジェクト図（Object Diagram）</a></li>
<li><a href="http://plantuml.com/component-diagram">コンポーネント図（Component Diagram）</a></li>
<li><a href="http://plantuml.com/deployment-diagram">配置図（Deployment Diagram）</a></li>
</ul>
</li>
<li>振る舞い図（Behavioral Diagrams）
<ul>
<li><a href="http://plantuml.com/use-case-diagram">ユースケース図（Use Case Diagram）</a></li>
<li><a href="http://plantuml.com/activity-diagram-beta">アクティビティ図（Activity Diagram）</a> ※ベータ版</li>
<li><a href="http://plantuml.com/state-diagram">状態遷移図（State Machine Diagram）</a></li>
<li><a href="http://plantuml.com/sequence-diagram">シーケンス図（Sequence Diagram）</a></li>
<li><a href="http://plantuml.com/timing-diagram">タイミング図（Timing Diagram）</a></li>
</ul>
</li>
</ul>
<p><a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> の実行モジュールは Java の jar ファイルで提供されている。
<a href="http://plantuml.com/download">ダウンロードページ</a>から最新の <code>plantuml.jar</code> ファイルをダウンロードしてそのまま使える。</p>
<p><a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> を実行するには Java のランタイム環境を用意する必要がある。
最新の <a href="http://openjdk.java.net/">OpenJDK</a> を使って問題ない。
<a href="https://www.ubuntu.com/" title="The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu">Ubuntu</a> であれば <a href="https://debian-handbook.info/browse/ja-JP/stable/apt.html" title="第 6 章 メンテナンスと更新、APT ツール">APT</a> で Java ランタイム環境をインストールできる。
たとえば LTS バージョンの Java 11 であれば</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ sudo apt install openjdk-11-jre
</span></span></code></pre></div><p>でOK。</p>
<p><a href="http://plantuml.com/sequence-diagram">シーケンス図</a>と<a href="http://plantuml.com/activity-diagram-beta">アクティビティ図</a>以外は <a href="https://graphviz.gitlab.io/_pages/doc/info/lang.html" title="The DOT Language">DOT 言語</a>にトランス・コンパイルされるため，別途 <a href="http://graphviz.org/" title="Graphviz - Graph Visualization Software">Graphviz</a> もインストールする必要がある。
<a href="http://graphviz.org/" title="Graphviz - Graph Visualization Software">Graphviz</a> は<a href="http://graphviz.org/download/">ダウンロードページ</a>等から取得できる。
<a href="https://www.ubuntu.com/" title="The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu">Ubuntu</a> であれば <a href="https://debian-handbook.info/browse/ja-JP/stable/apt.html" title="第 6 章 メンテナンスと更新、APT ツール">APT</a> でインストールできる。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ sudo apt install graphviz
</span></span></code></pre></div><p>全ての用意ができたら <code>plantuml.jar</code> ファイルのあるフォルダで以下のコマンドを入力し動作確認しておこう（以下は <a href="https://www.ubuntu.com/" title="The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu">Ubuntu</a> 環境下での例）。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ java -jar plantuml.jar -version
</span></span><span class="line"><span class="cl">PlantUML version 1.2019.11 (Sun Sep 22 19:02:15 JST 2019)
</span></span><span class="line"><span class="cl">(GPL source distribution)
</span></span><span class="line"><span class="cl">Java Runtime: OpenJDK Runtime Environment
</span></span><span class="line"><span class="cl">JVM: OpenJDK 64-Bit Server VM
</span></span><span class="line"><span class="cl">Java Version: 13.0.1+9
</span></span><span class="line"><span class="cl">Operating System: Linux
</span></span><span class="line"><span class="cl">Default Encoding: UTF-8
</span></span><span class="line"><span class="cl">Language: ja
</span></span><span class="line"><span class="cl">Country: JP
</span></span><span class="line"><span class="cl">...
</span></span></code></pre></div><p><a href="http://graphviz.org/" title="Graphviz - Graph Visualization Software">Graphviz</a> との連携をテストするには以下のコマンドを実行する。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ java -jar plantuml.jar -testdot
</span></span><span class="line"><span class="cl">The environment variable GRAPHVIZ_DOT has not been set
</span></span><span class="line"><span class="cl">Dot executable is /usr/bin/dot
</span></span><span class="line"><span class="cl">Dot version: dot - graphviz version 2.40.1 (20161225.0304)
</span></span><span class="line"><span class="cl">Installation seems OK. File generation OK
</span></span></code></pre></div><h2>コマンドライン・オプション</h2>
<p><a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> のコマンドライン・オプションは以下の通り。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ java -jar plantuml.jar -h
</span></span><span class="line"><span class="cl">Usage: java -jar plantuml.jar [options] -gui
</span></span><span class="line"><span class="cl">        (to execute the GUI)
</span></span><span class="line"><span class="cl">    or java -jar plantuml.jar [options] [file/dir] [file/dir] [file/dir]
</span></span><span class="line"><span class="cl">        (to process files or directories)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">You can use the following wildcards in files/dirs:
</span></span><span class="line"><span class="cl">        *       means any characters but &#39;/&#39;
</span></span><span class="line"><span class="cl">        ?       one and only one character but &#39;/&#39;
</span></span><span class="line"><span class="cl">        **      means any characters (used to recurse through directories)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">where options include:
</span></span><span class="line"><span class="cl">    -gui                To run the graphical user interface
</span></span><span class="line"><span class="cl">    -tpng               To generate images using PNG format (default)
</span></span><span class="line"><span class="cl">    -tsvg               To generate images using SVG format
</span></span><span class="line"><span class="cl">    -teps               To generate images using EPS format
</span></span><span class="line"><span class="cl">    -tpdf               To generate images using PDF format
</span></span><span class="line"><span class="cl">    -tvdx               To generate images using VDX format
</span></span><span class="line"><span class="cl">    -txmi               To generate XMI file for class diagram
</span></span><span class="line"><span class="cl">    -tscxml             To generate SCXML file for state diagram
</span></span><span class="line"><span class="cl">    -thtml              To generate HTML file for class diagram
</span></span><span class="line"><span class="cl">    -ttxt               To generate images with ASCII art
</span></span><span class="line"><span class="cl">    -tutxt              To generate images with ASCII art using Unicode characters
</span></span><span class="line"><span class="cl">    -tlatex             To generate images using LaTeX/Tikz format
</span></span><span class="line"><span class="cl">    -tlatex:nopreamble  To generate images using LaTeX/Tikz format without preamble
</span></span><span class="line"><span class="cl">    -o[utput] &#34;dir&#34;     To generate images in the specified directory
</span></span><span class="line"><span class="cl">    -DVAR1=value        To set a preprocessing variable as if &#39;!define VAR1 value&#39; were used
</span></span><span class="line"><span class="cl">    -Sparam1=value      To set a skin parameter as if &#39;skinparam param1 value&#39; were used
</span></span><span class="line"><span class="cl">    -r[ecurse]          recurse through directories
</span></span><span class="line"><span class="cl">    -I/path/to/file     To include file as if &#39;!include file&#39; were used
</span></span><span class="line"><span class="cl">    -I/path/to/*.puml   To include files with pattern
</span></span><span class="line"><span class="cl">    -charset xxx        To use a specific charset (default is UTF-8)
</span></span><span class="line"><span class="cl">    -e[x]clude pattern  To exclude files that match the provided pattern
</span></span><span class="line"><span class="cl">    -metadata           To retrieve PlantUML sources from PNG images
</span></span><span class="line"><span class="cl">    -nometadata         To NOT export metadata in PNG/SVG generated files
</span></span><span class="line"><span class="cl">    -checkmetadata      Skip PNG files that don&#39;t need to be regenerated
</span></span><span class="line"><span class="cl">    -version            To display information about PlantUML and Java versions
</span></span><span class="line"><span class="cl">    -checkversion       To check if a newer version is available for download
</span></span><span class="line"><span class="cl">    -v[erbose]          To have log information
</span></span><span class="line"><span class="cl">    -quiet              To NOT print error message into the console
</span></span><span class="line"><span class="cl">    -debugsvek          To generate intermediate svek files
</span></span><span class="line"><span class="cl">    -h[elp]             To display this help message
</span></span><span class="line"><span class="cl">    -testdot            To test the installation of graphviz
</span></span><span class="line"><span class="cl">    -graphvizdot &#34;exe&#34;  To specify dot executable
</span></span><span class="line"><span class="cl">    -p[ipe]             To use stdin for PlantUML source and stdout for PNG/SVG/EPS generation
</span></span><span class="line"><span class="cl">    -encodesprite 4|8|16[z] &#34;file&#34;      To encode a sprite at gray level (z for compression) from an image
</span></span><span class="line"><span class="cl">    -computeurl|-encodeurl      To compute the encoded URL of a PlantUML source file
</span></span><span class="line"><span class="cl">    -decodeurl          To retrieve the PlantUML source from an encoded URL
</span></span><span class="line"><span class="cl">    -syntax             To report any syntax error from standard input without generating images
</span></span><span class="line"><span class="cl">    -language           To print the list of PlantUML keywords
</span></span><span class="line"><span class="cl">    -checkonly          To check the syntax of files without generating images
</span></span><span class="line"><span class="cl">    -failfast           To stop processing as soon as a syntax error in diagram occurs
</span></span><span class="line"><span class="cl">    -failfast2          To do a first syntax check before processing files, to fail even faster
</span></span><span class="line"><span class="cl">    -pattern            To print the list of Regular Expression used by PlantUML
</span></span><span class="line"><span class="cl">    -duration           To print the duration of complete diagrams processing
</span></span><span class="line"><span class="cl">    -nbthread N         To use (N) threads for processing
</span></span><span class="line"><span class="cl">    -nbthread auto      To use 4 threads for processing
</span></span><span class="line"><span class="cl">    -timeout N          Processing timeout in (N) seconds. Defaults to 15 minutes (900 seconds).
</span></span><span class="line"><span class="cl">    -author[s]          To print information about PlantUML authors
</span></span><span class="line"><span class="cl">    -overwrite          To allow to overwrite read only files
</span></span><span class="line"><span class="cl">    -printfonts         To print fonts available on your system
</span></span><span class="line"><span class="cl">    -enablestats        To enable statistics computation
</span></span><span class="line"><span class="cl">    -disablestats       To disable statistics computation (default)
</span></span><span class="line"><span class="cl">    -htmlstats          To output general statistics in file plantuml-stats.html
</span></span><span class="line"><span class="cl">    -xmlstats           To output general statistics in file plantuml-stats.xml
</span></span><span class="line"><span class="cl">    -realtimestats      To generate statistics on the fly rather than at the end
</span></span><span class="line"><span class="cl">    -loopstats          To continuously print statistics about usage
</span></span><span class="line"><span class="cl">    -splash             To display a splash screen with some progress bar
</span></span><span class="line"><span class="cl">    -progress           To display a textual progress bar in console
</span></span><span class="line"><span class="cl">    -pipeimageindex N   To generate the Nth image with pipe option
</span></span><span class="line"><span class="cl">    -stdlib             To print standard library info
</span></span><span class="line"><span class="cl">    -extractstdlib      To extract PlantUML Standard Library into stdlib folder
</span></span><span class="line"><span class="cl">    -filename &#34;example.puml&#34;    To override %filename% variable
</span></span><span class="line"><span class="cl">    -preproc            To output preprocessor text of diagrams
</span></span><span class="line"><span class="cl">    -cypher             To cypher texts of diagrams so that you can share them
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">If needed, you can setup the environment variable GRAPHVIZ_DOT.
</span></span></code></pre></div><p>かなりの数のオプションがあるが，よく使うのは以下のものだろうか。</p>
<table>
  <thead>
      <tr>
          <th>オプション</th>
          <th>内容</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>-tpng</code></td>
          <td>PNG 形式で出力（既定値）</td>
      </tr>
      <tr>
          <td><code>-tsvg</code></td>
          <td>SVG 形式で出力</td>
      </tr>
      <tr>
          <td><code>-teps</code></td>
          <td>EPS 形式で出力</td>
      </tr>
      <tr>
          <td><code>-tpdf</code></td>
          <td>PDF 形式で出力</td>
      </tr>
      <tr>
          <td><code>-tlatex</code></td>
          <td>LaTeX/Tikz 形式で出力</td>
      </tr>
      <tr>
          <td><code>-tlatex:nopreamble</code></td>
          <td>LaTeX/Tikz 形式で出力（プリアンブルなし）</td>
      </tr>
      <tr>
          <td><code>-o[utput] &quot;dir&quot;</code></td>
          <td>指定したフォルダに出力</td>
      </tr>
      <tr>
          <td><code>-charset xxx</code></td>
          <td>文字エンコーディングの指定</td>
      </tr>
      <tr>
          <td><code>-nometadata</code></td>
          <td>PNG/SVG 出力にメタデータを含めない</td>
      </tr>
      <tr>
          <td><code>-p[ipe]</code></td>
          <td>入出力をパイプで行う</td>
      </tr>
  </tbody>
</table>
<h2>みんな大好き Hello World</h2>
<p>では簡単なコードを処理してみよう。</p>
<p><code>hello.puml</code> という名前のファイルを用意して以下のように入力する。</p>
<pre tabindex="0"><code class="language-puml" data-lang="puml">@startuml

Alice-&gt;Bob : hello
Alice&lt;-Bob : はろー

@enduml
</code></pre><p><a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> ではドキュメントの中にコードを埋め込むことを想定して <code>@startuml ... @enduml</code> 内の記述のみが処理の対象となる。</p>
<p>ではこのファイルを処理してみよう。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ java -jar plantuml.jar -charset UTF-8 hello.puml
</span></span></code></pre></div><p>これで <code>hello.puml</code> と同じフォルダに <code>hello.png</code> ファイルが出力される。
<code>hello.png</code> ファイルの内容は以下の通り。</p>
<figure style='margin:0 auto;text-align:center;'><a href="./hello.puml"><img src="./hello.png" srcset="./hello.png 500w" sizes="(min-width:600px) 500px, 80vw" alt="" loading="lazy"></a></figure>
<p>って，ちっちゃ！
じゃあ，解像度を調節してもう少し大きくしてみよう。</p>
<pre tabindex="0"><code class="language-puml" data-lang="puml">@startuml

skinparam dpi 300

Alice-&gt;Bob : hello
Alice&lt;-Bob : はろー

@enduml</code></pre>
<p>これを処理するとこうなる。</p>
<figure style='margin:0 auto;text-align:center;'><a href="./hello2.puml"><img src="./hello2.png" srcset="./hello2.png 500w" sizes="(min-width:600px) 500px, 80vw" alt="" loading="lazy"></a></figure>
<p>おおっ。
おっきくなった。</p>
<h2>見た目の調整</h2>
<p>上の例で示したように <a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> では <code>skinparam</code> コマンドを使って見た目の調整ができる。
では，もう少し調整を入れて UML っぽい図にしてみる。</p>
<pre tabindex="0"><code class="language-puml" data-lang="puml">@startuml

skinparam shadowing false
skinparam backgroundColor transparent
skinparam dpi 300

skinparam arrow {
  FontColor Black
  FontName Noto Serif JP
  FontSize 10
  FontStyle plain
  Color Black
  Thickness 1
}
skinparam participant {
  FontColor Black
  FontName Noto Sans
  FontSize 14
  FontStyle plain
  BackgroundColor WhiteSmoke
  BorderColor Black
  BorderThickness 1
  Padding 20
}
skinparam sequence {
  LifeLineBackgroundColor transparent
  LifeLineBorderColor Black
  LifeLineBorderThickness 1
  MessageAlignment center
}
hide footbox
skinparam BoxPadding 10

Alice-&gt;Bob : hello
Alice&lt;-Bob : はろー

@enduml</code></pre>
<p>フォントの変更と線の色と太さを調節してみた。
またライフラインの間隔も調整している。
以上を処理するとこんな図になる。</p>
<figure style='margin:0 auto;text-align:center;'><a href="./hello3.puml"><img src="./hello3.png" srcset="./hello3.png 500w" sizes="(min-width:600px) 500px, 80vw" alt="" loading="lazy"></a></figure>
<h2>見た目の指定を別ファイルに分離する</h2>
<p>見た目の指定は別ファイルにして再利用したいところである。
そこで <code>hello.iuml</code> ファイルを作成して <code>skinparam</code> コマンドの内容をまるっと移動してみる。</p>
<pre tabindex="0"><code class="language-puml" data-lang="puml">skinparam shadowing false
skinparam backgroundColor transparent
skinparam dpi 300

skinparam arrow {
  FontColor Black
  FontName Noto Serif JP
  FontSize 10
  FontStyle plain
  Color Black
  Thickness 1
}
skinparam participant {
  FontColor Black
  FontName Noto Sans
  FontSize 14
  FontStyle plain
  BackgroundColor WhiteSmoke
  BorderColor Black
  BorderThickness 1
  Padding 20
}
skinparam sequence {
  LifeLineBackgroundColor transparent
  LifeLineBorderColor Black
  LifeLineBorderThickness 1
  MessageAlignment center
}
hide footbox
skinparam BoxPadding 10
</code></pre><p>このファイルをインクルードする形でコードを修正する。</p>
<pre tabindex="0"><code class="language-puml" data-lang="puml">@startuml

!include hello.iuml

Alice-&gt;Bob : hello
Alice&lt;-Bob : はろー

@enduml</code></pre>
<p>これを処理すると</p>
<figure style='margin:0 auto;text-align:center;'><a href="./hello4.puml"><img src="./hello4.png" srcset="./hello4.png 500w" sizes="(min-width:600px) 500px, 80vw" alt="" loading="lazy"></a></figure>
<p>先程と全く同じ結果が得られる。</p>
<p>また最初の</p>
<pre tabindex="0"><code class="language-puml" data-lang="puml">@startuml

Alice-&gt;Bob : hello
Alice&lt;-Bob : はろー

@enduml
</code></pre><p>に対して</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">$ java -jar plantuml.jar -charset UTF-8 -config hello.iuml hello.puml
</span></span></code></pre></div><p>と <code>-config</code> オプションで <code>hello.iuml</code> ファイルを指定しても同じ結果が得られる。
これで再利用しやすくなっただろう。</p>
<h2>【追記】 <a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> のコメント</h2>
<p><a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> の <code>@startuml ... @enduml</code> 領域内にコメントを記述する際には以下の２通りの書き方がある。</p>
<pre tabindex="0"><code class="language-puml" data-lang="puml">@startuml

&#39; 一行コメント

/&#39;
複数行に渡る
コメント
&#39;/

@enduml
</code></pre><p>なお，行の途中からコメントを挿入する</p>
<pre tabindex="0"><code class="language-puml" data-lang="puml">@startuml

skinparam dpi 300 &#39;解像度の設定

@enduml
</code></pre><p>のような記述はできない（しかも行がまるごと無視されるだけでエラーにもならない）のでご注意を。</p>
<h2>ブックマーク</h2>
<ul>
<li>
<p><a href="http://www.itsenka.com/contents/development/uml/">UML入門 - IT専科</a></p>
</li>
<li>
<p><a href="http://plantuml.com/skinparam">Changing colors and fonts</a></p>
</li>
<li>
<p><a href="http://plantuml.com/command-line">call it from your script using command line</a></p>
</li>
<li>
<p><a href="http://yohshiy.blog.fc2.com/blog-entry-152.html">PlantUML の使い方 | プログラマーズ雑記帳</a></p>
</li>
<li>
<p><a href="https://qiita.com/ogomr/items/97058a87337eaa2ba21a">PlantUML Example for RDRA 2.0 ハンドブック - Qiita</a></p>
</li>
<li>
<p><a href="https://zenn.dev/kitabatake/articles/plantuml-layout">PlantUMLのレイアウトのコツと指定方法についてのまとめ</a></p>
</li>
<li>
<p><a href="https://future-architect.github.io/articles/20211108a/">PlantUMLのテーマ（思わぬ展開） | フューチャー技術ブログ</a></p>
</li>
<li>
<p><a href="https://zenn.dev/spiegel/articles/20211107-visualize-json-by-plantuml">PlantUML で JSON データを簡単視覚化</a></p>
</li>
</ul>

</div></section>

</article>
</main>
<nav class="page-nav">
<div class="prev-page">&laquo; <a href="/remark/2018/12/move-with-trello/">Trello で引っ越し</a></div>
<div class="next-page"><a href="/remark/2018/12/plantuml-2-sequence-diagram/">真面目に PlantUML (2) : シーケンス図</a> &raquo;</div>
</nav>

<aside class="feedback" id='feedback'>
<h1>Feedback</h1>
<p>GitHub に<a href="https://github.com/spiegel-im-spiegel/github-pages-env/discussions">フィードバック用のディスカッションページ</a>を用意しました。
書き込みには GitHub のアカウントが必要ですが，お気軽にご利用ください。</p>
<p>他のフィードバック手段として Mastodon などの SNS や電子メールも利用できます。電子メールを利用する際の公開鍵は<a href="https://baldanders.info/profile/">プロフィール</a>から取得できます。</p>
</aside>
<footer>


<div class="userinfo">
	<div class="userinfo-avater">
		<a href="https://baldanders.info/profile/"><img src="https://text.baldanders.info/images/avatar.jpg" width="48" height="48" alt="avatar" id="logo"></a>
	</div>
	<div class="userinfo-info" id="maker">
		Text by <a href="https://baldanders.info/profile/" rel="cc:attributionURL" property="cc:attributionName">Spiegel</a>
		in <time property='dc:dateCopyrighted'>2018-12-27</time> (revised in 2021-11-13)
		<a rel='cc:license' href="https://creativecommons.org/licenses/by-sa/4.0/"><i class="fab fa-creative-commons"></i>&nbsp;<i class="fab fa-creative-commons-by"></i>&nbsp;<i class="fab fa-creative-commons-sa"></i></a>
		<ul class="social"><li><a rel="me" href="https://github.com/spiegel-im-spiegel"><span class="github-color"><abbr title="GitHub"><i class="fab fa-github"></i></abbr></span></a></li><li><a rel="me" href="https://www.flickr.com/photos/spiegel/"><span class="flickr-color"><abbr title="Flickr"><i class="fab fa-flickr"></i></abbr></span></a></li><li><a rel="me" href="https://goark.fedicity.net/@spiegel"><span class="mastodon-color"><abbr title="Mastodon"><i class="fa-brands fa-mastodon"></i></abbr></span></a></li><li><a rel="me" href="https://bsky.app/profile/baldanders.info"><span class="bluesky-color"><abbr title="Bluesky"><i class="fa-brands fa-bluesky"></i></abbr></span></a></li><li><a rel="me" href="https://www.strava.com/athletes/122077389"><span class="strava-color"><abbr title="Strava"><i class="fa-brands fa-strava"></i></abbr></span></a></li><li><a rel="me" href="https://x.com/spiegel_2007"><span class="x-twitter-color"><abbr title="X (Twitter)"><i class="fab fa-x-twitter"></i></abbr></span></a></li></ul>
	</div>
</div>

<nav>
<ul class='cloud center'>
<li><a href='/about-feeds/'>Feeds</a></li>
<li><a href='/reviews/'>Reviews</a></li>
<li><a href='/site-policy/'>Policy</a></li>
<li><a href='https://github.com/spiegel-im-spiegel/spiegel-im-spiegel.github.io'>Repository</a></li>
<li><a href='https://validator.w3.org/nu/?doc=https%3a%2f%2ftext.baldanders.info%2fremark%2f2018%2f12%2fplantuml-1%2f&amp;showoutline=yes'>Debug</a></li>
</ul>
<ul class='cloud center'>
<li><a href='https://baldanders.info/'>Home</a></li>
<li><a href='https://photo.baldanders.info/'>Photos</a></li>
<li><a href='https://slide.baldanders.info/'>Slide</a></li>
<li><a href='https://zenn.dev/spiegel'>Zenn</a></li>
</ul>
<ul class='cloud center'>
<li>Powered by <a href='https://gohugo.io/'>Hugo 0.152.2</a> and <a href="https://github.com/spiegel-im-spiegel/hugo-theme-baldanders-info
">Theme of Baldanders.info</a>.</li>
</ul>
</nav>
</footer>
</div>

</body>
</html>
