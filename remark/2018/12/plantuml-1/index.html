<!DOCTYPE html>
<html lang="ja">
<head prefix="og: http://ogp.me/ns#">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Hugo 0.76.5" />
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
<link rel="canonical" href="https://text.baldanders.info/remark/2018/12/plantuml-1/">
<script src="//kit.fontawesome.com/152e339e63.js"></script><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Inconsolata%3a400,700%7cNoto+Sans+JP%3a400,700%7cNoto+Sans%3a400,700%7cNoto+Serif%7cNoto+Serif+JP&display=swap" type='text/css'>
<link rel="stylesheet" href="/css/local-font-dark.css" type='text/css'>
<link rel="stylesheet" href="/css/baldanders-info-dark.css" type='text/css'>

<link rel="alternate" href="https://text.baldanders.info/index.xml" type="application/rss+xml" title="text.Baldanders.info">
<link rel="alternate" href="https://text.baldanders.info/index.json" type="application/json" title="text.Baldanders.info">
<meta name="google-site-verification" content="jTjBCslPtf8gwVatiY-GDgGv7pV5csa8aUOw1MRPUD4">
<title>真面目に PlantUML (1) : PlantUML のインストール — しっぽのさきっちょ | text.Baldanders.info</title>
<meta property="og:title" content="真面目に PlantUML (1) : PlantUML のインストール — しっぽのさきっちょ | text.Baldanders.info">
<meta name="description" content=" せっかく時間ができたのだから PlantUML についてちゃんと調べてみることにした。">
<meta property="og:description" content=" せっかく時間ができたのだから PlantUML についてちゃんと調べてみることにした。">
<meta property="og:image" content="https://text.baldanders.info/images/attention/kitten.jpg">
<meta name="author" content="Spiegel">


<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@spiegel_2007">
<meta name="twitter:creator" content="@spiegel_2007">
<meta name="keywords" content="java, plantuml, uml, tools">
<link rel='prev' href='https://text.baldanders.info/remark/2018/12/move-with-trello/' title='Trello で引っ越し' />
<link rel='next' href='https://text.baldanders.info/remark/2018/12/plantuml-2-sequence-diagram/' title='真面目に PlantUML (2) : シーケンス図' />

<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "WebSite",
	"@id": "https://text.baldanders.info/",
	"inLanguage": "ja",
	"name": "text.Baldanders.info",
    "url": "https://text.baldanders.info/",
	"publisher": {
		"@id": "https://text.baldanders.info/#org"
	},
	"author": {
		"@id": "https://text.baldanders.info/#maker"
	},
	"image": "https://text.baldanders.info/images/attention/site.jpg",
	"description": "帰ってきた「しっぽのさきっちょ」"
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Organization",
	"@id": "https://text.baldanders.info/#org",
	"name": "Spiegel",
	"logo": {
		"@type": "ImageObject",
		"@id": "https://text.baldanders.info/#logo",
		"url": "https://text.baldanders.info/images/avatar.jpg"
	}
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Person",
	"@id": "https://text.baldanders.info/#maker",
	"name": "Spiegel",
	"url": "https://baldanders.info/profile/",
	"image": "https://text.baldanders.info/images/avatar.jpg"
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "Blog",
	"@id": "https://text.baldanders.info/remark/",
	"url": "https://text.baldanders.info/remark/",
	"inLanguage": "ja",
	"name": "しっぽのさきっちょ",
	"description": "帰ってきた「しっぽのさきっちょ」。とりとめのない四方山話。",
	"image": "https://text.baldanders.info/images/attention/remark.jpg",
	"publisher": {
		"@id": "https://text.baldanders.info/#org"
	},
	"author": {
		"@id": "https://text.baldanders.info/#maker"
	}
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "BreadcrumbList",
	"@id": "https://text.baldanders.info/remark/2018/12/plantuml-1/#breadcrumb-list",
	"itemListElement": [
		{
			"@type": "ListItem",
			"position": 1,
			"item": {
				"@id": "https://text.baldanders.info/"
			}
		},
		{
			"@type": "ListItem",
			"position": 2,
			"item": {
				"@id": "https://text.baldanders.info/remark/"
			}
		}
	]
}
</script>
<script type="application/ld+json">
{
	"@context": "http://schema.org",
	"@type": "BlogPosting",
	"@id": "https://text.baldanders.info/remark/2018/12/plantuml-1/",
	"url": "https://text.baldanders.info/remark/2018/12/plantuml-1/",
	"mainEntityOfPage": "https://text.baldanders.info/remark/2018/12/plantuml-1/",
	"inLanguage": "ja",
	"name": "真面目に PlantUML (1) : PlantUML のインストール",
	"description": " せっかく時間ができたのだから PlantUML についてちゃんと調べてみることにした。",
	"headline": " せっかく時間ができたのだから PlantUML についてちゃんと調べてみることにした。",
	"keywords": "java, plantuml, uml, tools",
	"image": "https://text.baldanders.info/images/attention/kitten.jpg",
	"datePublished": "2018-12-27T10:55:14+00:00",
	"dateModified": "2019-10-27T11:47:35+00:00",
	"publisher": {
		"@id": "https://text.baldanders.info/#org"
	},
	"author": {
		"@id": "https://text.baldanders.info/#maker"
	},
	"license": "https://creativecommons.org/licenses/by-sa/4.0/"
}
</script>
</head>
<body>

<div id='container'>

<main>
<nav class="breadcrumb">
<a href="https://text.baldanders.info/">text.Baldanders.info</a> &raquo; <a href="/remark/">しっぽのさきっちょ</a>
</nav>
<article>
<h1>真面目に PlantUML (1) : PlantUML のインストール</h1>
<nav class="tags">
	<div><a href='/tags/'>Tags</a>: #<a href="/tags/java/">java</a> #<a href="/tags/plantuml/">plantuml</a> #<a href="/tags/tools/">tools</a> #<a href="/tags/uml/">uml</a></div>
	<div class="cloud">
		<span class="share-color" title="Share this entry"><i class="fas fa-share-square"></i></span>&nbsp;:&nbsp;<a href="http://www.facebook.com/share.php?u=https%3a%2f%2ftext.baldanders.info%2fremark%2f2018%2f12%2fplantuml-1%2f" target="_blank"><span class="facebook-color"><i class="fab fa-facebook-square" aria-hidden="true"></i></span></a>&nbsp;<a href="http://twitter.com/share?text=%e7%9c%9f%e9%9d%a2%e7%9b%ae%e3%81%ab%20PlantUML%20%281%29%20%3a%20PlantUML%20%e3%81%ae%e3%82%a4%e3%83%b3%e3%82%b9%e3%83%88%e3%83%bc%e3%83%ab+by+@spiegel_2007&amp;url=https%3a%2f%2ftext.baldanders.info%2fremark%2f2018%2f12%2fplantuml-1%2f" target="_blank"><span class="twitter-color"><i class="fab fa-twitter-square" aria-hidden="true"></i></span></a>
	</div>
</nav>
<nav class="history">History in
  <a href="https://github.com/spiegel-im-spiegel/spiegel-im-spiegel.github.io/commits/master/remark/2018/12/plantuml-1/index.html">GitHub Page</a>
</nav>

<section><div>
<div class="noextension">
<a href="https://baldanders.info/public-domain-locked/" title="Public Domain Locked... | Baldanders.info"><img src="/images/Locked-150.png" alt="no extension" width="150" /></a>
</div>
<p>1年ほど前に <a href="https://atom.io/" title="Atom">ATOM</a> エディタを使って <a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> を使って UML で遊んだのだが， <a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> 自体は「とりあえず動かしてみた」というレベルできちんと調べていなかった。
せっかく時間ができたのだから，この機会にちゃんと調べてみることにした。</p>
<h2>目次</h2>
<ol>
<li><a href="https://text.baldanders.info/remark/2018/12/plantuml-1/">PlantUML のインストール</a> ← イマココ</li>
<li><a href="https://text.baldanders.info/remark/2018/12/plantuml-2-sequence-diagram/">シーケンス図</a></li>
<li><a href="https://text.baldanders.info/remark/2018/12/plantuml-3-class-diagrams/">クラス図</a></li>
<li><a href="https://text.baldanders.info/remark/2019/07/plantuml-4-entity-relationship-diagrams/">実体関連図</a></li>
</ol>
<h2><a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> のインストール</h2>
<p><a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> は UML (Unified Modeling Language; 統一モデリング言語) を記述するための DSL (Domain-Specific Language; ドメイン特化言語) と考えてよい。
UML の構文（に相当するもの）は図形で表されるが，それをテキストで記述できるようにしたのが <a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> である。
<a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> では UML 2.0 のうち以下の図（Diagrams）を作成できるようだ。</p>
<ul>
<li>構造図（Structural Diagrams）
<ul>
<li><a href="http://plantuml.com/class-diagram">クラス図（Class Diagram）</a> ※同じ機能でパッケージ図も作成可能</li>
<li><a href="http://plantuml.com/object-diagram">オブジェクト図（Object Diagram）</a></li>
<li><a href="http://plantuml.com/component-diagram">コンポーネント図（Component Diagram）</a></li>
<li><a href="http://plantuml.com/deployment-diagram">配置図（Deployment Diagram）</a></li>
</ul>
</li>
<li>振る舞い図（Behavioral Diagrams）
<ul>
<li><a href="http://plantuml.com/use-case-diagram">ユースケース図（Use Case Diagram）</a></li>
<li><a href="http://plantuml.com/activity-diagram-beta">アクティビティ図（Activity Diagram）</a> ※ベータ版</li>
<li><a href="http://plantuml.com/state-diagram">状態遷移図（State Machine Diagram）</a></li>
<li><a href="http://plantuml.com/sequence-diagram">シーケンス図（Sequence Diagram）</a></li>
<li><a href="http://plantuml.com/timing-diagram">タイミング図（Timing Diagram）</a></li>
</ul>
</li>
</ul>
<p><a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> の実行モジュールは Java の jar ファイルで提供されている。
<a href="http://plantuml.com/download">ダウンロードページ</a>から最新の <code>plantuml.jar</code> ファイルをダウンロードしてそのまま使える。</p>
<p><a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> を実行するには Java のランタイム環境を用意する必要がある。
最新の <a href="http://openjdk.java.net/">OpenJDK</a> を使って問題ない。
<a href="https://www.ubuntu.com/" title="The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu">Ubuntu</a> であれば <a href="https://debian-handbook.info/browse/ja-JP/stable/apt.html" title="第 6 章 メンテナンスと更新、APT ツール">APT</a> で Java ランタイム環境をインストールできる。
たとえば LTS バージョンの Java 11 であれば</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">$ sudo apt install openjdk-11-jre
</code></pre></div><p>でOK。</p>
<p><a href="http://plantuml.com/sequence-diagram">シーケンス図</a>と<a href="http://plantuml.com/activity-diagram-beta">アクティビティ図</a>以外は <a href="https://graphviz.gitlab.io/_pages/doc/info/lang.html" title="The DOT Language">DOT 言語</a>にトランス・コンパイルされるため，別途 <a href="http://graphviz.org/" title="Graphviz - Graph Visualization Software">Graphviz</a> もインストールする必要がある。
<a href="http://graphviz.org/" title="Graphviz - Graph Visualization Software">Graphviz</a> は<a href="http://graphviz.org/download/">ダウンロードページ</a>等から取得できる。
<a href="https://www.ubuntu.com/" title="The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu">Ubuntu</a> であれば <a href="https://debian-handbook.info/browse/ja-JP/stable/apt.html" title="第 6 章 メンテナンスと更新、APT ツール">APT</a> でインストールできる。</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">$ sudo apt install graphviz
</code></pre></div><p>全ての用意ができたら <code>plantuml.jar</code> ファイルのあるフォルダで以下のコマンドを入力し動作確認しておこう（以下は <a href="https://www.ubuntu.com/" title="The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu">Ubuntu</a> 環境下での例）。</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">$ java -jar plantuml.jar -version
PlantUML version 1.2019.11 (Sun Sep 22 19:02:15 JST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 13.0.1+9
Operating System: Linux
Default Encoding: UTF-8
Language: ja
Country: JP
...
</code></pre></div><p><a href="http://graphviz.org/" title="Graphviz - Graph Visualization Software">Graphviz</a> との連携をテストするには以下のコマンドを実行する。</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">$ java -jar plantuml.jar -testdot
The environment variable GRAPHVIZ_DOT has not been set
Dot executable is /usr/bin/dot
Dot version: dot - graphviz version 2.40.1 (20161225.0304)
Installation seems OK. File generation OK
</code></pre></div><h2>コマンドライン・オプション</h2>
<p><a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> のコマンドライン・オプションは以下の通り。</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">$ java -jar plantuml.jar -h
Usage: java -jar plantuml.jar [options] -gui
        (to execute the GUI)
    or java -jar plantuml.jar [options] [file/dir] [file/dir] [file/dir]
        (to process files or directories)

You can use the following wildcards in files/dirs:
        *       means any characters but &#39;/&#39;
        ?       one and only one character but &#39;/&#39;
        **      means any characters (used to recurse through directories)

where options include:
    -gui                To run the graphical user interface
    -tpng               To generate images using PNG format (default)
    -tsvg               To generate images using SVG format
    -teps               To generate images using EPS format
    -tpdf               To generate images using PDF format
    -tvdx               To generate images using VDX format
    -txmi               To generate XMI file for class diagram
    -tscxml             To generate SCXML file for state diagram
    -thtml              To generate HTML file for class diagram
    -ttxt               To generate images with ASCII art
    -tutxt              To generate images with ASCII art using Unicode characters
    -tlatex             To generate images using LaTeX/Tikz format
    -tlatex:nopreamble  To generate images using LaTeX/Tikz format without preamble
    -o[utput] &#34;dir&#34;     To generate images in the specified directory
    -DVAR1=value        To set a preprocessing variable as if &#39;!define VAR1 value&#39; were used
    -Sparam1=value      To set a skin parameter as if &#39;skinparam param1 value&#39; were used
    -r[ecurse]          recurse through directories
    -I/path/to/file     To include file as if &#39;!include file&#39; were used
    -I/path/to/*.puml   To include files with pattern
    -charset xxx        To use a specific charset (default is UTF-8)
    -e[x]clude pattern  To exclude files that match the provided pattern
    -metadata           To retrieve PlantUML sources from PNG images
    -nometadata         To NOT export metadata in PNG/SVG generated files
    -checkmetadata      Skip PNG files that don&#39;t need to be regenerated
    -version            To display information about PlantUML and Java versions
    -checkversion       To check if a newer version is available for download
    -v[erbose]          To have log information
    -quiet              To NOT print error message into the console
    -debugsvek          To generate intermediate svek files
    -h[elp]             To display this help message
    -testdot            To test the installation of graphviz
    -graphvizdot &#34;exe&#34;  To specify dot executable
    -p[ipe]             To use stdin for PlantUML source and stdout for PNG/SVG/EPS generation
    -encodesprite 4|8|16[z] &#34;file&#34;      To encode a sprite at gray level (z for compression) from an image
    -computeurl|-encodeurl      To compute the encoded URL of a PlantUML source file
    -decodeurl          To retrieve the PlantUML source from an encoded URL
    -syntax             To report any syntax error from standard input without generating images
    -language           To print the list of PlantUML keywords
    -checkonly          To check the syntax of files without generating images
    -failfast           To stop processing as soon as a syntax error in diagram occurs
    -failfast2          To do a first syntax check before processing files, to fail even faster
    -pattern            To print the list of Regular Expression used by PlantUML
    -duration           To print the duration of complete diagrams processing
    -nbthread N         To use (N) threads for processing
    -nbthread auto      To use 4 threads for processing
    -timeout N          Processing timeout in (N) seconds. Defaults to 15 minutes (900 seconds).
    -author[s]          To print information about PlantUML authors
    -overwrite          To allow to overwrite read only files
    -printfonts         To print fonts available on your system
    -enablestats        To enable statistics computation
    -disablestats       To disable statistics computation (default)
    -htmlstats          To output general statistics in file plantuml-stats.html
    -xmlstats           To output general statistics in file plantuml-stats.xml
    -realtimestats      To generate statistics on the fly rather than at the end
    -loopstats          To continuously print statistics about usage
    -splash             To display a splash screen with some progress bar
    -progress           To display a textual progress bar in console
    -pipeimageindex N   To generate the Nth image with pipe option
    -stdlib             To print standard library info
    -extractstdlib      To extract PlantUML Standard Library into stdlib folder
    -filename &#34;example.puml&#34;    To override %filename% variable
    -preproc            To output preprocessor text of diagrams
    -cypher             To cypher texts of diagrams so that you can share them

If needed, you can setup the environment variable GRAPHVIZ_DOT.
</code></pre></div><p>かなりの数のオプションがあるが，よく使うのは以下のものだろうか。</p>
<table>
<thead>
<tr>
<th>オプション</th>
<th>内容</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-tpng</code></td>
<td>PNG 形式で出力（既定値）</td>
</tr>
<tr>
<td><code>-tsvg</code></td>
<td>SVG 形式で出力</td>
</tr>
<tr>
<td><code>-teps</code></td>
<td>EPS 形式で出力</td>
</tr>
<tr>
<td><code>-tpdf</code></td>
<td>PDF 形式で出力</td>
</tr>
<tr>
<td><code>-tlatex</code></td>
<td>LaTeX/Tikz 形式で出力</td>
</tr>
<tr>
<td><code>-tlatex:nopreamble</code></td>
<td>LaTeX/Tikz 形式で出力（プリアンブルなし）</td>
</tr>
<tr>
<td><code>-o[utput] &quot;dir&quot;</code></td>
<td>指定したフォルダに出力</td>
</tr>
<tr>
<td><code>-charset xxx</code></td>
<td>文字エンコーディングの指定</td>
</tr>
<tr>
<td><code>-nometadata</code></td>
<td>PNG/SVG 出力にメタデータを含めない</td>
</tr>
<tr>
<td><code>-p[ipe]</code></td>
<td>入出力をパイプで行う</td>
</tr>
</tbody>
</table>
<h2>みんな大好き Hello World</h2>
<p>では簡単なコードを処理してみよう。</p>
<p><code>hello.puml</code> という名前のファイルを用意して以下のように入力する。</p>
<pre><code class="language-puml" data-lang="puml">@startuml

Alice-&gt;Bob : hello
Alice&lt;-Bob : はろー

@enduml
</code></pre><p><a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> ではドキュメントの中にコードを埋め込むことを想定して <code>@startuml ... @enduml</code> 内の記述のみが処理の対象となる。</p>
<p>ではこのファイルを処理してみよう。</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">$ java -jar plantuml.jar -charset UTF-8 hello.puml
</code></pre></div><p>これで <code>hello.puml</code> と同じフォルダに <code>hello.png</code> ファイルが出力される。
<code>hello.png</code> ファイルの内容は以下の通り。</p>
<figure style='margin:0 auto;text-align:center;'><a href="./hello.puml"><img src="./hello.png" srcset="./hello.png 500w" sizes="(min-width:600px) 500px, 80vw" alt=""></a></figure>
<p>って，ちっちゃ！
じゃあ，解像度を調節してもう少し大きくしてみよう。</p>
<pre><code class="language-puml" data-lang="puml">@startuml

skinparam dpi 300

Alice-&gt;Bob : hello
Alice&lt;-Bob : はろー

@enduml</code></pre>
<p>これを処理するとこうなる。</p>
<figure style='margin:0 auto;text-align:center;'><a href="./hello2.puml"><img src="./hello2.png" srcset="./hello2.png 500w" sizes="(min-width:600px) 500px, 80vw" alt=""></a></figure>
<p>おおっ。
おっきくなった。</p>
<h2>見た目の調整</h2>
<p>上の例で示したように <a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> では <code>skinparam</code> コマンドを使って見た目の調整ができる。
では，もう少し調整を入れて UML っぽい図にしてみる。</p>
<pre><code class="language-puml" data-lang="puml">@startuml

skinparam shadowing false
skinparam backgroundColor transparent
skinparam dpi 300

skinparam arrow {
  FontColor Black
  FontName Noto Serif JP
  FontSize 10
  FontStyle plain
  Color Black
  Thickness 1
}
skinparam participant {
  FontColor Black
  FontName Noto Sans
  FontSize 14
  FontStyle plain
  BackgroundColor WhiteSmoke
  BorderColor Black
  BorderThickness 1
  Padding 20
}
skinparam sequence {
  LifeLineBackgroundColor transparent
  LifeLineBorderColor Black
  LifeLineBorderThickness 1
  MessageAlignment center
}
hide footbox
skinparam BoxPadding 10

Alice-&gt;Bob : hello
Alice&lt;-Bob : はろー

@enduml</code></pre>
<p>フォントの変更と線の色と太さを調節してみた。
またライフラインの間隔も調整している。
以上を処理するとこんな図になる。</p>
<figure style='margin:0 auto;text-align:center;'><a href="./hello3.puml"><img src="./hello3.png" srcset="./hello3.png 500w" sizes="(min-width:600px) 500px, 80vw" alt=""></a></figure>
<h2>見た目の指定を別ファイルに分離する</h2>
<p>見た目の指定は別ファイルにして再利用したいところである。
そこで <code>hello.iuml</code> ファイルを作成して <code>skinparam</code> コマンドの内容をまるっと移動してみる。</p>
<pre><code class="language-puml" data-lang="puml">skinparam shadowing false
skinparam backgroundColor transparent
skinparam dpi 300

skinparam arrow {
  FontColor Black
  FontName Noto Serif JP
  FontSize 10
  FontStyle plain
  Color Black
  Thickness 1
}
skinparam participant {
  FontColor Black
  FontName Noto Sans
  FontSize 14
  FontStyle plain
  BackgroundColor WhiteSmoke
  BorderColor Black
  BorderThickness 1
  Padding 20
}
skinparam sequence {
  LifeLineBackgroundColor transparent
  LifeLineBorderColor Black
  LifeLineBorderThickness 1
  MessageAlignment center
}
hide footbox
skinparam BoxPadding 10
</code></pre><p>このファイルをインクルードする形でコードを修正する。</p>
<pre><code class="language-puml" data-lang="puml">@startuml

!include hello.iuml

Alice-&gt;Bob : hello
Alice&lt;-Bob : はろー

@enduml</code></pre>
<p>これを処理すると</p>
<figure style='margin:0 auto;text-align:center;'><a href="./hello4.puml"><img src="./hello4.png" srcset="./hello4.png 500w" sizes="(min-width:600px) 500px, 80vw" alt=""></a></figure>
<p>先程と全く同じ結果が得られる。</p>
<p>また最初の</p>
<pre><code class="language-puml" data-lang="puml">@startuml

Alice-&gt;Bob : hello
Alice&lt;-Bob : はろー

@enduml
</code></pre><p>に対して</p>
<div class="highlight"><pre class="chroma"><code class="language-text" data-lang="text">$ java -jar plantuml.jar -charset UTF-8 -config hello.iuml hello.puml
</code></pre></div><p>と <code>-config</code> オプションで <code>hello.iuml</code> ファイルを指定しても同じ結果が得られる。
これで再利用しやすくなっただろう。</p>
<h2>【追記】 <a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> のコメント</h2>
<p><a href="http://plantuml.com/" title="Open-source tool that uses simple textual descriptions to draw UML diagrams.">PlantUML</a> の <code>@startuml ... @enduml</code> 領域内にコメントを記述する際には以下の２通りの書き方がある。</p>
<pre><code class="language-puml" data-lang="puml">@startuml

' 一行コメント

/'
複数行に渡る
コメント
'/

@enduml
</code></pre><p>なお，行の途中からコメントを挿入する</p>
<pre><code class="language-puml" data-lang="puml">@startuml

skinparam dpi 300 '解像度の設定

@enduml
</code></pre><p>のような記述はできない（しかも行がまるごと無視されるだけでエラーにもならない）のでご注意を。</p>
<h2>ブックマーク</h2>
<ul>
<li><a href="http://www.itsenka.com/contents/development/uml/">UML入門 - IT専科</a></li>
<li><a href="http://plantuml.com/skinparam">Changing colors and fonts</a></li>
<li><a href="http://plantuml.com/command-line">call it from your script using command line</a></li>
<li><a href="http://yohshiy.blog.fc2.com/blog-entry-152.html">PlantUML の使い方 | プログラマーズ雑記帳</a></li>
<li><a href="https://qiita.com/ogomr/items/97058a87337eaa2ba21a">PlantUML Example for RDRA 2.0 ハンドブック - Qiita</a></li>
</ul>

</div></section>

</article>
</main>
<nav class="page-nav">
<div class="prev-page">&laquo; <a href="/remark/2018/12/move-with-trello/">Trello で引っ越し</a></div>
<div class="next-page"><a href="/remark/2018/12/plantuml-2-sequence-diagram/">真面目に PlantUML (2) : シーケンス図</a> &raquo;</div>
</nav>

<aside class="feedback" id='feedback'>
<h1>Feedback</h1>
<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "textbaldandersinfo" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

<p>Web ブラウザとその設定によってはコメント機能をホストしている <a href="https://disqus.com/">Disqus</a> のコードを「追跡コード」としてブロックする場合があります。</p>
<p>フィードバックの手段として Twitter, Facebook または電子メールも利用できます。電子メールを利用する際の公開鍵は<a href="https://baldanders.info/profile/">プロフィール</a>から取得できます。</p>
</aside>
<footer>


<div class="userinfo">
	<div class="userinfo-avater">
		<a href="https://baldanders.info/profile/"><img src="https://text.baldanders.info/images/avatar.jpg" width="48" height="48" alt="avatar" id="logo"></a>
	</div>
	<div class="userinfo-info" id="maker">
		Text by <a href="https://baldanders.info/profile/" rel="cc:attributionURL" property="cc:attributionName">Spiegel</a>
		in <time property='dc:dateCopyrighted'>2018-12-27</time> (revised in 2019-10-27)
		<a rel='cc:license' href="https://creativecommons.org/licenses/by-sa/4.0/"><i class="fab fa-creative-commons"></i>&nbsp;<i class="fab fa-creative-commons-by"></i>&nbsp;<i class="fab fa-creative-commons-sa"></i></a>
		<ul class="social"><li><a href="https://github.com/spiegel-im-spiegel"><span class="github-color"><i class="fab fa-github"></i></span></a></li><li><a href="https://www.flickr.com/photos/spiegel/"><span class="flickr-color"><i class="fab fa-flickr"></i></span></a></li><li><a href="https://twitter.com/spiegel_2007"><span class="twitter-color"><i class="fab fa-twitter"></i></span></a></li><li><a href="https://www.facebook.com/spiegel.im.spiegel"><span class="facebook-color"><i class="fab fa-facebook-f"></i></span></a></li></ul>
	</div>
</div>

<nav>
<ul class='cloud center'>
<li><a href='https://github.com/spiegel-im-spiegel/spiegel-im-spiegel.github.io'>Repository</a></li>
<li><a href='/reviews/'>Reviews</a></li>
<li><a href='/about-feeds/'>Feeds</a></li>
<li><a href='/site-policy/'>Site Policy</a></li>
<li><a href='https://validator.w3.org/nu/?doc=https%3a%2f%2ftext.baldanders.info%2fremark%2f2018%2f12%2fplantuml-1%2f&amp;showoutline=yes'>Debug</a></li>
</ul>
<ul class='cloud center'>
<li><a href='https://baldanders.info/'>Home</a></li>
<li><a href='https://photo.baldanders.info/'>Photos</a></li>
<li><a href='https://slide.baldanders.info/'>Slide</a></li>
<li><a href='https://zenn.dev/spiegel'>Zenn</a></li>
</ul>
<ul class='cloud center'>
<li>Powered by <a href='https://gohugo.io/'>Hugo 0.76.5</a> and <a href="https://github.com/spiegel-im-spiegel/hugo-theme-baldanders-info
">Theme of Baldanders.info</a>.</li>
</ul>
</nav>
</footer>
</div>

</body>
</html>
