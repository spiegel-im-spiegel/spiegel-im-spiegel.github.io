<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<feed xmlns="http://www.w3.org/2005/Atom" xmlns:cc="http://web.resource.org/cc/">
	<title>Security - text.Baldanders.info</title>
	<link rel="alternate" type="text/html" href="http://text.baldanders.info/tags/security/" />
	<link rel="self" type="application/atom+xml" href="http://text.baldanders.info/tags/security/index.xml" />
	<id>tag:text.Baldanders.info,2017-09-14:/tags</id>
	<updated>2017-09-14T04:11:20+09:00</updated>
	<subtitle>帰ってきた「しっぽのさきっちょ」</subtitle>
	<icon>http://text.baldanders.info//images/avatar.jpg</icon>
	<logo>http://text.baldanders.info//images/avatar.jpg</logo>
	<generator uri="https://gohugo.io/">Hugo 0.27.1</generator>

	
	<entry>
		<title>GnuPG 2.2.0 がリリース（脆弱性の修正あり） - remark</title>
		<link rel="alternate" type="text/html" href="http://text.baldanders.info/remark/2017/09/gnupg-2_2_0-released/" />
		<id>tag:text.Baldanders.info,2017-09-14:/remark/2017/09/gnupg-2_2_0-released/</id>
		<published>2017-09-14T04:11:20+09:00</published>
		<updated>2017-09-14T04:11:20+09:00</updated>
		<summary>バージョン 2.2 は stable 版 2.0.x の置き換えになるようだ。なお 2.0.x は今年いっぱいでサポートを終了する。</summary>
		
			<author>
				<name>Spiegel</name>
				<uri>http://www.baldanders.info/spiegel/profile/</uri>
			</author>
			
	<link rel="cc:license" type="application/rdf+xml" href="http://creativecommons.org/licenses/by-sa/4.0/rdf" />


		
		<category term="remark" label="remark" scheme="http://text.baldanders.info/remark" />
		<content type="html" xml:lang="ja" xml:base="http://text.baldanders.info/">&lt;p&gt;個人的に色々あって更新が滞ってます。
ゴメン，ペコン。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://lists.gnupg.org/pipermail/gnupg-announce/2017q3/000413.html&#34;&gt;[Announce] GnuPG 2.2.0 released&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;バージョン 2.2 は stable 版 2.0.x の置き換えになるようだ。
なお 2.0.x は今年いっぱいでサポートを終了する。&lt;/p&gt;

&lt;figure lang=&#34;en&#34;&gt;
&lt;blockquote&gt;
&lt;q&gt;This release marks the start of a new long term support series to replace the 2.0.x series which will reach end-of-life on 2017-12-31.&lt;/q&gt;
&lt;/blockquote&gt;
&lt;figcaption&gt;via &lt;q&gt;&lt;a href=&#34;https://lists.gnupg.org/pipermail/gnupg-announce/2017q3/000413.html&#34;&gt;GnuPG 2.2.0 released&lt;/a&gt;&lt;/q&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;今までのように modarn 版と stable 版に分けて開発を進めるのかどうかについては記述がないので分からない。
2.1.23 からの変更点は以下の通り。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;gpg: Reverted change done in 2.1.23 so that &lt;code&gt;--no-auto-key-retrieve&lt;/code&gt; is again the default.&lt;/li&gt;
&lt;li&gt;Fixed a few minor bugs.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ところで GnuPG が内部で使っている Libgcrypt に脆弱性が発見されている。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://lists.gnupg.org/pipermail/gnupg-announce/2017q3/000414.html&#34;&gt;[Announce] Libgcrypt 1.8.1 and 1.7.9 to fix CVE-2017-0379&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://eprint.iacr.org/2017/806&#34;&gt;May the Fourth Be With You: A Microarchitectural Side Channel Attack on Several Real-World Applications of Curve25519&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;（スター・ウォーズかよ！）&lt;/p&gt;

&lt;figure lang=&#34;en&#34;&gt;
&lt;blockquote&gt;
&lt;q&gt;We demonstrate the effect of this vulnerability on three software applications---encrypted git, email and messaging---that use Libgcrypt. In each case, we show how to craft malicious OpenPGP files that use the Curve25519 point of order 4 as a chosen ciphertext to the ECDH encryption scheme. We find that the resulting interactions of the point at infinity, order-2, and order-4 elements in the Montgomery ladder scalar-by-point multiplication routine create side channel leakage that allows us to recover the private key in as few as 11 attempts to access such malicious files.&lt;/q&gt;
&lt;/blockquote&gt;
&lt;figcaption&gt;via &lt;q&gt;&lt;a href=&#34;https://eprint.iacr.org/2017/806&#34;&gt;A Microarchitectural Side Channel Attack on Several Real-World Applications of Curve25519&lt;/a&gt;&lt;/q&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;たとえば暗号化メールを使った攻撃では&lt;/p&gt;

&lt;figure lang=&#34;en&#34;&gt;
&lt;blockquote&gt;
&lt;q&gt;For an attack on encrypted email we use the Thunderbird plugin Enigmail. As Genkin et al. observe, Enigmail automatically decrypts incoming emails by passing them to GnuPG, which uses Libgcrypt as its cryptographic engine. To attack Enigmail, we inject an element of order 4 into Libgcrypt we send the victim a PGP/MIME-encoded e-mail, with the element of order-4 as the ciphertext.&lt;/q&gt;
&lt;/blockquote&gt;
&lt;figcaption&gt;via &lt;q&gt;&lt;a href=&#34;https://eprint.iacr.org/2017/806&#34;&gt;A Microarchitectural Side Channel Attack on Several Real-World Applications of Curve25519&lt;/a&gt;&lt;/q&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;といったシナリオが挙げられている。&lt;/p&gt;

&lt;p&gt;この問題を軽減（mitigate）したバージョン 1.8.1 および 1.7.9 がリリースされている。
なお Windows 用の GnuPG 2.2.0 バイナリには Libgcrypt 1.8.1 が同梱されている。&lt;/p&gt;

&lt;p&gt;影響度は以下の通り。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://nvd.nist.gov/vuln/detail/CVE-2017-0379&#34;&gt;NVD - CVE-2017-0379&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;CVSSv3 基本評価値 7.5 (&lt;code&gt;CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:N/A:N&lt;/code&gt;)&lt;/strong&gt;&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;right&#34;&gt;基本評価基準&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;評価値&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;攻撃元区分（AV）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;ネットワーク（N）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;攻撃条件の複雑さ（AC）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;低（L）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;必要な特権レベル（PR）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;不要（N）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;ユーザ関与レベル（UI）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;不要（N）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;スコープ（S）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;変更なし（U）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;情報漏えいの可能性（機密性への影響, C）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;高（H）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;情報改ざんの可能性（完全性への影響, I）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;低（L）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;業務停止の可能性（可用性への影響, A）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;低（L）&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;一般にサイドチャネル攻撃はあまり影響度が高くないが &lt;a href=&#34;https://nvd.nist.gov/&#34; title=&#34;National Vulnerability Database&#34;&gt;NVD&lt;/a&gt; はかなり高めに見積もっているようである&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:rh1&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:rh1&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;

&lt;p&gt;CVSS については&lt;a href=&#34;http://text.baldanders.info/remark/2015/cvss-v3-metrics-in-jvn/&#34;&gt;解説ページ&lt;/a&gt;を参照のこと。&lt;/p&gt;

&lt;p&gt;インストールが上手くいけば以下のようになる。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;$ gpg --version
gpg (GnuPG) 2.2.0
libgcrypt 1.8.1
Copyright (C) 2017 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &amp;lt;https://gnu.org/licenses/gpl.html&amp;gt;
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Home: ********
サポートしているアルゴリズム:
公開鍵: RSA, ELG, DSA, ECDH, ECDSA, EDDSA
暗号方式: IDEA, 3DES, CAST5, BLOWFISH, AES, AES192, AES256, TWOFISH,
    CAMELLIA128, CAMELLIA192, CAMELLIA256
ハッシュ: SHA1, RIPEMD160, SHA256, SHA384, SHA512, SHA224
圧縮: 無圧縮, ZIP, ZLIB, BZIP2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;アップデートは計画的に。&lt;/p&gt;
&lt;div class=&#34;footnotes&#34;&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li id=&#34;fn:rh1&#34;&gt;一方， &lt;a href=&#34;https://access.redhat.com/security/cve/cve-2017-0379&#34;&gt;Red Hat の評価&lt;/a&gt;は &lt;code&gt;CVSS:3.0/AV:L/AC:H/PR:L/UI:R/S:U/C:H/I:N/A:N&lt;/code&gt; で基本評価値 4.4 になっている。ただし&lt;a href=&#34;https://eprint.iacr.org/2017/806&#34; title=&#34;May the Fourth Be With You: A Microarchitectural Side Channel Attack on Several Real-World Applications of Curve25519&#34;&gt;論文&lt;/a&gt;を読むと攻撃シナリオとして Enigmail, Git-crypt, Pidgin-OpenPGP を使った方法が挙げられているので， &lt;a href=&#34;https://nvd.nist.gov/&#34; title=&#34;National Vulnerability Database&#34;&gt;NVD&lt;/a&gt; の評価のほうが近いかも。
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:rh1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</content>
	</entry>
	
	<entry>
		<title>SCM ツールの脆弱性 - remark</title>
		<link rel="alternate" type="text/html" href="http://text.baldanders.info/remark/2017/08/vulnerabilities-in-scm-tools/" />
		<id>tag:text.Baldanders.info,2017-08-19:/remark/2017/08/vulnerabilities-in-scm-tools/</id>
		<published>2017-08-19T21:02:07+09:00</published>
		<updated>2017-08-19T21:02:07+09:00</updated>
		<summary>改修されたバージョンが公開されている。更新作業は計画的に。</summary>
		
			<author>
				<name>Spiegel</name>
				<uri>http://www.baldanders.info/spiegel/profile/</uri>
			</author>
			
	<link rel="cc:license" type="application/rdf+xml" href="http://creativecommons.org/licenses/by-sa/4.0/rdf" />


		
		<category term="remark" label="remark" scheme="http://text.baldanders.info/remark" />
		<content type="html" xml:lang="ja" xml:base="http://text.baldanders.info/">

&lt;p&gt;がっつり見落としてました。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://blog.recurity-labs.com/2017-08-10/scm-vulns&#34;&gt;Compromise On Checkout - Vulnerabilities in SCM Tools · The Recurity Lablog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.mail-archive.com/linux-kernel@vger.kernel.org/msg1466490.html&#34;&gt;[ANNOUNCE] Git v2.14.1, v2.13.5, and others&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://about.gitlab.com/2017/08/10/gitlab-9-dot-4-dot-4-released/&#34;&gt;GitLab 9.4.4, 9.3.10, 9.2.10, 9.1.10, 9.0.13, and 8.17.8 Critical Security Release | GitLab&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.mercurial-scm.org/wiki/WhatsNew#Mercurial_4.3_.2F_4.3.1_.282017-08-10.29&#34;&gt;Mercurial 4.3 / 4.3.1 (2017-08-10)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://subversion.apache.org/security/CVE-2017-9800-advisory.txt&#34;&gt;Arbitrary code execution on clients through malicious svn+ssh URLs in svn:externals and svn:sync-from-url&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://forest.watch.impress.co.jp/docs/news/1075909.html&#34;&gt;「Git」「Mercurial」「Subversion」などにコマンドインジェクションの脆弱性 - 窓の杜&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;脆弱性の内容&#34;&gt;脆弱性の内容&lt;/h2&gt;

&lt;figure&gt;
&lt;blockquote&gt;
&lt;q&gt;同社のブログ記事によると、「Git LFS」の旧バージョンにはURLの解釈処理に問題があり、たとえば“ssh://-oProxyCommand=some-command”というURLの場合、ホスト名を“-o ProxyCommand=some-command”と解釈してしまうため、“some-command”が実行されてしまう。同様の問題は、「Git」「Mercurial」「Subversion」にも存在する。&lt;/q&gt;
&lt;/blockquote&gt;
&lt;figcaption&gt;via &lt;q&gt;&lt;a href=&#34;http://forest.watch.impress.co.jp/docs/news/1075909.html&#34;&gt;「Git」「Mercurial」「Subversion」などにコマンドインジェクションの脆弱性&lt;/a&gt;&lt;/q&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h2 id=&#34;影響度-cvss&#34;&gt;影響度（CVSS）&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://access.redhat.com/security/cve/cve-2017-9800&#34;&gt;CVE-2017-9800 - Red Hat Customer Portal&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://access.redhat.com/security/cve/cve-2017-1000116&#34;&gt;CVE-2017-1000116 - Red Hat Customer Portal&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://access.redhat.com/security/cve/cve-2017-1000117&#34;&gt;CVE-2017-1000117 - Red Hat Customer Portal&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;CVSSv3 基本評価値 6.3 (&lt;code&gt;CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:L/I:L/A:L&lt;/code&gt;)&lt;/strong&gt;&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;right&#34;&gt;基本評価基準&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;評価値&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;攻撃元区分（AV）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;ネットワーク（N）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;攻撃条件の複雑さ（AC）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;低（L）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;必要な特権レベル（PR）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;不要（N）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;ユーザ関与レベル（UI）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;要（R）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;スコープ（S）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;変更なし（U）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;情報漏えいの可能性（機密性への影響, C）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;低（L）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;情報改ざんの可能性（完全性への影響, I）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;低（L）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;業務停止の可能性（可用性への影響, A）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;低（L）&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;CVSS については&lt;a href=&#34;http://text.baldanders.info/remark/2015/cvss-v3-metrics-in-jvn/&#34;&gt;解説ページ&lt;/a&gt;を参照のこと。&lt;/p&gt;

&lt;h2 id=&#34;影響を受ける製品&#34;&gt;影響を受ける製品&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Git v2.7.6, v2.8.6, v2.9.5, v2.10.4, v2.11.3, v2.12.4, and v2.13.5&lt;/li&gt;
&lt;li&gt;Mercurial 4.3 以前&lt;/li&gt;
&lt;li&gt;Subversion

&lt;ul&gt;
&lt;li&gt;1.0.0 through 1.8.18&lt;/li&gt;
&lt;li&gt;1.9.0 through 1.9.6&lt;/li&gt;
&lt;li&gt;1.10.0-alpha3&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;GitLab （&lt;a href=&#34;http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-12426&#34;&gt;CVE-2017-12426&lt;/a&gt; を含む）

&lt;ul&gt;
&lt;li&gt;7.9.0 through 8.17.7&lt;/li&gt;
&lt;li&gt;9.0.0 through 9.0.12&lt;/li&gt;
&lt;li&gt;9.1.0 through 9.1.9&lt;/li&gt;
&lt;li&gt;9.2.0 through 9.2.9&lt;/li&gt;
&lt;li&gt;9.3.0 through 9.3.9&lt;/li&gt;
&lt;li&gt;9.4.0 through 9.4.3&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;対策-回避策&#34;&gt;対策・回避策&lt;/h2&gt;

&lt;p&gt;改修されたバージョンが公開されている。
更新作業は計画的に。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Git v2.14.1&lt;/li&gt;
&lt;li&gt;Mercurial 4.3.1&lt;/li&gt;
&lt;li&gt;Subversion 1.8.19 and 1.9.7&lt;/li&gt;
&lt;li&gt;GitLab 8.17.8, 9.0.13, 9.1.10, 9.2.10, 9.3.10, and 9.4.4&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;ブックマーク&#34;&gt;ブックマーク&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://qiita.com/bells17/items/b8a21b1ef8d9ec36a151&#34;&gt;CVE-2017-1000117 対策のメモ - Qiita&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
	</entry>
	
	<entry>
		<title>GnuPG 2.1.23 がリリース - remark</title>
		<link rel="alternate" type="text/html" href="http://text.baldanders.info/remark/2017/08/gnupg-2_1_23-released/" />
		<id>tag:text.Baldanders.info,2017-08-10:/remark/2017/08/gnupg-2_1_23-released/</id>
		<published>2017-08-10T10:43:43+09:00</published>
		<updated>2017-08-10T10:43:43+09:00</updated>
		<summary>今回の目玉はやっぱり --enable-gpg-is-gpg2 オプションかな。</summary>
		
			<author>
				<name>Spiegel</name>
				<uri>http://www.baldanders.info/spiegel/profile/</uri>
			</author>
			
	<link rel="cc:license" type="application/rdf+xml" href="http://creativecommons.org/licenses/by-sa/4.0/rdf" />


		
		<category term="remark" label="remark" scheme="http://text.baldanders.info/remark" />
		<content type="html" xml:lang="ja" xml:base="http://text.baldanders.info/">&lt;p&gt;GnuPG 2.1.23 がリリースされた。
セキュリティ・アップデートはなし。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://lists.gnupg.org/pipermail/gnupg-announce/2017q3/000412.html&#34;&gt;[Announce] GnuPG 2.1.23 released&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;修正および変更点は以下の通り。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;gpg: &amp;ldquo;gpg&amp;rdquo; is now installed as &amp;ldquo;gpg&amp;rdquo; and not anymore as &amp;ldquo;gpg2&amp;rdquo;.  If needed, the new configure option &lt;code&gt;--enable-gpg-is-gpg2&lt;/code&gt; can be used to revert this.&lt;/li&gt;
&lt;li&gt;gpg: Options &lt;code&gt;--auto-key-retrieve&lt;/code&gt; and &lt;code&gt;--auto-key-locate&lt;/code&gt; &amp;ldquo;local,wkd&amp;rdquo; are now used by default.  Note: this enables keyserver and Web Key Directory operators to notice when a signature from a locally non-available key is being verified for the first time or when you intend to encrypt to a mail address without having the key locally.  This new behaviour will eventually make key discovery much easier and mostly automatic.  Disable this by adding &lt;code&gt;no-auto-key-retrieve&lt;/code&gt; &lt;code&gt;auto-key-locate&lt;/code&gt; local to your gpg.conf.&lt;/li&gt;
&lt;li&gt;agent: Option &lt;code&gt;--no-grab&lt;/code&gt; is now the default.  The new option &lt;code&gt;--grab&lt;/code&gt; allows to revert this.&lt;/li&gt;
&lt;li&gt;gpg: New import option &amp;ldquo;show-only&amp;rdquo;.&lt;/li&gt;
&lt;li&gt;gpg: New option &lt;code&gt;--disable-dirmngr&lt;/code&gt; to entirely disable network access for gpg.&lt;/li&gt;
&lt;li&gt;gpg,gpgsm: Tweaked DE-VS compliance behaviour.&lt;/li&gt;
&lt;li&gt;New configure flag &lt;code&gt;--enable-all-tests&lt;/code&gt; to run more extensive tests during &amp;ldquo;make check&amp;rdquo;.&lt;/li&gt;
&lt;li&gt;gpgsm: The keygrip is now always printed in colon mode as documented in the man page.&lt;/li&gt;
&lt;li&gt;Fixed connection timeout problem under Windows.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;今回の目玉はやっぱり &lt;code&gt;--enable-gpg-is-gpg2&lt;/code&gt; オプションかな。
でもこのオプションの有無で違いが分からないんだよなぁ。
私の環境は classic 版からの以降なので，そのせいかな？&lt;/p&gt;

&lt;p&gt;インストールが上手くいけば以下のようになる。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;$ gpg --version
gpg (GnuPG) 2.1.23
libgcrypt 1.8.0
Copyright (C) 2017 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &amp;lt;https://gnu.org/licenses/gpl.html&amp;gt;
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Home: ********
サポートしているアルゴリズム:
公開鍵: RSA, ELG, DSA, ECDH, ECDSA, EDDSA
暗号方式: IDEA, 3DES, CAST5, BLOWFISH, AES, AES192, AES256, TWOFISH,
    CAMELLIA128, CAMELLIA192, CAMELLIA256
ハッシュ: SHA1, RIPEMD160, SHA256, SHA384, SHA512, SHA224
圧縮: 無圧縮, ZIP, ZLIB, BZIP2
&lt;/code&gt;&lt;/pre&gt;
</content>
	</entry>
	
	<entry>
		<title>GnuPG 2.1.22 リリースと寄付の募集 - remark</title>
		<link rel="alternate" type="text/html" href="http://text.baldanders.info/remark/2017/07/gnupg-2_1_22-released/" />
		<id>tag:text.Baldanders.info,2017-07-31:/remark/2017/07/gnupg-2_1_22-released/</id>
		<published>2017-07-31T20:41:53+09:00</published>
		<updated>2017-07-31T20:41:53+09:00</updated>
		<summary>溜まりに溜まってた更新情報をまとめて挙げておく。脆弱性の習性あり。</summary>
		
			<author>
				<name>Spiegel</name>
				<uri>http://www.baldanders.info/spiegel/profile/</uri>
			</author>
			
	<link rel="cc:license" type="application/rdf+xml" href="http://creativecommons.org/licenses/by-sa/4.0/rdf" />


		
		<category term="remark" label="remark" scheme="http://text.baldanders.info/remark" />
		<content type="html" xml:lang="ja" xml:base="http://text.baldanders.info/">&lt;p&gt;溜まりに溜まってた更新情報をまとめて挙げておく。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://lists.gnupg.org/pipermail/gnupg-announce/2017q2/000405.html&#34;&gt;[Announce] GnuPG 2.1.21 released&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://lists.gnupg.org/pipermail/gnupg-announce/2017q2/000406.html&#34;&gt;[Announce] Libgcrypt 1.7.7 released&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://lists.gnupg.org/pipermail/gnupg-announce/2017q2/000408.html&#34;&gt;[Announce] Libgcrypt 1.7.8 released to fix CVE-2017-7526&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://eprint.iacr.org/2017/627&#34;&gt;Sliding right into disaster: Left-to-right sliding windows leak&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://lists.gnupg.org/pipermail/gnupg-announce/2017q3/000409.html&#34;&gt;[Announce] Scute 1.5.0 released&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://lists.gnupg.org/pipermail/gnupg-announce/2017q3/000410.html&#34;&gt;[Announce] Libgcrypt 1.8.0 released&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://lists.gnupg.org/pipermail/gnupg-announce/2017q3/000411.html&#34;&gt;[Announce] GnuPG 2.1.22 released&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&#34;https://gnupg.org/&#34; title=&#34;The GNU Privacy Guard&#34;&gt;GnuPG&lt;/a&gt; 2.1.21 リリース時にアナウンスされた注意事項は以下の通り。&lt;/p&gt;

&lt;figure lang=&#34;en&#34;&gt;
&lt;blockquote&gt;
&lt;q&gt;This release fixes a keyring corruption bug introduced with last release.  Users of 2.1.20, who are using the old &#34;pubring.gpg&#34; file to store their public keys, are asked to update to this new release.&lt;/q&gt;
&lt;/blockquote&gt;
&lt;figcaption&gt;via &lt;q&gt;&lt;a href=&#34;https://lists.gnupg.org/pipermail/gnupg-announce/2017q2/000405.html&#34;&gt;GnuPG 2.1.21 released&lt;/a&gt;&lt;/q&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;また Libgcrypt 1.7.8 で “Sliding right into disaster&amp;rdquo; 脆弱性を軽減する修正が行われている。&lt;/p&gt;

&lt;figure lang=&#34;en&#34;&gt;
&lt;blockquote&gt;
&lt;q&gt;Note that this side-channel attack requires that the attacker can run arbitrary software on the hardware where the private RSA key is used.  Allowing execute access to a box with private keys should be considered as a game over condition, anyway.  Thus in practice there are easier ways to access the private keys than to mount this side-channel attack.  However, on boxes with virtual machines this attack may be used by one VM to steal private keys from another VM.&lt;/q&gt;
&lt;/blockquote&gt;
&lt;figcaption&gt;via &lt;q&gt;&lt;a href=&#34;https://lists.gnupg.org/pipermail/gnupg-announce/2017q2/000408.html&#34;&gt;Libgcrypt 1.7.8 released to fix CVE-2017-7526&lt;/a&gt;&lt;/q&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure lang=&#34;en&#34;&gt;
&lt;blockquote&gt;
&lt;q&gt;It is well known that constant-time implementations of modular exponentiation cannot use sliding windows. However, software libraries such as Libgcrypt, used by GnuPG, continue to use sliding windows. It is widely believed that, even if the complete pattern of squarings and multiplications is observed through a side-channel attack, the number of exponent bits leaked is not sufficient to carry out a full key-recovery attack against RSA. Specifically, 4-bit sliding windows leak only 40% of the bits, and 5-bit sliding windows leak only 33% of the bits.&lt;/q&gt;
&lt;/blockquote&gt;
&lt;figcaption&gt;via &lt;q&gt;&lt;a href=&#34;https://eprint.iacr.org/2017/627&#34;&gt;Sliding right into disaster: Left-to-right sliding windows leak&lt;/a&gt;&lt;/q&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;影響度は以下の通り。&lt;/p&gt;

&lt;p&gt;“&lt;a href=&#34;https://access.redhat.com/security/cve/cve-2017-7526&#34;&gt;CVE-2017-7526 - Red Hat Customer Portal&lt;/a&gt;&amp;rdquo; より&lt;/p&gt;

&lt;p&gt;CVSSv3 基本評価値 6.1 (&lt;code&gt;CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:C/C:H/I:N/A:N&lt;/code&gt;)&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;right&#34;&gt;基本評価基準&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;評価値&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;攻撃元区分（AV）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;ネットワーク（N）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;攻撃条件の複雑さ（AC）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;高（H）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;必要な特権レベル（PR）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;不要（N）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;ユーザ関与レベル（UI）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;要（R）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;スコープ（S）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;変更あり（C）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;情報漏えいの可能性（機密性への影響, C）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;高（H）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;情報改ざんの可能性（完全性への影響, I）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;なし（N）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;業務停止の可能性（可用性への影響, A）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;なし（N）&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;CVSS については&lt;a href=&#34;http://text.baldanders.info/remark/2015/cvss-v3-metrics-in-jvn/&#34;&gt;解説ページ&lt;/a&gt;を参照のこと。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://eprint.iacr.org/2017/627&#34; title=&#34;Sliding right into disaster: Left-to-right sliding windows leak&#34;&gt;論文&lt;/a&gt;では 1024 bits RSA 鍵の解読を行っている。
今時 1024 bits RSA 鍵で運用している人はいないと思うが，もしまだの方がいたらこの機会に 2048 bits 以上にアップデートすることをお勧めする。
もしくは（可能であれば）楕円暗号に切り替えるか。&lt;/p&gt;

&lt;p&gt;その他の修正等については各記事を参照のこと。
最新版をインストールすると以下のようになる。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;$ gpg --version
gpg (GnuPG) 2.1.22
libgcrypt 1.8.0
Copyright (C) 2017 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &amp;lt;https://gnu.org/licenses/gpl.html&amp;gt;
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Home: ********
サポートしているアルゴリズム:
公開鍵: RSA, ELG, DSA, ECDH, ECDSA, EDDSA
暗号方式: IDEA, 3DES, CAST5, BLOWFISH, AES, AES192, AES256, TWOFISH,
    CAMELLIA128, CAMELLIA192, CAMELLIA256
ハッシュ: SHA1, RIPEMD160, SHA256, SHA384, SHA512, SHA224
圧縮: 無圧縮, ZIP, ZLIB, BZIP2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;余談だが &lt;a href=&#34;https://gnupg.org/&#34; title=&#34;The GNU Privacy Guard&#34;&gt;GnuPG&lt;/a&gt; では寄付を募っている。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://gnupg.org/donate/&#34;&gt;GnuPG - Donate&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://lists.gnupg.org/pipermail/gnupg-announce/2017q2/000407.html&#34;&gt;[Announce] GnuPG Funding Campaign Launched&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;iframe class=&#34;youtube-player&#34; width=&#34;500&#34;  height=&#34;281&#34; src=&#34;https://www.youtube-nocookie.com/embed/wNHhkntqklg&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=wNHhkntqklg&#34;&gt;GnuPG Fundraising Rally - YouTube&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;目標は15,000ユーロ/月。
この記事を書いている時点で目標の3分の1程度のペースか。
興味のある方は是非。&lt;/p&gt;

&lt;p&gt;私も寄付したいけど，今は財政状況ががが。&lt;/p&gt;
</content>
	</entry>
	
	<entry>
		<title>Punycode によるホモグラフ攻撃例とその回避 - remark</title>
		<link rel="alternate" type="text/html" href="http://text.baldanders.info/remark/2017/04/homograph-attack/" />
		<id>tag:text.Baldanders.info,2017-04-25:/remark/2017/04/homograph-attack/</id>
		<published>2017-04-25T22:16:55+09:00</published>
		<updated>2017-04-30T21:34:04+09:00</updated>
		<summary>この手の攻撃の回避法だが， Chrome についてはバージョン 58 以降であれば対応済みである。</summary>
		
			<author>
				<name>Spiegel</name>
				<uri>http://www.baldanders.info/spiegel/profile/</uri>
			</author>
			
	<link rel="cc:license" type="application/rdf+xml" href="http://creativecommons.org/licenses/by-sa/4.0/rdf" />


		
		<category term="remark" label="remark" scheme="http://text.baldanders.info/remark" />
		<content type="html" xml:lang="ja" xml:base="http://text.baldanders.info/">

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.xudongz.com/blog/2017/idn-phishing/&#34;&gt;Phishing with Unicode Domains - Xudong Zheng&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;たとえば，以下の &lt;a href=&#34;https://golang.org/&#34; title=&#34;The Go Programming Language&#34;&gt;Go 言語&lt;/a&gt;コードで2つの “apple&amp;rdquo; を考える（元ネタは&lt;a href=&#34;https://play.golang.org/p/BzJVWN78pA&#34; title=&#34;The Go Playground&#34;&gt;ここ&lt;/a&gt;）。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package main

import &amp;quot;fmt&amp;quot;

func main() {
	for _, value := range &amp;quot;apple&amp;quot; {
		fmt.Printf(&amp;quot;%#U\n&amp;quot;, value)
	}
	fmt.Println()
	for _, value := range &amp;quot;аррӏе&amp;quot; {
		fmt.Printf(&amp;quot;%#U\n&amp;quot;, value)
	}
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;見た目では分かりにくいかもしれないが，最初の “apple&amp;rdquo; は US ASCII で2番目の “аррӏе&amp;rdquo; はキリル文字なんだそうだ&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:grp&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:grp&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;。
このコードの実行結果は以下の通り。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;U+0061 &#39;a&#39;
U+0070 &#39;p&#39;
U+0070 &#39;p&#39;
U+006C &#39;l&#39;
U+0065 &#39;e&#39;

U+0430 &#39;а&#39;
U+0440 &#39;р&#39;
U+0440 &#39;р&#39;
U+04CF &#39;ӏ&#39;
U+0435 &#39;е&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;現在，国際化ドメイン名（Internationalized Domain Name; IDN）については &lt;code&gt;xn--&lt;/code&gt; から始まる &lt;a href=&#34;https://en.wikipedia.org/wiki/Punycode&#34; title=&#34;Punycode - Wikipedia&#34;&gt;punycode&lt;/a&gt; を使った表記が認められている。
更に &lt;a href=&#34;https://en.wikipedia.org/wiki/Punycode&#34; title=&#34;Punycode - Wikipedia&#34;&gt;punycode&lt;/a&gt; を使った「ホモグラフ攻撃（homograph attack）」については以前から議論があり，少なくとも複数の言語の文字が混在する場合はブラウザ側で Unicode 文字による表記がキャンセルされる。
たとえば &lt;code&gt;xn-pple-43d.com&lt;/code&gt; は Unicode 表記では &lt;code&gt;аpple.com&lt;/code&gt; （先頭の а がキリル文字）だが， Chrome や Firefox といった主要ブラウザでは &lt;a href=&#34;https://en.wikipedia.org/wiki/Punycode&#34; title=&#34;Punycode - Wikipedia&#34;&gt;punycode&lt;/a&gt; のまま &lt;code&gt;xn-pple-43d.com&lt;/code&gt; と表記される（試さないように）。&lt;/p&gt;

&lt;p&gt;しかし複数言語が混在しない場合，つまり最初に挙げたキリル文字だけの “аррӏе&amp;rdquo; のような場合にはこの制約は効かない。
その言語による真っ当な名前なのかホモグラフ攻撃なのか見分けがつかないからである。
たとえば &lt;code&gt;xn--80ak6aa92e.com&lt;/code&gt; は &lt;code&gt;аррӏе.com&lt;/code&gt; だが “аррӏе&amp;rdquo; の部分は全てキリル文字なので主要ブラウザでも &lt;code&gt;аррӏе.com&lt;/code&gt; と表示される。&lt;/p&gt;

&lt;p&gt;PoC として &lt;a href=&#34;https://www.xn--80ak6aa92e.com/&#34;&gt;https://www.xn--80ak6aa92e.com/&lt;/a&gt; が用意されているので，皆さんが使っているブラウザで（証明書の詳細情報も含めて）ドメイン名がどう表示されるか確認して欲しい。&lt;/p&gt;

&lt;p&gt;さて，この手の攻撃の回避法だが， Chrome についてはバージョン 58 以降であれば &lt;code&gt;xn--80ak6aa92e.com&lt;/code&gt; も &lt;a href=&#34;https://en.wikipedia.org/wiki/Punycode&#34; title=&#34;Punycode - Wikipedia&#34;&gt;punycode&lt;/a&gt; 表記になる。
どういうロジックなのかは不明&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:idn&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:idn&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;。
Firefox については，設定の &lt;code&gt;network.IDN_show_punycode&lt;/code&gt; 項目&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:cfg&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:cfg&#34;&gt;3&lt;/a&gt;&lt;/sup&gt; を true にすれば強制的に &lt;a href=&#34;https://en.wikipedia.org/wiki/Punycode&#34; title=&#34;Punycode - Wikipedia&#34;&gt;punycode&lt;/a&gt; 表記になる。&lt;/p&gt;

&lt;p&gt;個人的には国際化ドメイン名は要らんのじゃないかと思うのだが，どうなんだろうねぇ。
果てしなく紛らわしい。&lt;/p&gt;

&lt;h2 id=&#34;ブックマーク&#34;&gt;ブックマーク&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://arstechnica.com/security/2017/04/chrome-firefox-and-opera-users-beware-this-isnt-the-apple-com-you-want/&#34;&gt;Chrome, Firefox, and Opera users beware: This isn’t the apple.com you want | Ars Technica&lt;/a&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://securingtomorrow.mcafee.com/business/neutralize-threats/chrome-and-firefox-adding-protection-against-this-nasty-phishing-trick/&#34;&gt;Chrome And Firefox Adding Protection Against This Nasty Phishing Trick | McAfee Blogs&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://bugs.chromium.org/p/chromium/issues/detail?id=683314&#34;&gt;683314 - Security: Whole-script confusable domain label spoofing (Cyrillic) - chromium - Monorail&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://bugzilla.mozilla.org/show_bug.cgi?id=1332714&#34;&gt;1332714 - IDN Phishing using whole-script confusables on Windows and Linux&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;http://forest.watch.impress.co.jp/docs/news/1055935.html&#34;&gt;「Google Chrome 58」が正式版に ～“Indexed DB 2.0”対応と29件の脆弱性修正 - 窓の杜&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://eset-info.canon-its.jp/malware_info/special/detail/151001.html&#34;&gt;本物と偽物の区別がつかないホモグラフ攻撃 | マルウェア情報局&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;http://punycode.jp/&#34;&gt;日本語JPドメイン名のPunycode変換・逆変換 - 日本語.jp&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;http://www.arearesearch.co.jp/learn/program/06.html&#34;&gt;日本語ドメイン→Punycode表記への変換 | IPラーニング&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;footnotes&#34;&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li id=&#34;fn:grp&#34;&gt;キリル文字の “аррӏе&amp;rdquo; の並びに単語としての意味はない。ここでは単純に字形の類似性のみに着目して考える。
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:grp&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:idn&#34;&gt;Firefox のように &lt;a href=&#34;https://en.wikipedia.org/wiki/Punycode&#34; title=&#34;Punycode - Wikipedia&#34;&gt;punycode&lt;/a&gt; をまるっと無視するのではないようだ。たとえば Chrome 58 でも「情報処理試験.jp（&lt;code&gt;xn--n9q36mh1hnxuksz7wt.jp&lt;/code&gt;）」はちゃんと Unicode 表記になる。
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:idn&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:cfg&#34;&gt;&lt;code&gt;about:config&lt;/code&gt; から設定する。 “punycode&amp;rdquo; で検索すれば一発で出てくる。
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:cfg&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</content>
	</entry>
	
	<entry>
		<title>GnuPG 2.1.20 がリリース - remark</title>
		<link rel="alternate" type="text/html" href="http://text.baldanders.info/remark/2017/04/gnupg-2_1_20-released/" />
		<id>tag:text.Baldanders.info,2017-04-04:/remark/2017/04/gnupg-2_1_20-released/</id>
		<published>2017-04-04T20:30:11+09:00</published>
		<updated>2017-04-04T20:45:16+09:00</updated>
		<summary>今回もセキュリティ・アップデートはなし。</summary>
		
			<author>
				<name>Spiegel</name>
				<uri>http://www.baldanders.info/spiegel/profile/</uri>
			</author>
			
	<link rel="cc:license" type="application/rdf+xml" href="http://creativecommons.org/licenses/by-sa/4.0/rdf" />


		
		<category term="remark" label="remark" scheme="http://text.baldanders.info/remark" />
		<content type="html" xml:lang="ja" xml:base="http://text.baldanders.info/">&lt;p&gt;GnuPG 2.1.20 がリリースされている。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://lists.gnupg.org/pipermail/gnupg-announce/2017q2/000404.html&#34;&gt;[Announce] GnuPG 2.1.20 released&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;今回もセキュリティ・アップデートはなし。
主な修正点は以下の通り。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;gpg: New properties &amp;lsquo;&lt;code&gt;expired&lt;/code&gt;&amp;rsquo;, &amp;lsquo;&lt;code&gt;revoked&lt;/code&gt;&amp;rsquo;, and &amp;lsquo;&lt;code&gt;disabled&lt;/code&gt;&amp;rsquo; for the import and export filters.&lt;/li&gt;
&lt;li&gt;gpg: New command &lt;code&gt;--quick-set-primary-uid&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;gpg: New compliance field for the &lt;code&gt;--with-colon&lt;/code&gt; key listing.&lt;/li&gt;
&lt;li&gt;gpg: Changed the key parser to generalize the processing of local meta data packets.&lt;/li&gt;
&lt;li&gt;gpg: Fixed assertion failure in the TOFU trust model.&lt;/li&gt;
&lt;li&gt;gpg: Fixed exporting of zero length user ID packets.&lt;/li&gt;
&lt;li&gt;scd: Improved support for multiple readers.&lt;/li&gt;
&lt;li&gt;scd: Fixed timeout handling for key generation.&lt;/li&gt;
&lt;li&gt;agent: New option &lt;code&gt;--enable-extended-key-format&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;dirmngr: Do not add a keyserver to a new dirmngr.conf.  Dirmngr uses a default keyserver.&lt;/li&gt;
&lt;li&gt;dimngr: Do not treat TLS warning alerts as severe error when building with GNUTLS.&lt;/li&gt;
&lt;li&gt;dirmngr: Actually take &lt;code&gt;/etc/hosts&lt;/code&gt; in account.&lt;/li&gt;
&lt;li&gt;wks: Fixed client problems on Windows.  Published keys are now set to world-readable.&lt;/li&gt;
&lt;li&gt;tests: Fixed creation of temporary directories.&lt;/li&gt;
&lt;li&gt;A socket directory for a non standard GNUGHOME is now created on the fly under &lt;code&gt;/run/user&lt;/code&gt;.  Thus &amp;ldquo;&lt;code&gt;gpgconf --create-socketdir&lt;/code&gt;&amp;rdquo; is now optional.  The use of &amp;ldquo;&lt;code&gt;gpgconf --remove-socketdir&lt;/code&gt;&amp;rdquo; to clean up obsolete socket directories is however recommended to avoid cluttering &lt;code&gt;/run/user&lt;/code&gt; with useless directories.&lt;/li&gt;
&lt;li&gt;Fixed build problems on some platforms.&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;$ gpg --version
gpg (GnuPG) 2.1.20
libgcrypt 1.7.6
Copyright (C) 2017 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &amp;lt;https://gnu.org/licenses/gpl.html&amp;gt;
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Home: ********
サポートしているアルゴリズム:
公開鍵: RSA, ELG, DSA, ECDH, ECDSA, EDDSA
暗号方式: IDEA, 3DES, CAST5, BLOWFISH, AES, AES192, AES256, TWOFISH,
    CAMELLIA128, CAMELLIA192, CAMELLIA256
ハッシュ: SHA1, RIPEMD160, SHA256, SHA384, SHA512, SHA224
圧縮: 無圧縮, ZIP, ZLIB, BZIP2
&lt;/code&gt;&lt;/pre&gt;

&lt;div class=&#34;hreview&#34; &gt;&lt;a class=&#34;item url&#34; href=&#34;http://www.amazon.co.jp/exec/obidos/ASIN/B015643CPE/baldandersinf-22/&#34;&gt;&lt;img src=&#34;http://ecx.images-amazon.com/images/I/51t6yHHVwEL._SL160_.jpg&#34; alt=&#34;photo&#34; class=&#34;photo&#34;  /&gt;&lt;/a&gt;&lt;dl &gt;&lt;dt class=&#34;fn&#34;&gt;&lt;a class=&#34;item url&#34; href=&#34;http://www.amazon.co.jp/exec/obidos/ASIN/B015643CPE/baldandersinf-22/&#34;&gt;暗号技術入門 第3版　秘密の国のアリス&lt;/a&gt;&lt;/dt&gt;&lt;dd&gt;結城 浩 &lt;/dd&gt;&lt;dd&gt;SBクリエイティブ 2015-08-25&lt;/dd&gt;&lt;dd&gt;評価&lt;abbr class=&#34;rating&#34; title=&#34;5&#34;&gt;&lt;img src=&#34;http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif&#34; alt=&#34;&#34; /&gt;&lt;/abbr&gt; &lt;/dd&gt;&lt;/dl&gt;&lt;p class=&#34;similar&#34;&gt;&lt;a href=&#34;http://www.amazon.co.jp/exec/obidos/ASIN/B0148FQNVC/baldandersinf-22/&#34; target=&#34;_top&#34;&gt;&lt;img src=&#34;http://images.amazon.com/images/P/B0148FQNVC.09._SCTHUMBZZZ_.jpg&#34;  alt=&#34;自作エミュレータで学ぶx86アーキテクチャ　コンピュータが動く仕組みを徹底理解！&#34;  /&gt;&lt;/a&gt; &lt;a href=&#34;http://www.amazon.co.jp/exec/obidos/ASIN/B00W6NCLJM/baldandersinf-22/&#34; target=&#34;_top&#34;&gt;&lt;img src=&#34;http://images.amazon.com/images/P/B00W6NCLJM.09._SCTHUMBZZZ_.jpg&#34;  alt=&#34;数学ガールの秘密ノート/丸い三角関数&#34;  /&gt;&lt;/a&gt; &lt;a href=&#34;http://www.amazon.co.jp/exec/obidos/ASIN/B00Y9EYOIW/baldandersinf-22/&#34; target=&#34;_top&#34;&gt;&lt;img src=&#34;http://images.amazon.com/images/P/B00Y9EYOIW.09._SCTHUMBZZZ_.jpg&#34;  alt=&#34;数学ガールの秘密ノート/微分を追いかけて&#34;  /&gt;&lt;/a&gt; &lt;a href=&#34;http://www.amazon.co.jp/exec/obidos/ASIN/B012BYBTZC/baldandersinf-22/&#34; target=&#34;_top&#34;&gt;&lt;img src=&#34;http://images.amazon.com/images/P/B012BYBTZC.09._SCTHUMBZZZ_.jpg&#34;  alt=&#34;情報セキュリティ白書2015: サイバーセキュリティ新時代：あらゆる変化へ柔軟な対応を&#34;  /&gt;&lt;/a&gt; &lt;a href=&#34;http://www.amazon.co.jp/exec/obidos/ASIN/B00W6NCLL0/baldandersinf-22/&#34; target=&#34;_top&#34;&gt;&lt;img src=&#34;http://images.amazon.com/images/P/B00W6NCLL0.09._SCTHUMBZZZ_.jpg&#34;  alt=&#34;数学ガールの秘密ノート/数列の広場&#34;  /&gt;&lt;/a&gt; &lt;/p&gt;
&lt;p class=&#34;description&#34;&gt;SHA-3 や Bitcoin/Blockchain など新しい知見や技術要素を大幅追加。暗号技術を使うだけならこれ1冊でとりあえず無問題。&lt;/p&gt;
&lt;p class=&#34;gtools&#34; &gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2015-09-20&#34;&gt;2015-09-20&lt;/abbr&gt; (powered by &lt;a href=&#34;http://www.goodpic.com/mt/aws/index.html&#34; &gt;G-Tools&lt;/a&gt;)&lt;/p&gt;
&lt;/div&gt;
</content>
	</entry>
	
	<entry>
		<title>「隠すことによるセキュリティ」が何をもたらすか - remark</title>
		<link rel="alternate" type="text/html" href="http://text.baldanders.info/remark/2017/03/security-by-obscurity/" />
		<id>tag:text.Baldanders.info,2017-03-25:/remark/2017/03/security-by-obscurity/</id>
		<published>2017-03-25T13:57:44+09:00</published>
		<updated>2017-04-05T13:02:53+09:00</updated>
		<summary>よく「隠すセキュリティはダメ」と言われるが，目的はどうあれ脆弱性情報を秘匿することがどういう結果をもたらすか身に染みたのではないだろうか。</summary>
		
			<author>
				<name>Spiegel</name>
				<uri>http://www.baldanders.info/spiegel/profile/</uri>
			</author>
			
	<link rel="cc:license" type="application/rdf+xml" href="http://creativecommons.org/licenses/by-sa/4.0/rdf" />


		
		<category term="remark" label="remark" scheme="http://text.baldanders.info/remark" />
		<content type="html" xml:lang="ja" xml:base="http://text.baldanders.info/">

&lt;p&gt;例の &lt;a href=&#34;http://text.baldanders.info/remark/2017/03/cia-hacking-tools-from-wikileaks/&#34; title=&#34;WikiLeaks がリークした CIA ハッキングツール&#34;&gt;Vault 7 絡み&lt;/a&gt;の話。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://itpro.nikkeibp.co.jp/atcl/column/14/346926/032300899/?rt=nocnt&#34;&gt;ニュース解説 - CIAの機密文書で発覚、シスコ製品300種類にパッチ提供未定の危険な脆弱性：ITpro&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Cisco は相変わらず「遅い」なぁ。
まぁほかのネットワーク機器を販売している企業も似たり寄ったりなのだが。&lt;/p&gt;

&lt;p&gt;それはともかく，今回の Cisco 製品の脆弱性は telnet 絡みのもののようだ。&lt;/p&gt;

&lt;figure&gt;
&lt;blockquote&gt;
&lt;q&gt;CMPとは、クラスターを構成する別の機器に、TELNETを使ってメッセージやコマンドを送信するためのプロトコル。今回見つかったCMPの脆弱性を突くと、攻撃者はアクセス権限のないシスコ製品にTELNETで接続できる。その結果、その製品を乗っ取ったり、製品上でウイルスを実行したりすることが可能になる。&lt;/q&gt;
&lt;/blockquote&gt;
&lt;figcaption&gt;via &lt;q&gt;&lt;a href=&#34;http://itpro.nikkeibp.co.jp/atcl/column/14/346926/032300899/?rt=nocnt&#34;&gt; CIAの機密文書で発覚、シスコ製品300種類にパッチ提供未定の危険な脆弱性&lt;/a&gt;&lt;/q&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;言うまでもないが，もはや telnet は使ってはいけない。
可能な限り無効にするべき。&lt;/p&gt;

&lt;figure&gt;
&lt;blockquote&gt;
&lt;q&gt;パッチ提供前の対策として同社が挙げているのが、IOS/IOS XEでTELNETを無効にすること。これにより、脆弱性がある機器でも攻撃されることを防げる。TELNETの代わりには、SSHを利用するよう推奨している。また、TELNETを無効にできない環境では、アクセス制御で対応するよう呼びかけている。&lt;/q&gt;
&lt;/blockquote&gt;
&lt;figcaption&gt;via &lt;q&gt;&lt;a href=&#34;http://itpro.nikkeibp.co.jp/atcl/column/14/346926/032300899/?rt=nocnt&#34;&gt; CIAの機密文書で発覚、シスコ製品300種類にパッチ提供未定の危険な脆弱性&lt;/a&gt;&lt;/q&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;その上で ssh を使えばいいのだが ssh でもパスワード認証は比較的破られやすいことが分かっているので必ず公開鍵暗号を使った認証を使うこと。
ついでに ssh の version 1 は使わないこと。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;span&gt;&lt;a href=&#34;https://www.ipa.go.jp/security/fy15/reports/protocol/documents/protocol_2003.pdf&#34;&gt;セキュアプロトコルに対する攻撃法等に関する技術調査&lt;sup&gt;&lt;i class=&#34;fa fa-file-pdf-o&#34;&gt;&lt;/i&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&lt;a href=&#34;https://ipsj.ixsq.nii.ac.jp/ej/?action=repository_action_common_download&amp;amp;item_id=10325&amp;amp;item_no=1&amp;amp;attribute_id=1&amp;amp;file_no=1&#34;&gt;SSH パスワードユーザ認証の脆弱性とその考察&lt;sup&gt;&lt;i class=&#34;fa fa-file-pdf-o&#34;&gt;&lt;/i&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Vault 7 では脆弱性情報について PoC (Proof of Concept) や exploit code などの詳細情報がなく解析に時間がかかっているようだ&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:r1&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:r1&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;

&lt;figure&gt;
&lt;blockquote&gt;
&lt;q&gt;ところが今回のケースでは、CIAから流出したとする機密文書Vault 7から脆弱性の存在が判明した。このためシスコは、詳細な情報やエクスプロイトを入手していない可能性がある。&lt;br&gt;
実際、シスコの公式ブログには、「（今回の脆弱性に関連する）ツールやマルウエアは公表されていないので、シスコが取れるアクションは限られている。より多くの情報を入手するまでは、脆弱性ハンドリングの観点でシスコができることはほとんどない」としている。&lt;/q&gt;
&lt;/blockquote&gt;
&lt;figcaption&gt;via &lt;q&gt;&lt;a href=&#34;http://itpro.nikkeibp.co.jp/atcl/column/14/346926/032300899/?rt=nocnt&#34;&gt; CIAの機密文書で発覚、シスコ製品300種類にパッチ提供未定の危険な脆弱性&lt;/a&gt;&lt;/q&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;div class=&#34;box&#34;&gt;
&lt;p&gt;&lt;strong&gt;追記（2017-04-04）&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://the01.jp/p0004740/&#34;&gt;暴露されたCIAの諜報能力「Vault 7」の衝撃度（前編） | THE ZERO/ONE&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;この記事によるとちょっと状況が異なるようである。&lt;/p&gt;

&lt;figure&gt;
&lt;blockquote&gt;
&lt;q&gt;それに対して今回のYear Zeroが公開したのは、CIAが利用しているサイバー兵器そのものの情報だ。「CIAはこんなツールを使っていますよ」ではなく、CIAの利用しているゼロデイ、マルウェア、エクスプロイトなどの現物の情報である。WikiLeaksは、「このスマートフォンの脆弱性を利用してインストールできるマルウェア」や、「あの暗号化通信のアプリケーションを迂回できるツール」をソースコードごと入手しており、閲覧しても問題のない形で（＝他者から悪用されない形で）それらの情報を公開している。&lt;/q&gt;
&lt;/blockquote&gt;
&lt;figcaption&gt;via &lt;q&gt;&lt;a href=&#34;https://the01.jp/p0004740/&#34;&gt;暴露されたCIAの諜報能力「Vault 7」の衝撃度（前編）&lt;/a&gt;&lt;/q&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;つまり WikiLeaks 側は脆弱性情報に対して exploit code 等の詳細情報を持っていることになる。
であれば，後述のように，ベンダ企業にはその詳細情報が渡っている筈である（多分）。&lt;/p&gt;

&lt;/div&gt;

&lt;p&gt;WikiLeaks 側は製品のベンダ企業に対して脆弱性の一般公開まで90日間の猶予を設けているらしい（予告なしに公開はしないということ）。&lt;/p&gt;

&lt;figure lang=&#34;en&#34;&gt;
&lt;blockquote&gt;
&lt;q&gt;WikiLeaks included a document in the email, requesting the companies to sign off on a series of conditions before being able to receive the actual technical details to deploy patches, according to sources. It&#39;s unclear what the conditions are, but a source mentioned a 90-day disclosure deadline, which would compel companies to commit to issuing a patch within three months.&lt;/q&gt;
&lt;/blockquote&gt;
&lt;figcaption&gt;via &lt;q&gt;&lt;a href=&#34;https://motherboard.vice.com/en_us/article/wikileaks-wont-tell-tech-companies-how-to-patch-cia-zero-days-until-its-demands-are-met&#34;&gt;WikiLeaks Won’t Tell Tech Companies How to Patch CIA Zero-Days Until Its Demands Are Met&lt;/a&gt;&lt;/q&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;90日の猶予期間というのは Google の Project Zero などでもやっているので特に無理筋な設定ではないと思うが Cisco みたいな企業だと厳しいかもしれない。
一方で Android や iOS などでは発覚した脆弱性の殆んどは修正済みだったらしい。
そういった脆弱性情報の解析・対処の能力の違いはありそうである。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://gigazine.net/news/20170310-apple-google-treat-cia-hucking/&#34;&gt;「CIAハッキングの脆弱性のほとんどは対応済み」とGoogleやAppleは公表するものの依然として危険な状態は続いている - GIGAZINE&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;この問題の根源は CIA などの諜報機関が脆弱性情報を「悪用」するために秘匿していたことである。
よく「隠すことによるセキュリティはダメ」と言われるが，目的はどうあれ脆弱性情報を秘匿することがどういう結果をもたらすか身に染みたのではないだろうか。&lt;/p&gt;

&lt;figure lang=&#34;en&#34;&gt;
&lt;blockquote&gt;
&lt;q&gt;Honestly, at this point the CIA should do the right thing and disclose all the vulnerabilities to the companies. They&#39;re burned as CIA attack tools. I have every confidence that Russia, China, and several other countries can hack WikiLeaks and get their hands on a copy. By now, their primary value is for defense. The CIA should bypass WikiLeaks and get the vulnerabilities fixed as soon as possible.&lt;/q&gt;
&lt;/blockquote&gt;
&lt;figcaption&gt;via &lt;q&gt;&lt;a href=&#34;https://www.schneier.com/blog/archives/2017/03/wikileaks_not_d.html&#34;&gt;WikiLeaks Not Disclosing CIA-Hoarded Vulnerabilities to Companies&lt;/a&gt;&lt;/q&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h2 id=&#34;ブックマーク&#34;&gt;ブックマーク&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://tools.cisco.com/security/center/content/CiscoSecurityAdvisory/cisco-sa-20170317-cmp&#34;&gt;Cisco IOS and IOS XE Software Cluster Management Protocol Remote Code Execution Vulnerability&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://motherboard.vice.com/en_us/article/wikileaks-wont-tell-tech-companies-how-to-patch-cia-zero-days-until-its-demands-are-met&#34;&gt;WikiLeaks Won’t Tell Tech Companies How to Patch CIA Zero-Days Until Its Demands Are Met - Motherboard&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.schneier.com/blog/archives/2017/03/wikileaks_not_d.html&#34;&gt;WikiLeaks Not Disclosing CIA-Hoarded Vulnerabilities to Companies - Schneier on Security&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://technet.microsoft.com/ja-jp/library/2008.06.obscurity.aspx&#34;&gt;Is Security by Obscurity a valid approach? (大論争 : 隠すことによるセキュリティ)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://the01.jp/p0004740/&#34;&gt;暴露されたCIAの諜報能力「Vault 7」の衝撃度（前編） | THE ZERO/ONE&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://the01.jp/p0004753/&#34;&gt;暴露されたCIAの諜報能力「Vault 7」の衝撃度（中編） | THE ZERO/ONE&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://the01.jp/p0004767/&#34;&gt;暴露されたCIAの諜報能力「Vault 7」の衝撃度（後編） | THE ZERO/ONE&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;footnotes&#34;&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li id=&#34;fn:r1&#34;&gt;Vault 7 のリーク元がロシアということもあって情報自体の信憑性を確認する必要もある。
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:r1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</content>
	</entry>
	
	<entry>
		<title>HTTPS 通信監視機器のリスク - remark</title>
		<link rel="alternate" type="text/html" href="http://text.baldanders.info/remark/2017/03/security-risk-of-https-interception/" />
		<id>tag:text.Baldanders.info,2017-03-21:/remark/2017/03/security-risk-of-https-interception/</id>
		<published>2017-03-21T20:32:28+09:00</published>
		<updated>2017-03-27T11:41:32+09:00</updated>
		<summary>2015年の CERT/CC ブログ記事「The Risks of SSL Inspection」に関する注意喚起が今更ながら出ている。</summary>
		
			<author>
				<name>Spiegel</name>
				<uri>http://www.baldanders.info/spiegel/profile/</uri>
			</author>
			
	<link rel="cc:license" type="application/rdf+xml" href="http://creativecommons.org/licenses/by-sa/4.0/rdf" />


		
		<category term="remark" label="remark" scheme="http://text.baldanders.info/remark" />
		<content type="html" xml:lang="ja" xml:base="http://text.baldanders.info/">

&lt;p&gt;2015年の CERT/CC ブログ記事 “&lt;a href=&#34;http://insights.sei.cmu.edu/cert/2015/03/the-risks-of-ssl-inspection.html&#34;&gt;The Risks of SSL Inspection&lt;/a&gt;” に関する注意喚起が今更ながら出ている。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://insights.sei.cmu.edu/cert/2015/03/the-risks-of-ssl-inspection.html&#34;&gt;The Risks of SSL Inspection&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;&lt;span&gt;&lt;a href=&#34;https://jhalderm.com/pub/papers/interception-ndss17.pdf&#34;&gt;The Security Impact of HTTPS Interception&lt;sup&gt;&lt;i class=&#34;fa fa-file-pdf-o&#34;&gt;&lt;/i&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.us-cert.gov/ncas/alerts/TA17-075A&#34;&gt;HTTPS Interception Weakens TLS Security | US-CERT&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://jvn.jp/ta/JVNTA96603741/&#34;&gt;JVNTA#96603741: HTTPS 通信監視機器によるセキュリティ強度低下の問題&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;「HTTPS 通信監視機器」というのは，ぶっちゃけていうと， HTTPS 暗号通信&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:https&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:https&#34;&gt;1&lt;/a&gt;&lt;/sup&gt; に「中間者攻撃（man-in-the-middle attack）」を仕掛けて通信を傍受し malware 等を検出・排除する「セキュリティ製品」である。&lt;/p&gt;

&lt;p&gt;HTTPS 通信監視機器のいくつかにはセキュリティ上の問題が存在する。
“&lt;a href=&#34;http://insights.sei.cmu.edu/cert/2015/03/the-risks-of-ssl-inspection.html&#34;&gt;The Risks of SSL Inspection&lt;/a&gt;” から抜き出してみよう。&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Incomplete validation of upstream certificate validity&lt;/li&gt;
&lt;li&gt;Not conveying validation of upstream certificate to the client&lt;/li&gt;
&lt;li&gt;Overloading of certificate Canonical Name (CN) field&lt;/li&gt;
&lt;li&gt;Use of the application layer to convey certificate validity&lt;/li&gt;
&lt;li&gt;Use of a User-Agent HTTP header to determine when to validate a certificate&lt;/li&gt;
&lt;li&gt;Communication before warning&lt;/li&gt;
&lt;li&gt;Same root CA certificate&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;これらの問題があると推測される製品のリストが “&lt;a href=&#34;http://insights.sei.cmu.edu/cert/2015/03/the-risks-of-ssl-inspection.html&#34;&gt;The Risks of SSL Inspection&lt;/a&gt;” に挙がっているので該当者は確認してみるとよいだろう。
また以下のサイトからも確認できる。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://badssl.com/&#34;&gt;badssl.com&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;“&lt;a href=&#34;http://insights.sei.cmu.edu/cert/2015/03/the-risks-of-ssl-inspection.html&#34;&gt;The Risks of SSL Inspection&lt;/a&gt;” では以下のように結論付けている。&lt;/p&gt;

&lt;figure lang=&#34;en&#34;&gt;
&lt;blockquote&gt;
&lt;q&gt;SSL and TLS do not provide the level of end-to-end security that users may expect. Even in absence of SSL inspection, there are problems with how well browsers are conveying SSL information to users. The fact that &#34;SSL inspection&#34; is a phrase that exists, should be a blazing red flag that what you think SSL is doing for you is fundamentally broken.&lt;/q&gt;
&lt;/blockquote&gt;
&lt;figcaption&gt;via &lt;q&gt;&lt;a href=&#34;http://insights.sei.cmu.edu/cert/2015/03/the-risks-of-ssl-inspection.html&#34;&gt;The Risks of SSL Inspection&lt;/a&gt;&lt;/q&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;&lt;a href=&#34;http://www.baldanders.info/spiegel/log2/000812.shtml&#34; title=&#34;HTTPS Deep Inspection — Baldanders.info&#34;&gt;以前も書いた&lt;/a&gt;が，HTTPS 通信監視機器（あるいは HTTPS Deep Inspection）の存在自体がインターネットの “End to End” 原則を崩すものであり，ひいては「ネットの中立性」に楔を入れるものである。
しかし「&lt;a href=&#34;http://text.baldanders.info/remark/2016/03/vulnerability-cross-protocol-attack-on-tls-using-sslv2/&#34; title=&#34;SSLv2 を有効にしている TLS 実装の脆弱性 ― 馬も鹿も暗号化する時代のセキュリティ&#34;&gt;馬も鹿も暗号化する時代&lt;/a&gt;」にこの原則は風前の灯である。
たとえば &lt;a href=&#34;http://text.baldanders.info/remark/2016/07/cms/&#34; title=&#34;「自分で面倒見られる子」だけが CMS を導入しなさい&#34;&gt;CMS の面倒すらろくすっぽ見られない&lt;/a&gt;ユーザが「うちも &lt;a href=&#34;https://letsencrypt.org/&#34; title=&#34;Let&#39;s Encrypt - Free SSL/TLS Certificates&#34;&gt;Let&amp;rsquo;s la Encrypt&lt;/a&gt;」とか言い出して脆弱性だらけのサイトを暗号化したらどうなるのか。&lt;/p&gt;

&lt;p&gt;ネットワーク・セキュリティ専門家から企業あるいは私たち個人に至るまで，場当たりな対処に満足するのではなく，この「現実」にきちんと向き合うべきだと思うのだが，どうだろう。&lt;/p&gt;

&lt;h2 id=&#34;おまけの追記-公開鍵基盤が担保するもの&#34;&gt;【おまけの追記】公開鍵基盤が担保するもの&lt;/h2&gt;

&lt;p&gt;他の事象だが同じ公開鍵基盤（Public Key Infrastructure; PKI）に関連している事柄なので，おまけの追記ということで。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.computerworld.com/article/3184573/security/to-punish-symantec-google-may-distrust-a-third-of-the-webs-ssl-certificates.html&#34;&gt;To punish Symantec, Google may distrust a third of the web&amp;rsquo;s SSL certificates | Computerworld&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://notchained.hatenablog.com/entry/2017/03/27/090554&#34;&gt;Symantecが再びGoogleの信頼を失った件についてのメモ - Technically, technophobic.&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://japan.cnet.com/article/35098759/&#34;&gt;グーグル、シマンテックが発行したTLS証明書に不信感 - CNET Japan&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;「&lt;a href=&#34;http://notchained.hatenablog.com/entry/2017/03/27/090554&#34; title=&#34;Symantecが再びGoogleの信頼を失った件についてのメモ - Technically, technophobic.&#34;&gt;Symantecが再びGoogleの信頼を失った件についてのメモ&lt;/a&gt;」にもあるように Symantec （傘下の Thawte）は既に前科持ちなので「またか（sigh）」って感じなのだが&amp;hellip;&lt;/p&gt;

&lt;p&gt;X.509 型の公開鍵基盤は認証局（Certification Authority; CA）が信頼できることが絶対条件で，これが崩れると機能しなくなる。&lt;/p&gt;

&lt;p&gt;喩えるならお金と銀行の関係と似ている。
銀行はお金の価値を担保するが銀行が信用できないのならお金の価値を担保するものがなくなる。
同じく認証局が管理する証明書は認証局が安全性を担保できているからこそ意味がある。
そうでなければオレオレ証明書またはそれ以下の価値しかない。&lt;/p&gt;

&lt;p&gt;この問題は Symantec と Google の2者間の喧嘩だと思ったら物事を見誤る。
現在 Web を支配している公開鍵基盤の根幹に関わる問題なのである。&lt;/p&gt;

&lt;p&gt;それにしても，昔「&lt;a href=&#34;http://www.baldanders.info/spiegel/log2/000277.shtml&#34; title=&#34;Extended Validation SSL — Baldanders.info&#34;&gt;EV SSL は『屋上屋を架す』ようにしか見えない&lt;/a&gt;」と書いたが，まったくもってその通りだったな（笑）&lt;/p&gt;

&lt;h2 id=&#34;ブックマーク&#34;&gt;ブックマーク&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.baldanders.info/spiegel/log2/000809.shtml&#34;&gt;Malware Spoofing HTTPS（3月2日，追記あり） — Baldanders.info&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.baldanders.info/spiegel/log2/000812.shtml&#34;&gt;HTTPS Deep Inspection — Baldanders.info&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://japan.zdnet.com/article/35098402/&#34;&gt;HTTPS監視装置にセキュリティ低下の危険性&amp;ndash;日米機関で注意喚起 - ZDNet Japan&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.schneier.com/blog/archives/2017/03/new_paper_on_en.html&#34;&gt;New Paper on Encryption Workarounds - Schneier on Security&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2938033&#34;&gt;Encryption Workarounds by Orin S. Kerr, Bruce Schneier :: SSRN&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;参考図書&#34;&gt;参考図書&lt;/h2&gt;

&lt;div class=&#34;hreview&#34; &gt;&lt;a class=&#34;item url&#34; href=&#34;http://www.amazon.co.jp/exec/obidos/ASIN/B015643CPE/baldandersinf-22/&#34;&gt;&lt;img src=&#34;http://ecx.images-amazon.com/images/I/51t6yHHVwEL._SL160_.jpg&#34; alt=&#34;photo&#34; class=&#34;photo&#34;  /&gt;&lt;/a&gt;&lt;dl &gt;&lt;dt class=&#34;fn&#34;&gt;&lt;a class=&#34;item url&#34; href=&#34;http://www.amazon.co.jp/exec/obidos/ASIN/B015643CPE/baldandersinf-22/&#34;&gt;暗号技術入門 第3版　秘密の国のアリス&lt;/a&gt;&lt;/dt&gt;&lt;dd&gt;結城 浩 &lt;/dd&gt;&lt;dd&gt;SBクリエイティブ 2015-08-25&lt;/dd&gt;&lt;dd&gt;評価&lt;abbr class=&#34;rating&#34; title=&#34;5&#34;&gt;&lt;img src=&#34;http://g-images.amazon.com/images/G/01/detail/stars-5-0.gif&#34; alt=&#34;&#34; /&gt;&lt;/abbr&gt; &lt;/dd&gt;&lt;/dl&gt;&lt;p class=&#34;similar&#34;&gt;&lt;a href=&#34;http://www.amazon.co.jp/exec/obidos/ASIN/B0148FQNVC/baldandersinf-22/&#34; target=&#34;_top&#34;&gt;&lt;img src=&#34;http://images.amazon.com/images/P/B0148FQNVC.09._SCTHUMBZZZ_.jpg&#34;  alt=&#34;自作エミュレータで学ぶx86アーキテクチャ　コンピュータが動く仕組みを徹底理解！&#34;  /&gt;&lt;/a&gt; &lt;a href=&#34;http://www.amazon.co.jp/exec/obidos/ASIN/B00W6NCLJM/baldandersinf-22/&#34; target=&#34;_top&#34;&gt;&lt;img src=&#34;http://images.amazon.com/images/P/B00W6NCLJM.09._SCTHUMBZZZ_.jpg&#34;  alt=&#34;数学ガールの秘密ノート/丸い三角関数&#34;  /&gt;&lt;/a&gt; &lt;a href=&#34;http://www.amazon.co.jp/exec/obidos/ASIN/B00Y9EYOIW/baldandersinf-22/&#34; target=&#34;_top&#34;&gt;&lt;img src=&#34;http://images.amazon.com/images/P/B00Y9EYOIW.09._SCTHUMBZZZ_.jpg&#34;  alt=&#34;数学ガールの秘密ノート/微分を追いかけて&#34;  /&gt;&lt;/a&gt; &lt;a href=&#34;http://www.amazon.co.jp/exec/obidos/ASIN/B012BYBTZC/baldandersinf-22/&#34; target=&#34;_top&#34;&gt;&lt;img src=&#34;http://images.amazon.com/images/P/B012BYBTZC.09._SCTHUMBZZZ_.jpg&#34;  alt=&#34;情報セキュリティ白書2015: サイバーセキュリティ新時代：あらゆる変化へ柔軟な対応を&#34;  /&gt;&lt;/a&gt; &lt;a href=&#34;http://www.amazon.co.jp/exec/obidos/ASIN/B00W6NCLL0/baldandersinf-22/&#34; target=&#34;_top&#34;&gt;&lt;img src=&#34;http://images.amazon.com/images/P/B00W6NCLL0.09._SCTHUMBZZZ_.jpg&#34;  alt=&#34;数学ガールの秘密ノート/数列の広場&#34;  /&gt;&lt;/a&gt; &lt;/p&gt;
&lt;p class=&#34;description&#34;&gt;SHA-3 や Bitcoin/Blockchain など新しい知見や技術要素を大幅追加。暗号技術を使うだけならこれ1冊でとりあえず無問題。&lt;/p&gt;
&lt;p class=&#34;gtools&#34; &gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2015-09-20&#34;&gt;2015-09-20&lt;/abbr&gt; (powered by &lt;a href=&#34;http://www.goodpic.com/mt/aws/index.html&#34; &gt;G-Tools&lt;/a&gt;)&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li id=&#34;fn:https&#34;&gt;念のため簡単に説明しておくと， HTTPS (Hypertext Transfer Protocol Secure) 暗号通信は WWW (World Wide Web) におけるクライアント-サーバ間の通信経路を暗号化する仕組みである。具体的には TLS (Transport Layer Security) 等のプロトコルを用い公開鍵暗号方式を使ってセッション鍵を生成する。また公開鍵暗号方式の公開鍵は X.509 方式の公開鍵基盤によって管理される。
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:https&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</content>
	</entry>
	
	<entry>
		<title>WikiLeaks がリークした CIA ハッキングツール - remark</title>
		<link rel="alternate" type="text/html" href="http://text.baldanders.info/remark/2017/03/cia-hacking-tools-from-wikileaks/" />
		<id>tag:text.Baldanders.info,2017-03-09:/remark/2017/03/cia-hacking-tools-from-wikileaks/</id>
		<published>2017-03-09T20:11:34+09:00</published>
		<updated>2017-04-05T13:02:36+09:00</updated>
		<summary>とりあえずブックマークを中心に。以後，追記予定。</summary>
		
			<author>
				<name>Spiegel</name>
				<uri>http://www.baldanders.info/spiegel/profile/</uri>
			</author>
			
	<link rel="cc:license" type="application/rdf+xml" href="http://creativecommons.org/licenses/by-sa/4.0/rdf" />


		
		<category term="remark" label="remark" scheme="http://text.baldanders.info/remark" />
		<content type="html" xml:lang="ja" xml:base="http://text.baldanders.info/">

&lt;p&gt;とりあえずブックマークを中心に。
以後，追記予定。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://wikileaks.org/ciav7p1/&#34;&gt;Vault 7: CIA Hacking Tools Revealed&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.schneier.com/blog/archives/2017/03/wikileaks_relea.html&#34;&gt;WikiLeaks Releases CIA Hacking Tools - Schneier on Security&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.itmedia.co.jp/news/articles/1703/08/news062.html&#34;&gt;WikiLeaks、CIAの“ハッキングツール”と多数の関連文書を公開 - ITmedia NEWS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://gigazine.net/news/20170308-wikileaks-vault-7/&#34;&gt;「自動車をハッキングして暗殺する」「テレビで部屋の会話を録音する」などCIAの極秘諜報作戦の実態を暴露する機密資料「Vault 7」をWikiLeaksが放出 - GIGAZINE&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://protonmail.com/blog/cia-wikileaks-encryption/&#34;&gt;Wikileaks CIA Files - What this means for Internet security and encryption - ProtonMail Blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.nytimes.com/2017/03/07/world/europe/wikileaks-cia-hacking.html&#34;&gt;WikiLeaks Releases Trove of Alleged C.I.A. Hacking Documents - The New York Times&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.schneier.com/blog/archives/2017/03/more_on_the_cia.html&#34;&gt;More on the CIA Document Leak - Schneier on Security&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.lawfareblog.com/few-observations-wikileaks-and-vault7-hacking-cia&#34;&gt;A Few Observations on Wikileaks and Vault7: Hacking at the CIA - Lawfare&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.fsight.jp/articles/-/42094&#34;&gt;シリア内戦での米露協調にワシントンの政争は影響を及ぼすか：池内恵 | 池内恵の中東通信 | 新潮社　Foresight(フォーサイト) | 会員制国際情報サイト&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.newsweekjapan.jp/stories/world/2017/04/post-7311.php&#34;&gt;エクアドル大統領選に「介入」したアサンジの迷走 | ワールド | 最新記事 | ニューズウィーク日本版 オフィシャルサイト&lt;/a&gt; : WikiLeaks に対する批判記事&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://the01.jp/p0004740/&#34;&gt;暴露されたCIAの諜報能力「Vault 7」の衝撃度（前編） | THE ZERO/ONE&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://the01.jp/p0004753/&#34;&gt;暴露されたCIAの諜報能力「Vault 7」の衝撃度（中編） | THE ZERO/ONE&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://the01.jp/p0004767/&#34;&gt;暴露されたCIAの諜報能力「Vault 7」の衝撃度（後編） | THE ZERO/ONE&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;まずは &lt;a href=&#34;https://www.schneier.com/blog/archives/2017/03/more_on_the_cia.html&#34; title=&#34;More on the CIA Document Leak - Schneier on Security&#34;&gt;“Schneier on Security” の記事&lt;/a&gt;。&lt;/p&gt;

&lt;figure lang=&#34;en&#34;&gt;
&lt;blockquote&gt;
&lt;q&gt;One, there is absolutely nothing illegal in the contents of any of this stuff. It&#39;s exactly what you&#39;d expect the CIA to be doing in cyberspace. That makes the whistleblower motive less likely. And two, the documents are a few years old, making this more like the Shadow Brokers than Edward Snowden. An internal leaker would leak quickly. A foreign intelligence agency -- like the Russians -- would use the documents while they were fresh and valuable, and only expose them when the embarrassment value was greater.&lt;/q&gt;
&lt;/blockquote&gt;
&lt;figcaption&gt;via &lt;q&gt;&lt;a href=&#34;https://www.schneier.com/blog/archives/2017/03/more_on_the_cia.html&#34;&gt;More on the CIA Document Leak&lt;/a&gt;&lt;/q&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;ロシア。
あぁ，ロシアか。
なるほど。&lt;/p&gt;

&lt;figure lang=&#34;en&#34;&gt;
&lt;blockquote&gt;
&lt;q&gt;But James Lewis, an expert on cybersecurity at the Center for Strategic and International Studies in Washington, raised another possibility: that a foreign state, most likely Russia, stole the documents by hacking or other means and delivered them to WikiLeaks, which may not know how they were obtained. Mr. Lewis noted that, according to American intelligence agencies, Russia hacked Democratic targets during the presidential campaign and gave thousands of emails to WikiLeaks for publication.&lt;/q&gt;
&lt;/blockquote&gt;
&lt;figcaption&gt;via &lt;q&gt;&lt;a href=&#34;https://www.nytimes.com/2017/03/07/world/europe/wikileaks-cia-hacking.html&#34;&gt;WikiLeaks Releases Trove of Alleged C.I.A. Hacking Documents&lt;/a&gt;&lt;/q&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;ニューヨーク・タイムズ紙だとあまりマジにとらないほうがいいかな？&lt;/p&gt;

&lt;p&gt;不本意にも WikiLeaks で脆弱性を公にされてしまったツール群の状況は以下の通り。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://forest.watch.impress.co.jp/docs/news/1048597.html&#34;&gt;CIAが悪用していたセキュリティホールを埋めた「Notepad++」v7.3.3が公開 - 窓の杜&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://forest.watch.impress.co.jp/docs/serial/yajiuma/1048726.html&#34;&gt;機密文書“Vault 7”で有名フリーソフトを使ったCIAのスパイ手法が明らかに - やじうまの杜 - 窓の杜&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://iphone-mania.jp/news-160957/&#34;&gt;Apple、Wikileaksが公開したiPhone脆弱性「すべて修正済み」 - iPhone Mania&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://gigazine.net/news/20170310-apple-google-treat-cia-hucking/&#34;&gt;「CIAハッキングの脆弱性のほとんどは対応済み」とGoogleやAppleは公表するものの依然として危険な状態は続いている - GIGAZINE&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://p2ptk.org/privacy/574&#34;&gt;CIAはSignalやWhatsAppの暗号化を破ったわけじゃあない – P2Pとかその辺のお話R&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.schneier.com/blog/archives/2017/03/the_cias_develo.html&#34;&gt;The CIA&amp;rsquo;s &amp;ldquo;Development Tradecraft DOs and DON&amp;rsquo;Ts&amp;rdquo; - Schneier on Security&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://gigazine.net/news/20170324-wikileaks-cia-mac-iphone-hacking-tool/&#34;&gt;WikiLeaksがCIAの機密資料「Vault 7」からMacのハッキングツール文書を新たに公開 - GIGAZINE&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://iphone-mania.jp/news-162703/&#34;&gt;Wikileaksが暴露したCIAの攻撃ツール、iPhone3G時代の話だった - iPhone Mania&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;参考図書&#34;&gt;参考図書&lt;/h2&gt;

&lt;div class=&#34;hreview&#34; &gt;&lt;a class=&#34;item url&#34; href=&#34;http://www.amazon.co.jp/exec/obidos/ASIN/4862486932/baldandersinf-22/&#34;&gt;&lt;img src=&#34;http://ecx.images-amazon.com/images/I/41OTZHSZDXL._SL160_.jpg&#34; alt=&#34;photo&#34; class=&#34;photo&#34;  /&gt;&lt;/a&gt;&lt;dl &gt;&lt;dt class=&#34;fn&#34;&gt;&lt;a class=&#34;item url&#34; href=&#34;http://www.amazon.co.jp/exec/obidos/ASIN/4862486932/baldandersinf-22/&#34;&gt;日本人が知らないウィキリークス (新書ｙ)&lt;/a&gt;&lt;/dt&gt;&lt;dd&gt;小林 恭子 白井 聡 塚越 健司 津田 大介 八田 真行 浜野 喬士 孫崎 享 &lt;/dd&gt;&lt;dd&gt;洋泉社 2011-02-05&lt;/dd&gt;&lt;dd&gt;評価&lt;abbr class=&#34;rating&#34; title=&#34;4&#34;&gt;&lt;img src=&#34;http://g-images.amazon.com/images/G/01/detail/stars-4-0.gif&#34; alt=&#34;&#34; /&gt;&lt;/abbr&gt; &lt;/dd&gt;&lt;/dl&gt;&lt;p class=&#34;similar&#34;&gt;&lt;a href=&#34;http://www.amazon.co.jp/exec/obidos/ASIN/4797672897/baldandersinf-22/&#34; target=&#34;_top&#34;&gt;&lt;img src=&#34;http://images.amazon.com/images/P/4797672897.09._SCTHUMBZZZ_.jpg&#34;  alt=&#34;日本はなぜ、「基地」と「原発」を止められないのか&#34;  /&gt;&lt;/a&gt; &lt;a href=&#34;http://www.amazon.co.jp/exec/obidos/ASIN/4480067876/baldandersinf-22/&#34; target=&#34;_top&#34;&gt;&lt;img src=&#34;http://images.amazon.com/images/P/4480067876.09._SCTHUMBZZZ_.jpg&#34;  alt=&#34;日本劣化論 (ちくま新書)&#34;  /&gt;&lt;/a&gt; &lt;a href=&#34;http://www.amazon.co.jp/exec/obidos/ASIN/4152091975/baldandersinf-22/&#34; target=&#34;_top&#34;&gt;&lt;img src=&#34;http://images.amazon.com/images/P/4152091975.09._SCTHUMBZZZ_.jpg&#34;  alt=&#34;全貌ウィキリークス&#34;  /&gt;&lt;/a&gt; &lt;a href=&#34;http://www.amazon.co.jp/exec/obidos/ASIN/4396112106/baldandersinf-22/&#34; target=&#34;_top&#34;&gt;&lt;img src=&#34;http://images.amazon.com/images/P/4396112106.09._SCTHUMBZZZ_.jpg&#34;  alt=&#34;日本人のための戦略的思考入門――日米同盟を超えて（祥伝社新書210）&#34;  /&gt;&lt;/a&gt; &lt;a href=&#34;http://www.amazon.co.jp/exec/obidos/ASIN/4062881497/baldandersinf-22/&#34; target=&#34;_top&#34;&gt;&lt;img src=&#34;http://images.amazon.com/images/P/4062881497.09._SCTHUMBZZZ_.jpg&#34;  alt=&#34;不愉快な現実  中国の大国化、米国の戦略転換 (講談社現代新書)&#34;  /&gt;&lt;/a&gt; &lt;/p&gt;
&lt;p class=&#34;description&#34; &gt;WikiLeaks のインパクトと「WikiLeaks 以後」について分かりやすく解説した論説集。&lt;/p&gt;
&lt;p class=&#34;gtools&#34; &gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2014-10-23&#34;&gt;2014/10/23&lt;/abbr&gt; (powered by &lt;a href=&#34;http://www.goodpic.com/mt/aws/index.html&#34; &gt;G-Tools&lt;/a&gt;)&lt;/p&gt;
&lt;/div&gt;
</content>
	</entry>
	
	<entry>
		<title>Struts 2 の脆弱性について - remark</title>
		<link rel="alternate" type="text/html" href="http://text.baldanders.info/remark/2017/03/struts-2-vulnerability/" />
		<id>tag:text.Baldanders.info,2017-03-09:/remark/2017/03/struts-2-vulnerability/</id>
		<published>2017-03-09T20:07:20+09:00</published>
		<updated>2017-03-23T10:09:49+09:00</updated>
		<summary>あちこちで騒がれてるみたいなので簡単に紹介する。</summary>
		
			<author>
				<name>Spiegel</name>
				<uri>http://www.baldanders.info/spiegel/profile/</uri>
			</author>
			
	<link rel="cc:license" type="application/rdf+xml" href="http://creativecommons.org/licenses/by-sa/4.0/rdf" />


		
		<category term="remark" label="remark" scheme="http://text.baldanders.info/remark" />
		<content type="html" xml:lang="ja" xml:base="http://text.baldanders.info/">

&lt;p&gt;最近は Web や Java 絡みの仕事をしてないのでスルーしようかと思ったけど，あちこちで騒がれてるみたいなので簡単に紹介する。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://cwiki.apache.org/confluence/display/WW/S2-045&#34;&gt;S2-045 - Apache Struts 2 Documentation - Apache Software Foundation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.ipa.go.jp/security/ciadr/vul/20170308-struts.html&#34;&gt;更新：Apache Struts2 の脆弱性対策について(CVE-2017-5638)(S2-045)(S2-046)：IPA 独立行政法人 情報処理推進機構&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.jpcert.or.jp/at/2017/at170009.html&#34;&gt;Apache Struts 2 の脆弱性 (S2-045) に関する注意喚起&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;脆弱性の内容&#34;&gt;脆弱性の内容&lt;/h2&gt;

&lt;figure&gt;
&lt;blockquote&gt;
&lt;q&gt;Apache Struts 2 には、「Jakarta Multipart parser」のファイルアップロード処理に起因する、リモートで任意のコードが実行される脆弱性(CVE-2017-5638)が存在します。&lt;br&gt;
本脆弱性が悪用された場合、遠隔の第三者によって、サーバ上で任意のコードを実行される可能性があります。&lt;/q&gt;
&lt;/blockquote&gt;
&lt;figcaption&gt;via &lt;q&gt;&lt;a href=&#34;http://www.ipa.go.jp/security/ciadr/vul/20170308-struts.html&#34;&gt;Apache Struts2 の脆弱性対策について(CVE-2017-5638)(S2-045)&lt;/a&gt;&lt;/q&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;既に攻撃コード（Proof of Concept; PoC）が存在し実際に被害が出ているようだ。&lt;/p&gt;

&lt;h2 id=&#34;影響度-cvss&#34;&gt;影響度（CVSS）&lt;/h2&gt;

&lt;p&gt;「&lt;a href=&#34;http://jvn.jp/vu/JVNVU93610402/&#34;&gt;JVNVU#93610402: Apache Struts2 に任意のコードが実行可能な脆弱性&lt;/a&gt;」より&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;CVSSv3 基本評価値 7.3 (CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:L/I:L/A:L)&lt;/strong&gt;&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;right&#34;&gt;基本評価基準&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;評価値&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;攻撃元区分（AV）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;ネットワーク（N）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;攻撃条件の複雑さ（AC）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;低（L）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;必要な特権レベル（PR）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;不要（N）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;ユーザ関与レベル（UI）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;不要（N）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;スコープ（S）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;変更なし（U）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;情報漏えいの可能性（機密性への影響, C）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;低（L）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;情報改ざんの可能性（完全性への影響, I）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;低（L）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;right&#34;&gt;業務停止の可能性（可用性への影響, A）&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;低（L）&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;CVSS については&lt;a href=&#34;http://text.baldanders.info/remark/2015/cvss-v3-metrics-in-jvn/&#34;&gt;解説ページ&lt;/a&gt;を参照のこと。&lt;/p&gt;

&lt;h2 id=&#34;影響を受ける製品&#34;&gt;影響を受ける製品&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Apache Struts 2.3.5 から 2.3.31&lt;/li&gt;
&lt;li&gt;Apache Struts 2.5 から 2.5.10&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Struts 1 に影響があるかどうかは不明（公開されている PoC では問題ないようだ？）。&lt;/p&gt;

&lt;h2 id=&#34;対策-回避策&#34;&gt;対策・回避策&lt;/h2&gt;

&lt;p&gt;対策としては以下のバージョンにアップデートする。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Apache Struts 2.3.32 以降&lt;/li&gt;
&lt;li&gt;Apache Struts 2.5.10.1 以降&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;回避策として以下も紹介されている。&lt;/p&gt;

&lt;figure&gt;
&lt;blockquote&gt;
&lt;q&gt;ただちにアップグレードすることが困難である場合、「Content-Type」のバリデーションを行い、”multipart/form-data”と一致しないリクエストを破棄するサーブレットフィルターを実装することにより問題を回避することが可能です。&lt;/q&gt;
&lt;/blockquote&gt;
&lt;figcaption&gt;via &lt;q&gt;&lt;a href=&#34;https://www.softbanktech.jp/information/2017/20170308-01/&#34;&gt;CVE-2017-5638 - 脆弱性調査レポート&lt;/a&gt;&lt;/q&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure&gt;
&lt;blockquote&gt;
&lt;q&gt;また、Apache Software Foundation は、パーサをデフォルトの Jakarta Multipart parser (JakartaMultiPartRequest) から変更することも対策として呼びかけています。速やかなアップデートが難しい場合は、本対策の適用をご検討ください。&lt;/q&gt;
&lt;/blockquote&gt;
&lt;figcaption&gt;via &lt;q&gt;&lt;a href=&#34;https://www.jpcert.or.jp/at/2017/at170009.html&#34;&gt;Apache Struts 2 の脆弱性 (S2-045) に関する注意喚起&lt;/a&gt;&lt;/q&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;（追記）&lt;/strong&gt; 代替パーサもこの脆弱性の影響を受けることが判明している。
ただし &lt;a href=&#34;https://struts.apache.org/docs/s2-046.html&#34;&gt;S2-046&lt;/a&gt; で修正版が出ているようだ。&lt;/p&gt;

&lt;h2 id=&#34;ブックマーク&#34;&gt;ブックマーク&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.softbanktech.jp/information/2017/20170308-01/&#34;&gt;CVE-2017-5638 - 脆弱性調査レポート | ソフトバンク・テクノロジー&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://d.hatena.ne.jp/Kango/20170307/1488907259&#34;&gt;Struts2の脆弱性 CVE-2017-5638 (S2-045)についてまとめてみた - piyolog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://japan.zdnet.com/article/35097780/&#34;&gt;Apache Struts 2に脆弱性報告&amp;ndash;既に攻撃発生も - ZDNet Japan&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://tigerszk.hatenablog.com/entry/2017/03/08/063334&#34;&gt;Apache Struts2の脆弱性（CVE-2017-5638）を検証してみた - とある診断員の備忘録&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://d.hatena.ne.jp/Kango/20170311/1489253880&#34;&gt;2017年3月に発生したApache Struts 2で稼働していたとみられるWebサイトへの不正アクセスについてまとめてみた - piyolog&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.itmedia.co.jp/business/articles/1703/10/news133.html&#34;&gt;都税支払いサイトからカード情報6万件超が流出か - ITmedia ビジネスオンライン&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://takagi-hiromitsu.jp/diary/20170310.html&#34;&gt;高木浩光＠自宅の日記 - 「都税クレジットカードお支払サイト」流出事件の責任は誰がとるのか&lt;/a&gt; : 何気に最悪の事故に発展するかもしれない&lt;/li&gt;
&lt;li&gt;&lt;span&gt;&lt;a href=&#34;http://www.okiden.co.jp/shared/pdf/news_release/2016/170315.pdf&#34;&gt;当社Webサイトへの不正アクセスによるコンテンツの改ざんおよびお客さまＥメールアドレス等の流出の可能性について&lt;sup&gt;&lt;i class=&#34;fa fa-file-pdf-o&#34;&gt;&lt;/i&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://internet.watch.impress.co.jp/docs/news/1051268.html&#34;&gt;「JINS」のオンラインショップに不正アクセス、「Apache Struts 2」の脆弱性を突かれる -INTERNET Watch&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://qiita.com/gakuri/items/f70cf6c10fbb846335d5&#34;&gt;GMO社が被害を受けたStruts 2（CVE-2017-5638）問題で我々は何を学ぶべきか？ - Qiita&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://itpro.nikkeibp.co.jp/atcl/column/14/346926/032100893/&#34;&gt;ニュース解説 - 猛威振るうStruts2脆弱性への攻撃、どうすれば防げたか：ITpro&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.scutum.jp/information/waf_tech_blog/2017/03/waf-blog-046.html&#34;&gt;Struts2が危険である理由 - WAF Tech Blog ｜ クラウド型 WAFサービス Scutum 【スキュータム】&lt;/a&gt; : 興味深い内容だが広告記事なので取り扱い注意&lt;/li&gt;
&lt;/ul&gt;
</content>
	</entry>
	
</feed>
