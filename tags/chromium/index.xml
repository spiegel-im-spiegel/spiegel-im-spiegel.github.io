<feed xmlns="http://www.w3.org/2005/Atom" xmlns:cc="http://web.resource.org/cc/">
	<title>List of chromium - text.Baldanders.info</title>
	<link rel="alternate" type="text/html" href="https://text.baldanders.info/tags/chromium/" />
	<link rel="self" type="application/atom+xml" href="https://text.baldanders.info/tags/chromium/index.xml" />
	<id>tag:text.Baldanders.info,2019-06-18:/tags</id>
	<updated>2019-06-18T22:22:58+09:00</updated>
	<subtitle>帰ってきた「しっぽのさきっちょ」</subtitle>
	<icon>https://text.baldanders.info/images/avatar.jpg</icon>
	<logo>https://text.baldanders.info/images/avatar.jpg</logo>

	<entry>
		<title>【憶測記事】 マイニング・コードを仕込まれたかもしれない</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2019/06/programmable-controller/" />
		<id>tag:text.Baldanders.info,2019-06-18:/remark/2019/06/programmable-controller/</id>
		<published>2019-06-18T13:22:58+00:00</published>
		<updated>2019-11-04T06:00:08+00:00</updated>
		<summary>今回のようなケースでは「まずブラウザを疑え」ってのが分かっただけでもよかったことにしよう。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">&lt;p&gt;あらかじめ予防線を張っておくと，今回の記事はかなりの部分が憶測でいつも以上に独断で偏見に満ちているので，そのへん割り引いて読んでほしい。&lt;/p&gt;
&lt;p&gt;いや，そもそも先週末くらいから手持ちのスマートフォンが異様に熱くなって急速にバッテリが減衰する症状が断続的にあらわれたのが始まり。
思い当たるフシが全く無いので似たような事例がないかネットで探しつつ，監視用のアプリを一時的に導入して色々調べてみるが，プロセッサの全コアがフルでブン回っている事以外に具体的に誰がどんな悪さをしているのかは分からなかった。&lt;/p&gt;
&lt;p&gt;それでも，今朝起床したら（電源を繋いでいるにも関わらず）バッテリ残量が残り1パーセントになってるのを見てこれは本格的にヤバいと思い始めた。
幸いなことに節電モードにして通話機能等の主要なアプリ以外をオフにしてしまえばバッテリ消費が抑えられるのは分かっていたので，とりあえず今日は（家の充電器に繋いだまま）ケータイを持たずに仕事に出掛けた（デスクワークなので仕事にケータイは要らないけど出退勤のバス移動中に音楽が聴けないのは耳が寂しかった）。&lt;/p&gt;
&lt;p&gt;んで，自宅に帰ってからふと思いついて Chrome と Firefox のデータを完全初期化してみたら嘘みたいにおさまった。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;原因はお前か！&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;これってアレかね。
最近噂のマイニング・コードってやつを仕込まれちゃったかね。
ここのところヤバげなサイトも含めてあちこちネットサーフィン（古語&lt;code&gt;w&lt;/code&gt;）してたからなぁ。
今となっては確かめる術はない。
一応 Firefox には &lt;a href=&#34;https://github.com/keraf/NoCoin/&#34; title=&#34;keraf/NoCoin: No Coin is a tiny browser extension aiming to block coin miners such as Coinhive.&#34;&gt;No Coin&lt;/a&gt; を入れてる。
Chrome は基本放置で（拡張機能を入れるには Google アカウントにサインインしないといけないため）， Firefox では行きたくないサイトのみプライベートブラウジングで閲覧するようにしてたんだけど，やっぱ Chrome は使わないほうがいいかな。&lt;/p&gt;
&lt;p&gt;最近 Mozilla が調子こいて&lt;/p&gt;
&lt;figure&gt;
&lt;blockquote&gt;
&lt;q&gt;Firefoxではつねに、口先以上のことをしている。本当に人々を護るには、プライバシーを再優先する新しいスタンダードの確立が必要だ&lt;/q&gt;
&lt;/blockquote&gt;
&lt;figcaption&gt;via &lt;q&gt;&lt;a href=&#34;https://jp.techcrunch.com/2019/06/06/2019-06-04-firefox-gets-enhanced-tracking-protection-desktop-password-manager-and-more/&#34;&gt;Firefoxがユーザーを追跡から護る機能を強化しパスワードマネージャーをデスクトップに導入 | TechCrunch Japan&lt;/a&gt;&lt;/q&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;とか言ってるそうな。
どの口が言うか！ って話だよ。
本気で「口先以上のことをしている」というのなら検索窓の既定を DuckDuckGo にしろっての！ 話はそこからだ。
あと Firefox の利用は明らかに携帯端末のほうが多いのに携帯端末版 Firefox のセキュリティ・プライバシー設定は旧態依然としたままなのはどうしてなのかね？ ユーザをナメるのも大概にしていただきたいものである。
これならば潔くあからさまにユーザ軽視の Safari や Chrome のほうがまだマシかもしれない（ユーザが正しく警戒するという意味で）。&lt;/p&gt;
&lt;p&gt;今回思ったけど，こういうイレギュラーが起きたときにユーザ自身で調べる手段が少ないってのは致命的だな。
Android 用の開発環境でもあればよかったのかもしれないが，私はもうエンジニアではないのでそんなもん入れたくないし，たぶんケータイ・ショップに行っても分かる人いないよね。&lt;/p&gt;
&lt;p&gt;つくづくケータイってのは Personal Computer じゃなくて Programmable Controller なんだなぁ，と改めて実感する。
まぁ最近は Windows を始めとした所謂「パソコン」も Programmable Controller に成り下がってるけど（笑）&lt;/p&gt;
&lt;p&gt;まぁ，今回のようなケースでは「まずブラウザを疑え」ってのが分かっただけでもよかったことにしよう。&lt;/p&gt;
&lt;h2 id=&#34;heading&#34;&gt;追記&lt;/h2&gt;
&lt;p&gt;その後 Chrome, Firefox, WebView がアップデートされたが，これ以降，端末の発熱等はピタリとおさまった。
これらのうちのどれか（または全部）が犯人なのは間違いないだろう。&lt;/p&gt;
&lt;p&gt;今回の経験を経て，ケータイを使わないときは節電モードにしてデータ通信を行わせないようにした。&lt;/p&gt;
&lt;h2 id=&#34;2&#34;&gt;追記2&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.itmedia.co.jp/news/articles/1906/27/news089.html&#34;&gt;Google、「古いAndroid端末で異常な大量通信」問題認める　「修正プログラム展開中」 - ITmedia NEWS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;上の件も併せれば犯人は WebView でほぼ確定かな。
やっぱ WebView は滅びるべきだな。
ついでに WebKit も（笑）&lt;/p&gt;
&lt;h2 id=&#34;heading-1&#34;&gt;ブックマーク&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2018/06/web-browser-as-the-technical-debt/&#34;&gt;技術的負債としての Web ブラウザ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;heading-2&#34;&gt;参考図書&lt;/h2&gt;
&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a class=&#34;item url&#34; href=&#34;https://www.amazon.co.jp/dp/4757143044?tag=baldandersinf-22&amp;linkCode=ogi&amp;th=1&amp;psc=1&#34;&gt;&lt;img src=&#34;https://m.media-amazon.com/images/I/413qoSjODUL._SL160_.jpg&#34; width=&#34;108&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl class=&#34;fn&#34;&gt;
    &lt;dt&gt;&lt;a href=&#34;https://www.amazon.co.jp/dp/4757143044?tag=baldandersinf-22&amp;linkCode=ogi&amp;th=1&amp;psc=1&#34;&gt;信頼と裏切りの社会&lt;/a&gt;&lt;/dt&gt;
    &lt;dd&gt;ブルース・シュナイアー (著), 山形 浩生 (翻訳)&lt;/dd&gt;
    &lt;dd&gt;NTT出版 2013-12-24&lt;/dd&gt;
    &lt;dd&gt;単行本（ソフトカバー）&lt;/dd&gt;
    &lt;dd&gt;4757143044 (ASIN), 9784757143043 (EAN), 4757143044 (ISBN)&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;5&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;社会における「信頼」とは。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34;&gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2019-03-23&#34;&gt;2019-03-23&lt;/abbr&gt; (powered by &lt;a href=&#34;https://affiliate.amazon.co.jp/assoc_credentials/home&#34;&gt;PA-APIv5&lt;/a&gt;)&lt;/p&gt;
&lt;/div&gt;
</content>
	</entry><entry>
		<title>オープンソースはコードの多様性を担保しない</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2018/12/software-diversity/" />
		<id>tag:text.Baldanders.info,2018-12-10:/remark/2018/12/software-diversity/</id>
		<published>2018-12-10T13:28:16+00:00</published>
		<updated>2019-07-01T13:48:09+00:00</updated>
		<summary>オープンソースは自由かもしれないが多様とは限らない。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">&lt;p&gt;まぁ Microsoft は営利企業として賢明な判断をしたと思うよ。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://jp.techcrunch.com/2018/12/07/2018-12-06-microsoft-edge-goes-chromium-and-macos/&#34;&gt;Microsoft Edge、Chromiumベースに――旧Windowsでも作動、macOS版も登場へ  |  TechCrunch Japan&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.itmedia.co.jp/pcuser/articles/1812/09/news016.html&#34;&gt;EdgeブラウザがついにChromiumを採用へ　Mozillaは「独占は危険」と警告 - ITmedia PC USER&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://d.hatena.ne.jp/yomoyomo/20181210/mozilla&#34;&gt;マイクロソフトのEdgeがChromiumベースになることによりウェブから多様性が失われることを懸念するのでモジラ財団に寄付した - YAMDAS現更新履歴&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://forest.watch.impress.co.jp/docs/serial/yajiuma/1157671.html&#34;&gt;どうなる、「Microsoft Edge」？ ～「Chromium」ベースになってよい点、悪い点 - やじうまの杜 - 窓の杜&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;これでブラウザエンジンはいよいよ &lt;a href=&#34;https://webkit.org/&#34;&gt;WebKit&lt;/a&gt; と &lt;a href=&#34;https://www.chromium.org/blink&#34; title=&#34;Blink - The Chromium Projects&#34;&gt;Blink&lt;/a&gt;/&lt;a href=&#34;https://v8.dev/&#34; title=&#34;V8 JavaScript engine&#34;&gt;V8&lt;/a&gt; と &lt;a href=&#34;https://servo.org/&#34; title=&#34;Servo, the parallel browser engine&#34;&gt;Servo&lt;/a&gt; に絞られたか。
確か W3C で標準と認められるには2種類以上の実装実績が必要だったはず。
親戚同士&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt; の &lt;a href=&#34;https://webkit.org/&#34;&gt;WebKit&lt;/a&gt; と &lt;a href=&#34;https://www.chromium.org/blink&#34; title=&#34;Blink - The Chromium Projects&#34;&gt;Blink&lt;/a&gt; で実装してしまえば，なし崩し的に標準になるわけだ（笑）
しかも携帯端末の世界では既に &lt;a href=&#34;https://webkit.org/&#34;&gt;WebKit&lt;/a&gt;/&lt;a href=&#34;https://www.chromium.org/blink&#34; title=&#34;Blink - The Chromium Projects&#34;&gt;Blink&lt;/a&gt; でほぼ独占状態。
更に JavaScript エンジンに至っては今や &lt;a href=&#34;https://v8.dev/&#34; title=&#34;V8 JavaScript engine&#34;&gt;V8&lt;/a&gt; 一択だろうし&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;， &lt;a href=&#34;https://www.mozilla.org/&#34;&gt;Mozilla&lt;/a&gt; の言い分は今更すぎる話ではある。&lt;/p&gt;
&lt;figure&gt;
&lt;blockquote&gt;
&lt;q&gt;数日前にEdgeがリニューアルされるといいう情報が流れたとき、一部の専門家はChromiumプロジェクトが力を持ちすぎることになるという懸念を示した。&lt;br&gt;
この懸念には理由があることは認めるものの、MicrosoftはどのみちEdgeのシェアは低いのでChromium化がオープンソース・コミュニティーにドラスティックな影響を与えることはないという説得力のある反論をしている。MicrosoftがChromiumコミュニティーに参加してウェブの標準化を推進する側に回り、Chromiumにイノベーションを吹き込むことになればメリットは大きいだろう。&lt;/q&gt;
&lt;/blockquote&gt;
&lt;figcaption&gt;via &lt;q&gt;&lt;a href=&#34;https://jp.techcrunch.com/2018/12/07/2018-12-06-microsoft-edge-goes-chromium-and-macos/&#34;&gt;Microsoft Edge、Chromiumベースに――旧Windowsでも作動、macOS版も登場へ&lt;/a&gt;&lt;/q&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;フリーな製品が市場にインパクトを与えたという点ではまさに Chrome を含む &lt;a href=&#34;https://www.chromium.org/&#34; title=&#34;The Chromium Projects&#34;&gt;Chromium&lt;/a&gt; プロジェクトがそれである。
ならば当初 &lt;a href=&#34;https://www.mozilla.org/&#34;&gt;Mozilla&lt;/a&gt;/Firefox が目指していたプロプライエタリな IE へのカウンタとしての役目は &lt;a href=&#34;https://www.chromium.org/&#34; title=&#34;The Chromium Projects&#34;&gt;Chromium&lt;/a&gt; による独占で達成されたわけであり， &lt;a href=&#34;https://www.mozilla.org/&#34;&gt;Mozilla&lt;/a&gt; が文句を言う筋合いではないんじゃないだろうか。&lt;/p&gt;
&lt;p&gt;Linux より優れた OS をフルスクラッチで作ろうという人は少ないだろう。
ブラウザだって今更フルスクラッチで作り直そうなんて（しかもそのために&lt;a href=&#34;https://www.rust-lang.org/&#34; title=&#34;Rust programming language&#34;&gt;プログラミング言語&lt;/a&gt;から開発するとか）酔狂なことをするのは &lt;a href=&#34;https://www.mozilla.org/&#34;&gt;Mozilla&lt;/a&gt; くらいなものである。
私はそういう狂った人は好きだけど（笑）&lt;/p&gt;
&lt;p&gt;まっとうなエンジニアなら（遊びや勉強用ならともかく）優れた製品を前にわざわざ「車輪の再発明」なんかしない。
それがオープンソースなら尚更。
昔に比べれば今はオープンソース・プロジェクトの fork に対して寛容になってるけど，それでも頻繁に起きることではない。
オープンソースは自由かもしれないが多様とは限らないということだよね。&lt;/p&gt;
&lt;p&gt;ブラウザエンジンのシェア独占が問題だというのなら，たとえば iOS で &lt;a href=&#34;https://webkit.org/&#34;&gt;WebKit&lt;/a&gt; 使用を要求していることとか Android の WebView によって実質的に &lt;a href=&#34;https://www.chromium.org/&#34; title=&#34;The Chromium Projects&#34;&gt;Chromium&lt;/a&gt; 以外が締め出されている（選択肢に上らない）こととか&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;，そういったことをもっと議論すべきなんじゃないの？&lt;/p&gt;
&lt;p&gt;そういう風に考えたら今回の Edge の話は，単にフロントエンド・エンジニアが楽できるということではなく，プロプライエタリ OS ベンダが自前のブラウザエンジンを捨てて「自由なソフトウェア」を選択したという意味で（Microsoft にしては）めっさ英断だと思うけどね。
最終的にどうなるかは知らないが。&lt;/p&gt;
&lt;h2 id=&#34;heading&#34;&gt;ブックマーク&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://gigazine.net/news/20170201-ios-chrome-open-source/&#34;&gt;iOS版Chromeがオープンソース化される - GIGAZINE&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://www.itmedia.co.jp/news/articles/1812/11/news072.html&#34;&gt;「Edgeで既存のChrome拡張機能をサポートする意向」とMicrosoftの担当者がRedditで - ITmedia NEWS&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2018/06/web-browser-as-the-technical-debt/&#34;&gt;技術的負債としての Web ブラウザ&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;heading-1&#34;&gt;参考図書&lt;/h2&gt;
&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a class=&#34;item url&#34; href=&#34;https://www.amazon.co.jp/%E3%82%B0%E3%83%BC%E3%82%B0%E3%83%AB-%E3%83%8D%E3%83%83%E3%83%88%E8%A6%87%E8%80%85%E3%81%AE%E7%9C%9F%E5%AE%9F-%E3%82%B9%E3%83%86%E3%82%A3%E3%83%BC%E3%83%96%E3%83%B3%E3%83%BB%E3%83%AC%E3%83%B4%E3%82%A3-ebook/dp/B009LFBL4Y?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=B009LFBL4Y&#34;&gt;&lt;img src=&#34;https://images-fe.ssl-images-amazon.com/images/I/412TwuSJT1L._SL160_.jpg&#34; width=&#34;114&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl class=&#34;fn&#34;&gt;
    &lt;dt&gt;&lt;a href=&#34;https://www.amazon.co.jp/%E3%82%B0%E3%83%BC%E3%82%B0%E3%83%AB-%E3%83%8D%E3%83%83%E3%83%88%E8%A6%87%E8%80%85%E3%81%AE%E7%9C%9F%E5%AE%9F-%E3%82%B9%E3%83%86%E3%82%A3%E3%83%BC%E3%83%96%E3%83%B3%E3%83%BB%E3%83%AC%E3%83%B4%E3%82%A3-ebook/dp/B009LFBL4Y?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=B009LFBL4Y&#34;&gt;グーグル　ネット覇者の真実&lt;/a&gt;&lt;/dt&gt;
	&lt;dd&gt;スティーブン・レヴィ&lt;/dd&gt;
	&lt;dd&gt;仲達志；池村千秋 (翻訳)&lt;/dd&gt;
    &lt;dd&gt;CCCメディアハウス 2011-12-16 (Release 2012-08-31)&lt;/dd&gt;
    &lt;dd&gt;eBooks Kindle版&lt;/dd&gt;
    &lt;dd&gt;ASIN: B009LFBL4Y&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;3&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;far fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;far fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;そういえばこれ Kindle で買い直したのに途中ま読んでそのまま積ん読だったよ。ゼロ年代の Google を中心とした話なのでちょっと古びた感はあるが歴史書としては今でも通用するだろう。書評は&lt;a href=&#34;https://www.yamdas.org/booklog/intheplex.html&#34; title=&#34;yomoyomoの読書記録 - スティーブン・レヴィ『グーグル　ネット覇者の真実　追われる立場から追う立場へ』（阪急コミュニケーションズ）&#34;&gt;こちら&lt;/a&gt;が参考になる。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34; &gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2018-12-11&#34;&gt;2018-12-11&lt;/abbr&gt; (powered by &lt;a href=&#34;https://github.com/spiegel-im-spiegel/amazon-item&#34; &gt;amazon-item&lt;/a&gt; v0.2.0)&lt;/p&gt;
&lt;/div&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://www.chromium.org/&#34; title=&#34;The Chromium Projects&#34;&gt;Chromium&lt;/a&gt; と &lt;a href=&#34;https://v8.dev/&#34; title=&#34;V8 JavaScript engine&#34;&gt;V8&lt;/a&gt; はもともと &lt;a href=&#34;https://webkit.org/&#34;&gt;WebKit&lt;/a&gt; のポーティングのひとつだったが，レンダリングエンジンや JavaScript エンジンの一部を fork して独立したプロジェクトになった。 &lt;a href=&#34;https://www.chromium.org/blink&#34; title=&#34;Blink - The Chromium Projects&#34;&gt;Blink&lt;/a&gt; は &lt;a href=&#34;https://www.chromium.org/&#34; title=&#34;The Chromium Projects&#34;&gt;Chromium&lt;/a&gt; プロジェクトで開発しているレンダリングエンジンという位置づけ。ちなみに Chrome for iOS は &lt;a href=&#34;https://www.chromium.org/&#34; title=&#34;The Chromium Projects&#34;&gt;Chromium&lt;/a&gt; プロジェクトのひとつだが iOS では &lt;a href=&#34;https://webkit.org/&#34;&gt;WebKit&lt;/a&gt; を使うことが要求されているため &lt;a href=&#34;https://www.chromium.org/blink&#34; title=&#34;Blink - The Chromium Projects&#34;&gt;Blink&lt;/a&gt; を使わない実装になっている。 &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;そういえば &lt;a href=&#34;https://atom.io/&#34;&gt;ATOM&lt;/a&gt; エディタなどで採用されている &lt;a href=&#34;https://electronjs.org/&#34; title=&#34;Electron | Build cross platform desktop apps with JavaScript, HTML, and CSS.&#34;&gt;Electron&lt;/a&gt; は &lt;a href=&#34;https://www.chromium.org/&#34; title=&#34;The Chromium Projects&#34;&gt;Chromium&lt;/a&gt; ベースだったっけ。ブラウザのみならずデスクトップ・アプリでも &lt;a href=&#34;https://www.chromium.org/&#34; title=&#34;The Chromium Projects&#34;&gt;Chromium&lt;/a&gt; による侵食は進行しているわけやね。他にも Google は Unicode で大きな発言権を持ってるし（Unicode に絵文字を追加することを最初に提案したのは Google）自前で開発したプログラミング言語もいくつかある。更に AI 技術についても大きなクラウド資源を持っていて，それを十全に発揮している。本当に，本当に今更な話で，これが&lt;a href=&#34;https://text.baldanders.info/remark/2017/10/too-many-ghosts/&#34; title=&#34;今こそ「グリゴリの捕縛」を読め！ または遍在する草薙素子&#34;&gt;「情報力」が台頭した現代&lt;/a&gt;における Google の強さ・凄みであり怖さと言える。市場の独占はそれに付随するものに過ぎない。 &lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;プライバシーに配慮したとされる Firefox Focus の Android 版では独自のレンダリングエンジンとして &lt;a href=&#34;https://support.mozilla.org/ja/kb/geckoview-firefox-focus&#34; title=&#34;Firefox Focus の GeckoView | Firefox Focus ヘルプ&#34;&gt;GeckoView を作った&lt;/a&gt;らしい。 &lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
	</entry><entry>
		<title>「神」と「神」と Chrome の文字化け</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2017/12/gods-in-chrome/" />
		<id>tag:text.Baldanders.info,2017-12-10:/remark/2017/12/gods-in-chrome/</id>
		<published>2017-12-10T03:35:07+00:00</published>
		<updated>2019-07-01T13:48:09+00:00</updated>
		<summary>Google Chrome では「神」と「神」が同じ「神」に見える，という報告をいただきまして，確かにこちらの環境でも再現するので，ちょっと調べてみました。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">&lt;p&gt;「&lt;a href=&#34;https://text.baldanders.info/golang/character-width-for-unicode/&#34;&gt;Go 言語による Unicode 半角/全角変換&lt;/a&gt;」のページを Google Chrome で見ると「神と神」が同じ「神」に見える，という報告をいただきまして，確かにこちらの環境でも再現するので，ちょっと調べてみました。&lt;/p&gt;
&lt;p&gt;（追記： Chrome だけじゃなくて &lt;a href=&#34;https://play.google.com/store/apps/details?id=org.mozilla.focus&#34;&gt;Android 用の Firefox Focus&lt;/a&gt; でも同じ現象を確認した。どうやら &lt;a href=&#34;https://play.google.com/store/apps/details?id=org.mozilla.focus&#34;&gt;Android 用の Firefox Focus&lt;/a&gt; は Firefox とはレイアウトエンジンが異なり WebKit からの fork である WebView （Android に既定で入ってるやつ）を&lt;a href=&#34;http://www.eweek.com/enterprise-apps/mozilla-brings-firefox-focus-to-android-to-improve-privacy&#34; title=&#34;Firefox Focus Debuts on Android With Automatic Tracking Protection&#34;&gt;使ってるらしい&lt;/a&gt;。それって，もしかして全ての元凶は WebKit ってことなのか？）&lt;/p&gt;
&lt;p&gt;（追記2： &lt;a href=&#34;https://play.google.com/store/apps/details?id=org.mozilla.focus&#34;&gt;Android 用の Firefox Focus&lt;/a&gt; のレンダリングエンジンが &lt;a href=&#34;https://support.mozilla.org/ja/kb/geckoview-firefox-focus&#34; title=&#34;Firefox Focus の GeckoView | Firefox Focus ヘルプ&#34;&gt;GechoView に変わった&lt;/a&gt;が影響があるかどうか確認してない）&lt;/p&gt;
&lt;p&gt;ちなみに「神と神」のうち前者の「神」は所謂 CJK 互換文字と呼ばれるもので Unicode コードポイントで「&lt;code&gt;U+FA19 &#39;神&#39;&lt;/code&gt;」にマッピングされるものです。&lt;/p&gt;
&lt;p&gt;まず，&lt;a href=&#34;https://text.baldanders.info/&#34; title=&#34;text.Baldanders.info&#34;&gt;本サイト&lt;/a&gt;の状態を説明しておくと，サイトの各ページの文字は Web フォントで表示されている。
ブラウザ側で Web フォントを無効にしていない（または経路途中でフィルタリングされない）限りは，こちらで指定したフォントで表示されるはずである。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2015/web-font-family/&#34;&gt;Web フォントに関する覚え書き&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2016/10/japanese-serif-fonts-by-google-cdn/&#34;&gt;Web フォントに関する覚え書き（明朝体編）&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;本文を含む地の文章には「&lt;a href=&#34;http://sawarabi-fonts.osdn.jp/&#34; title=&#34;さわらびフォント&#34;&gt;さわらび明朝&lt;/a&gt;」を利用している。
&lt;a href=&#34;https://fonts.google.com/earlyaccess&#34;&gt;Google Fonts Early Access&lt;/a&gt; で唯一ふだん使いできる明朝体の Web フォントだったのが選択した理由である&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;p&gt;ただし「&lt;a href=&#34;http://sawarabi-fonts.osdn.jp/&#34; title=&#34;さわらびフォント&#34;&gt;さわらび明朝&lt;/a&gt;」は，個人の方がボランティアで作成されているということもあり，全ての和文文字を網羅しているわけではなく，幾つか表示できない文字がある。
「&lt;code&gt;U+FA19 &#39;神&#39;&lt;/code&gt;」もそのうちのひとつである。
どうもその辺に原因がありそうである。&lt;/p&gt;
&lt;p&gt;そこで，テスト用に以下の HTML コードを用意し Chrome に表示させてみた。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;html&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;link&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;rel&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;stylesheet&amp;#39;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;http://fonts.googleapis.com/earlyaccess/sawarabimincho.css&amp;#39;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;text/css&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;神と神&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;nn&#34;&gt;localonly&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;font-family&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;sans-serif&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;nn&#34;&gt;sawarabi&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;font-family&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Sawarabi Mincho&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;sans-serif&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;body&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;div&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;localonly&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;	「神」と「神」（後者が CJK 互換文字）&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;草「彅」剛（JIS 第一・第二水準にない漢字）&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;	「繋」ぐ（さわらび明朝にない文字）&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;div&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;div&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;sawarabi&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;	「神」と「神」（後者が CJK 互換文字）&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;草「彅」剛（JIS 第一・第二水準にない漢字）&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;	「繋」ぐ（さわらび明朝にない文字）&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;div&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;body&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;html&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;これを表示させた結果は以下の通り。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/38947212091/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/38947212091_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/38947212091_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;Google Chrome (1)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/38947212091/&#34;&gt;Google Chrome (1)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;最初の3行が Chrome デフォルトの Sans Serif で表示させたもの，次の3行が「&lt;a href=&#34;http://sawarabi-fonts.osdn.jp/&#34; title=&#34;さわらびフォント&#34;&gt;さわらび明朝&lt;/a&gt;」で表示させたものである。
ただし「&lt;a href=&#34;http://sawarabi-fonts.osdn.jp/&#34; title=&#34;さわらびフォント&#34;&gt;さわらび明朝&lt;/a&gt;」にない文字は Sans Serif で表示するよう設定している。&lt;/p&gt;
&lt;p&gt;「神」と「彅」と「繋」は「&lt;a href=&#34;http://sawarabi-fonts.osdn.jp/&#34; title=&#34;さわらびフォント&#34;&gt;さわらび明朝&lt;/a&gt;」に収録されていない文字なのだが，何故か「神」だけが明朝体で「神」と表示されているのがお分かりだろうか&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;。
ふむむむむ。&lt;/p&gt;
&lt;p&gt;ここで思い出すのが Unicode 正規化による「神」の正規化である。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/golang/unicode-normalization/&#34;&gt;Go 言語と Unicode 正規化&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;この記事で説明している通り， CJK 互換文字である「&lt;code&gt;U+FA19 &#39;神&#39;&lt;/code&gt;」は正規化によって「&lt;code&gt;U+795E &#39;神&#39;&lt;/code&gt;」に変換されてしまうのである。&lt;/p&gt;
&lt;p&gt;ならば今度は CJK 互換文字に絞って以下の HTML コードを組んでみる。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;html&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;link&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;rel&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;stylesheet&amp;#39;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;http://fonts.googleapis.com/earlyaccess/sawarabimincho.css&amp;#39;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;text/css&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;神と神&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;nn&#34;&gt;localonly&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;font-family&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;sans-serif&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;nn&#34;&gt;sawarabi&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;font-family&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Sawarabi Mincho&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;sans-serif&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;body&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;div&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;localonly&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;	「朗」と「朗」（後者が CJK 互換文字，正規化される）&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;	「欄」と「欄」（後者が CJK 互換文字，正規化される）&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;	「崎」と「﨑」（後者が CJK 互換文字，正規化されない）&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;div&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;div&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;sawarabi&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;	「朗」と「朗」（後者が CJK 互換文字，正規化される）&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;	「欄」と「欄」（後者が CJK 互換文字，正規化される）&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;	「崎」と「﨑」（後者が CJK 互換文字，正規化されない）&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;div&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;body&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;html&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;これを表示させた結果は以下の通り。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/38061039025/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/38061039025_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/38061039025_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;Google Chrome (2)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/38061039025/&#34;&gt;Google Chrome (2)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;ビンゴ！&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;「朗」と「朗」は「神」と「神」の関係と同じ。 CJK 互換文字「朗」は「&lt;a href=&#34;http://sawarabi-fonts.osdn.jp/&#34; title=&#34;さわらびフォント&#34;&gt;さわらび明朝&lt;/a&gt;」に収録されてなく， Unicode 正規化によって「朗」に変換される&lt;/li&gt;
&lt;li&gt;「欄」は Unicode 正規化によって「欄」に変換されるが，どちらの文字も「&lt;a href=&#34;http://sawarabi-fonts.osdn.jp/&#34; title=&#34;さわらびフォント&#34;&gt;さわらび明朝&lt;/a&gt;」に収録されていないため， Chrome デフォルトのフォントで表示されている&lt;/li&gt;
&lt;li&gt;「﨑」は CJK 互換文字で「&lt;a href=&#34;http://sawarabi-fonts.osdn.jp/&#34; title=&#34;さわらびフォント&#34;&gt;さわらび明朝&lt;/a&gt;」に収録されていないが Unicode 正規化の対象ではない（「崎」は似た字形の文字を並べてみただけ，テヘペロ）ため，そのまま Chrome デフォルトのフォントで表示されている&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;つまり&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;フォントに対象の文字が収録されていない&lt;/li&gt;
&lt;li&gt;Unicode 正規化によって別の文字に変換可能&lt;/li&gt;
&lt;li&gt;変換された文字がフォントに収録されている&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;という条件が揃った時に「文字化け」が発生する，ということのようだ&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;p&gt;いや，これは酷いだろう。
同じ文字化けするなら「豆腐 □」や「ゲタ 〓」のほうがまだマシである。
多分 Chrome の中の人は CJK 互換文字や異体字について（歴史背景などを）よく理解しないまま「正規化できる文字で代替えすればいいぢゃん♥」と軽い感じで実装してしまったのだろう。
「&lt;a href=&#34;https://text.baldanders.info/golang/unicode-normalization/&#34;&gt;Go 言語と Unicode 正規化&lt;/a&gt;」では Apple の旧ファイルシステム HFS+ を散々に貶したが， &lt;del&gt;Google もタイガイである&lt;/del&gt;。（Chrome だけじゃなかった）&lt;/p&gt;
&lt;p&gt;ちなみに，この現象は Firefox （またはその系列のブラウザ）では発生しない。
私のメインブラウザは Firefox (Quantum マンセー！) なので，指摘されるまで全く気づかなかった。
ゴメンペコン&lt;sup id=&#34;fnref:4&#34;&gt;&lt;a href=&#34;#fn:4&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;4&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;p&gt;とはいえ，これは相当にレアケースなので滅多なことでは発現しないだろう。
&lt;del&gt;個人的には Noto Serif の和文フォントが Web フォントで登場するまでは「&lt;a href=&#34;http://sawarabi-fonts.osdn.jp/&#34; title=&#34;さわらびフォント&#34;&gt;さわらび明朝&lt;/a&gt;」で頑張るつもりである。
なので，特に対策しない予定。&lt;/del&gt;
（ゴメン。&lt;a href=&#34;https://text.baldanders.info/remark/2017/12/installing-noto-serif-jp-in-www_baldanders_info/&#34; title=&#34;結局 Noto Serif JP を Web フォントとして導入した&#34;&gt;日和った&lt;/a&gt;）&lt;/p&gt;
&lt;p&gt;ご不便をおかけすることもあるかもですが，悪しからずご了承の程を。&lt;/p&gt;
&lt;h2 id=&#34;heading&#34;&gt;ブックマーク&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://qiita.com/umeume66/items/01291353fc43c17da992&#34;&gt;「Noto Serif Japanese」を使ってみたので、自分用メモ。 - Qiita&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;最近発表された Noto Serif の和文フォントはまだ Web フォントとしては提供されていない。 &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;デフォルトの Sans Serif が使われていないことは Chrome のデベロッパー・ツールでも確認済み。 &lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;今回は「異体字セレクタ（Variation Selector）」については検証していない。そもそも異体字セレクタによる文字表示はアプリケーションとフォントの両方が対応していないと成り立たない。メジャー・ブラウザは異体字セレクタに対応しているそうだが，私は対応するフォントを持ってないし，対応できる自由な Web フォントが（CDN 等で）提供されているという話も聞かない。したがって今回はスルーの方向で。 &lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:4&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;一応このサイトは Firefox (Quantum) と Chrome ならレイアウトが崩れないように考えているつもり。旧 Firefox や IE や Safari などレガシーなブラウザはスルーで。 Edge は対応したいところだが手元に環境を持ってないので確認＆対応できない。 Win10 を導入する予定は，今のところはない。換装するなら Linux 系のデスクトップにするつもり。 &lt;a href=&#34;#fnref:4&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
	</entry>
</feed>
