<feed xmlns="http://www.w3.org/2005/Atom" xmlns:cc="http://web.resource.org/cc/">
	<title>List of emoji - text.Baldanders.info</title>
	<link rel="alternate" type="text/html" href="https://text.baldanders.info/tags/emoji/" />
	<link rel="self" type="application/atom+xml" href="https://text.baldanders.info/tags/emoji/index.xml" />
	<id>tag:text.Baldanders.info,2021-03-30:/tags</id>
	<updated>2021-03-30T19:58:27+09:00</updated>
	<subtitle>帰ってきた「しっぽのさきっちょ」</subtitle>
	<icon>https://text.baldanders.info/images/avatar.jpg</icon>
	<logo>https://text.baldanders.info/images/avatar.jpg</logo>

	<entry>
		<title>おそるべき絵文字</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2021/03/terrible-emoji/" />
		<id>tag:text.Baldanders.info,2021-03-30:/remark/2021/03/terrible-emoji/</id>
		<published>2021-03-30T10:58:27+00:00</published>
		<updated>2021-03-30T11:20:40+00:00</updated>
		<summary>なんでこんなカオスになっちゃったのかねぇ。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">&lt;p&gt;きっかけは以下の tweet:&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;ほら &lt;a href=&#34;https://twitter.com/hashtag/golang?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#golang&lt;/a&gt; ならこんなに簡単に絵文字を取り除けますよ！8ビット単位だとややこしい書き方が必要になっちゃう。&lt;a href=&#34;https://t.co/AiELa8RlvS&#34;&gt;https://t.co/AiELa8RlvS&lt;/a&gt;&lt;/p&gt;&amp;mdash; のぼのぼ📡 (@nobonobo) &lt;a href=&#34;https://twitter.com/nobonobo/status/1376186097881866240?ref_src=twsrc%5Etfw&#34;&gt;March 28, 2021&lt;/a&gt;&lt;/blockquote&gt;
&lt;/figure&gt;
&lt;p&gt;この tweet の元ネタである「&lt;a href=&#34;https://twitter.com/c_shii41/status/1376163845647986688&#34;&gt;Go言語の正規表現regexpが遅すぎる&lt;/a&gt;」というのは概ねその通りで，私も&lt;a href=&#34;https://text.baldanders.info/golang/regular-expression/&#34; title=&#34;正規表現に関する戯れ言&#34;&gt;記事で書いた&lt;/a&gt; が，これはそもそも &lt;a href=&#34;https://golang.org/pkg/regexp/&#34; title=&#34;regexp - The Go Programming Language&#34;&gt;&lt;code&gt;regexp&lt;/code&gt;&lt;/a&gt; パッケージの設計方針が&lt;/p&gt;
&lt;figure lang=&#34;en&#34;&gt;
&lt;blockquote&gt;&lt;q&gt;The regexp implementation provided by this package is guaranteed to run in time linear in the size of the input&lt;/q&gt;.&lt;/blockquote&gt;
&lt;figcaption&gt;&lt;div&gt;via &lt;q&gt;&lt;a href=&#34;https://golang.org/pkg/regexp/&#34;&gt;regexp - The Go Programming Language&lt;/a&gt;&lt;/q&gt;&lt;/div&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;となっているためで，「遅くなりすぎない」ことのトレードオフとして（Ruby や Perl などと比べて）全体的に遅いのである&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;p&gt;ただ，&lt;a href=&#34;https://play.golang.org/p/brhrHn6dm3A&#34;&gt;サンプルコード&lt;/a&gt;にある&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;emojiRegex&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;regexp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;MustCompile&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;[\U0001f000-\U0001ffff]&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;という正規表現はさすがに端折りすぎで，つい「&lt;a href=&#34;https://twitter.com/spiegel_2007/status/1376301767411990529&#34;&gt;そんな単純じゃねーよ&lt;/a&gt;」と脊髄反射してしまったのは許してほしい。&lt;/p&gt;
&lt;p&gt;でも，よく考えたら，ここのブログや &lt;a href=&#34;https://zenn.dev/&#34; title=&#34;Zenn｜エンジニアのための情報共有コミュニティ&#34;&gt;Zenn&lt;/a&gt; でも絵文字の話をよく書くようになったが，まとまった記事としては書いてない。
というわけで，この記事である程度まとめてみたいと思う。&lt;/p&gt;
&lt;p&gt;以上，前説おわり。&lt;/p&gt;
&lt;h2&gt;Unicode は1コード＝1文字じゃない&lt;/h2&gt;
&lt;p&gt;まず大前提として Unicode は1コード＝1文字じゃない。
これは日本語圏で苦労している私たちには自明だと思うが，たとえば「ペンギン」という単語にしたって&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ペ：&lt;code&gt;U+30D8&lt;/code&gt; + &lt;code&gt;U+309A&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ン：&lt;code&gt;U+30F3&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ギ：&lt;code&gt;U+30AD&lt;/code&gt; + &lt;code&gt;U+3099&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ン：&lt;code&gt;U+30F3&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;と&lt;a href=&#34;https://text.baldanders.info/golang/unicode-normalization/&#34; title=&#34;Go 言語と Unicode 正規化&#34;&gt;濁点・半濁点が分離している場合がある&lt;/a&gt; 。
これは絵文字でも同様で，たとえば「土下座する男性 &lt;abbr class=&#34;emoji-chars&#34; title=&#34;:bowing_man:&#34;&gt;🙇‍♂️&lt;/abbr&gt;」を拙作の &lt;a href=&#34;https://github.com/spiegel-im-spiegel/gnkf&#34; title=&#34;spiegel-im-spiegel/gnkf: Network Kanji Filter by Golang&#34;&gt;gnkf&lt;/a&gt; を使って Unicode 符号点（code point）に分解すると&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ echo 🙇‍♂️ | gnkf dump --unicode
0x0001f647, 0x200d, 0x2642, 0xfe0f, 0x000a
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;と，4つの符号点の合成列として構成されているのが分かる。
ちなみに各符号点の内容は&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;符号点&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;字形&lt;/th&gt;
&lt;th&gt;名称&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+1F647&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;:person_bowing:&#34;&gt;🙇&lt;/abbr&gt;&lt;/td&gt;
&lt;td&gt;PERSON BOWING DEEPLY&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+200D&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td&gt;ZERO WIDTH JOINER&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+2642&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;♂&lt;/td&gt;
&lt;td&gt;MALE SIGN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+FE0F&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td&gt;VARIATION SELECTOR-16&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;となっている。
これだけ見ても，絵文字を&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;emojiRegex&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;regexp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;MustCompile&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;[\U0001f000-\U0001ffff]&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;などと安直に括り出すのが如何にヤバいか分かるであろう。&lt;/p&gt;
&lt;p&gt;Unicode 文字列中の「文字」を真面目に分解して取り扱いたいなら，たとえば &lt;a href=&#34;https://golang.org/&#34; title=&#34;The Go Programming Language&#34;&gt;Go&lt;/a&gt; 言語なら &lt;code&gt;rune&lt;/code&gt; ではなく &lt;code&gt;[]rune&lt;/code&gt; のように符号点の可変配列として取り扱う必要があるだろう。
かつ，各符号点の意味を考えながら「どこまでが1文字か」を解析するロジックが必要になる。&lt;/p&gt;
&lt;p&gt;ちなみに &lt;a href=&#34;https://golang.org/&#34; title=&#34;The Go Programming Language&#34;&gt;Go&lt;/a&gt; では &lt;a href=&#34;https://github.com/rivo/uniseg&#34; title=&#34;rivo/uniseg: Unicode Text Segmentation for Go (or: How to Count Characters in a String)&#34;&gt;rivo/uniseg&lt;/a&gt; パッケージを使うといい感じに分解してくれるらしい。&lt;/p&gt;
&lt;h2&gt;符号とフォントと入出力&lt;/h2&gt;
&lt;p&gt;これも言ってしまえば当たり前のことなのだが，絵文字は符号とフォントと入出力が揃ってはじめて絵文字として機能する。
先ほどの &lt;abbr class=&#34;emoji-chars&#34; title=&#34;:bowing_man:&#34;&gt;🙇‍♂️&lt;/abbr&gt; も&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ echo 🙇‍♂️ | gnkf dump --unicode
0x0001f647, 0x200d, 0x2642, 0xfe0f, 0x000a
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;という符号点の並びがひとつの絵文字であると解釈し，かつその文字に対応するフォントとグリフがあり，さらにそのグリフで表示できるアプリケーションがあってはじめて &lt;abbr class=&#34;emoji-chars&#34; title=&#34;:bowing_man:&#34;&gt;🙇‍♂️&lt;/abbr&gt; と表示できる。&lt;/p&gt;
&lt;p&gt;この記事中の絵文字も，もしかしたらブラウザの種類やバージョン等によって 🙇♂ と2文字に見えているかもしれない。
もしくは変な記号に「文字化け」するとか，そもそも全く表示されないとか&amp;hellip;&lt;/p&gt;
&lt;p&gt;たとえば Twitter ではユーザ側の環境やアプリケーション間の差異を軽減するため，絵文字を独自の画像データに置き換えるツールキットを公開している。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://twemoji.twitter.com/&#34;&gt;Twemoji&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;https://zenn.dev/&#34; title=&#34;Zenn｜エンジニアのための情報共有コミュニティ&#34;&gt;Zenn&lt;/a&gt; のアテンション用絵文字もこれを使って表示している筈。&lt;/p&gt;
&lt;p&gt;それぞれの絵文字がどのように表示されるか（または表示されないか）については Unicode 公式ページにある&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://unicode.org/emoji/charts/full-emoji-list.html&#34;&gt;Full Emoji List&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;が参考になるだろう。
2021年3月時点の最新版である v13.1 では1,816個の絵文字が定義されている。&lt;/p&gt;
&lt;p&gt;多いよ &lt;code&gt;orz&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;ターミナル・エミュレータと絵文字&lt;/h3&gt;
&lt;p&gt;ブラウザとかスマホ・アプリならまだマシだと思うが， CUI ベースのターミナル・エミュレータは絵文字周りが特に冷遇されている印象がある。&lt;/p&gt;
&lt;p&gt;私は CLI ツールで対話モードを組むときに &lt;a href=&#34;https://github.com/zetamatta/go-readline-ny&#34; title=&#34;zetamatta/go-readline-ny: Readline library for golang , used in nyagos&#34;&gt;zetamatta/go-readline-ny&lt;/a&gt; パッケージ&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt; のお世話になるのだが，&lt;a href=&#34;https://github.com/zetamatta/go-readline-ny/releases&#34; title=&#34;Releases · zetamatta/go-readline-ny&#34;&gt;リリース情報&lt;/a&gt;を見るとホンマに絵文字で苦労されているのが分かる。
その一端が以下の &lt;a href=&#34;https://zenn.dev/&#34; title=&#34;Zenn｜エンジニアのための情報共有コミュニティ&#34;&gt;Zenn&lt;/a&gt; 本に記されているので，是非ご覧あれ。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://zenn.dev/zetamatta/books/b820d588f4856bcf836c&#34;&gt;Windows と Unicode とボク&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;プログラマが読んだら涙で前が見えなくなるよ（笑）&lt;/p&gt;
&lt;h2&gt;“#” の Keycap はあるのに “A” の Keycap はないのか&lt;/h2&gt;
&lt;p&gt;上で紹介した “&lt;a href=&#34;https://unicode.org/emoji/charts/full-emoji-list.html&#34;&gt;Full Emoji List&lt;/a&gt;” を眺めると，たとえば絵文字 &lt;abbr class=&#34;emoji-chars&#34; title=&#34;:keycap_#:&#34;&gt;#️⃣&lt;/abbr&gt; は&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;符号点&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;字形&lt;/th&gt;
&lt;th&gt;名称&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+0023&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;#&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;NUMBER SIGN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+FE0F&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td&gt;VARIATION SELECTOR-16&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+20E3&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt; ⃣&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;COMBINING ENCLOSING KEYCAP&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;という並びになっている。
もう&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;emojiRegex&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;regexp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;MustCompile&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;[\U0001f000-\U0001ffff]&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;という正規表現に微塵もかからない（笑）&lt;/p&gt;
&lt;p&gt;いや，そうじゃなくて。
たしかに普通の半角記号である &lt;code&gt;#&lt;/code&gt; が合成列の先頭に来ているのも驚きだが，その直後に絵文字用の異体字セレクタが来ているのにビックリした。
必ずしも異体字セレクタが最後に付くんじゃないのか。&lt;/p&gt;
&lt;p&gt;まぁ，でも意味は分かる。
&lt;abbr class=&#34;emoji-chars&#34; title=&#34;:keycap_#:&#34;&gt;#️⃣&lt;/abbr&gt; は &lt;code&gt;#&lt;/code&gt; 記号の絵文字異体字ってことで，先頭の符号点だけ見れば &lt;code&gt;#&lt;/code&gt; と等価な文字として扱えるってことだよね。
そしてその後ろに keycap を表す結合文字がくっ付いている，と。&lt;/p&gt;
&lt;p&gt;そんじゃあ &lt;code&gt;#&lt;/code&gt; の代わりに &lt;code&gt;A&lt;/code&gt; とかの任意の文字でも keycap の絵文字が作れるんじゃね？ と一瞬思ったが “&lt;a href=&#34;https://unicode.org/emoji/charts/full-emoji-list.html&#34;&gt;Full Emoji List&lt;/a&gt;” を見る限りそんなことはないようだ&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;p&gt;どういうルールなんだろうねぇ。&lt;/p&gt;
&lt;h2&gt;肌色の異体字&lt;/h2&gt;
&lt;p&gt;最初に紹介した “PERSON BOWING DEEPLY” &lt;abbr class=&#34;emoji-chars&#34; title=&#34;:person_bowing:&#34;&gt;🙇&lt;/abbr&gt; には肌色の情報をくっ付けることができる。&lt;/p&gt;
&lt;p&gt;こんな感じ。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;合成列&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;字形&lt;/th&gt;
&lt;th&gt;名称&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+1F647&lt;/code&gt; + &lt;code&gt;U+1F3FB&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;:person_bowing_tone1:&#34;&gt;🙇🏻&lt;/abbr&gt;&lt;/td&gt;
&lt;td&gt;person bowing: light skin tone&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+1F647&lt;/code&gt; + &lt;code&gt;U+1F3FC&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;:person_bowing_tone2:&#34;&gt;🙇🏼&lt;/abbr&gt;&lt;/td&gt;
&lt;td&gt;person bowing: medium-light skin tone&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+1F647&lt;/code&gt; + &lt;code&gt;U+1F3FD&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;:person_bowing_tone3:&#34;&gt;🙇🏽&lt;/abbr&gt;&lt;/td&gt;
&lt;td&gt;person bowing: medium skin tone&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+1F647&lt;/code&gt; + &lt;code&gt;U+1F3FE&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;:person_bowing_tone4:&#34;&gt;🙇🏾&lt;/abbr&gt;&lt;/td&gt;
&lt;td&gt;person bowing: medium-dark skin tone&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+1F647&lt;/code&gt; + &lt;code&gt;U+1F3FF&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;:person_bowing_tone5:&#34;&gt;🙇🏿&lt;/abbr&gt;&lt;/td&gt;
&lt;td&gt;person bowing: dark skin tone&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;この肌色って人種を指すものじゃなくて “&lt;a href=&#34;https://en.wikipedia.org/wiki/Fitzpatrick_scale&#34; title=&#34;Fitzpatrick scale - Wikipedia&#34;&gt;fitzpatrick skin typing&lt;/a&gt;” と呼ばれる紫外線への感受性を基にした分類らしい。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;符号点&lt;/th&gt;
&lt;th&gt;名称&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+1F3FB&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;EMOJI MODIFIER FITZPATRICK TYPE-1-2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+1F3FC&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;EMOJI MODIFIER FITZPATRICK TYPE-3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+1F3FD&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;EMOJI MODIFIER FITZPATRICK TYPE-4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+1F3FE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;EMOJI MODIFIER FITZPATRICK TYPE-5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+1F3FF&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;EMOJI MODIFIER FITZPATRICK TYPE-6&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;このコードは結合文字の一種のように見えるが，どんな絵文字にもくっ付くわけではないらしい。
有効な組み合わせは&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.unicode.org/emoji/charts/full-emoji-modifiers.html&#34;&gt;Full Emoji Modifier Sequences&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;を参考にするといいだろう。&lt;/p&gt;
&lt;h2&gt;ZWJ による絵文字の合成&lt;/h2&gt;
&lt;p&gt;最初の「土下座する男性 &lt;abbr class=&#34;emoji-chars&#34; title=&#34;:bowing_man:&#34;&gt;🙇‍♂️&lt;/abbr&gt;」に戻る。
男性があるのだから女性バージョン &lt;abbr class=&#34;emoji-chars&#34; title=&#34;:bowing_woman:&#34;&gt;🙇‍♀️&lt;/abbr&gt; も当然ある。&lt;/p&gt;
&lt;p&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;:bowing_woman:&#34;&gt;🙇‍♀️&lt;/abbr&gt; の内容は以下の通り。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;符号点&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;字形&lt;/th&gt;
&lt;th&gt;名称&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+1F647&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;:person_bowing:&#34;&gt;🙇&lt;/abbr&gt;&lt;/td&gt;
&lt;td&gt;PERSON BOWING DEEPLY&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+200D&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td&gt;ZERO WIDTH JOINER&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+2640&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;♀&lt;/td&gt;
&lt;td&gt;FEMALE SIGN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+FE0F&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td&gt;VARIATION SELECTOR-16&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;つまり “PERSON BOWING DEEPLY” に性差を示す “MALE SIGN” または “FEMALE SIGN” を “ZERO WIDTH JOINER” (ZWJ) を介してくっ付けることで異体字を構成している。&lt;/p&gt;
&lt;p&gt;このように ZWJ を使って文字をくっ付けて異体字や新たな絵文字を作る方法にはかなりのバリエーションがあるようだが，どうもプラットフォームごとに勝手にコードを組み合わせているらしく上手く表示できないパターンがあるようだ。&lt;/p&gt;
&lt;p&gt;このため &lt;a href=&#34;https://zenn.dev/&#34; title=&#34;Zenn｜エンジニアのための情報共有コミュニティ&#34;&gt;Zenn&lt;/a&gt; では，以下のリストにない絵文字を排除することで&lt;a href=&#34;https://github.com/zenn-dev/zenn-roadmap/issues/224#issuecomment-767231796&#34;&gt;対応&lt;/a&gt;しているそうだ。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.unicode.org/emoji/charts/emoji-zwj-sequences.html&#34;&gt;Recommended Emoji ZWJ Sequences&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;この一覧によると “PERSON BOWING DEEPLY” &lt;abbr class=&#34;emoji-chars&#34; title=&#34;:person_bowing:&#34;&gt;🙇&lt;/abbr&gt; には，前節の肌色バリエーションと男女性差のバリエーションを組み合わせて，合計10個の異体字がある，ということになる。&lt;/p&gt;
&lt;h2&gt;国旗絵文字&lt;/h2&gt;
&lt;p&gt;個人的にこれが一番ワケワカメ。&lt;/p&gt;
&lt;p&gt;REGIONAL INDICATOR なるコードがあって&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;符号点&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;字形&lt;/th&gt;
&lt;th&gt;名称&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+1F1E6&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;🇦&lt;/td&gt;
&lt;td&gt;REGIONAL INDICATOR SYMBOL LETTER A&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+1F1E7&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;🇧&lt;/td&gt;
&lt;td&gt;REGIONAL INDICATOR SYMBOL LETTER B&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+1F1E8&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;🇨&lt;/td&gt;
&lt;td&gt;REGIONAL INDICATOR SYMBOL LETTER C&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&amp;hellip;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&amp;hellip;&lt;/td&gt;
&lt;td&gt;&amp;hellip;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+1F1EF&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;🇯&lt;/td&gt;
&lt;td&gt;REGIONAL INDICATOR SYMBOL LETTER J&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&amp;hellip;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&amp;hellip;&lt;/td&gt;
&lt;td&gt;&amp;hellip;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+1F1F5&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;🇵&lt;/td&gt;
&lt;td&gt;REGIONAL INDICATOR SYMBOL LETTER P&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&amp;hellip;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&amp;hellip;&lt;/td&gt;
&lt;td&gt;&amp;hellip;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+1F1FF&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;🇿&lt;/td&gt;
&lt;td&gt;REGIONAL INDICATOR SYMBOL LETTER Z&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;これを使って ISO 3166 (日本では JIS X 0304) の国別コードを組むと国旗の絵文字になるらしい。
日本の国別コードは JP なので&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;合成列&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;字形&lt;/th&gt;
&lt;th&gt;名称&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+1F1EF&lt;/code&gt; + &lt;code&gt;U+1F1F5&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;:flag_jp:&#34;&gt;🇯🇵&lt;/abbr&gt;&lt;/td&gt;
&lt;td&gt;flag: Japan&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;となる。&lt;/p&gt;
&lt;p&gt;ところでこれ，ちゃんと国旗に見えてます？ かなり環境依存度が大きいようで Windows とかでは軒並みアウトっぽい。&lt;/p&gt;
&lt;p&gt;さらにアレなのが Unicode 10.0 で追加された &lt;a href=&#34;https://emojipedia.org/emoji-tag-sequence/&#34; title=&#34;🏴󠁧󠁢󠁳󠁣󠁴󠁿 Emoji Tag Sequences for Subdivision Flags&#34;&gt;subdivision-flag&lt;/a&gt; に分類されているもので，たとえば「イングランドの国旗 &lt;abbr class=&#34;emoji-chars&#34; title=&#34;:flag_England:&#34;&gt;🏴󠁧󠁢󠁥󠁮󠁧󠁿&lt;/abbr&gt;」は&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;符号点&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;字形&lt;/th&gt;
&lt;th&gt;名称&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+x1F3F4&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;🏴&lt;/td&gt;
&lt;td&gt;WAVING BLACK FLAG&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+E0067&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td&gt;TAG LATIN SMALL LETTER G&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+E0062&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td&gt;TAG LATIN SMALL LETTER B&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+E0065&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td&gt;TAG LATIN SMALL LETTER E&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+E006E&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td&gt;TAG LATIN SMALL LETTER N&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+E0067&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td&gt;TAG LATIN SMALL LETTER G&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+E007F&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td&gt;CANCEL TAG&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;という並びになっている。
一般的には “WAVING BLACK FLAG” と “CANCEL TAG” の間に TAG LATIN SMALL LETTER A～Z (&lt;code&gt;U+E0061&lt;/code&gt; ～ &lt;code&gt;U+E007A&lt;/code&gt;) を5つ並べる構成になっているらしい。&lt;/p&gt;
&lt;p&gt;なにその面倒くさいやつ。&lt;/p&gt;
&lt;h2&gt;絵文字シーケンスのまとめ&lt;/h2&gt;
&lt;p&gt;以上をまとめると，絵文字の分類は以下のようになっているらしい（「&lt;a href=&#34;https://qiita.com/_sobataro/items/47989ee4b573e0c2adfc&#34; title=&#34;Unicode 絵文字にまつわるあれこれ (絵文字の標準とプログラム上でのハンドリング) - Qiita&#34;&gt;Unicode 絵文字にまつわるあれこれ&lt;/a&gt;」を参考に分類）。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;singleton ： 単体のコードポイントからなる絵文字&lt;/li&gt;
&lt;li&gt;emoji sequence ： 複数のコードポイントからなる絵文字
&lt;ul&gt;
&lt;li&gt;emoji core sequence ： 通常の絵文字
&lt;ul&gt;
&lt;li&gt;emoji combining sequence ： 囲み文字&lt;/li&gt;
&lt;li&gt;emoji modifier sequence ： skin tone 絵文字&lt;/li&gt;
&lt;li&gt;emoji flag sequence ： 国旗絵文字&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;emoji zwj sequence ： 家族絵文字、職業絵文字など&lt;/li&gt;
&lt;li&gt;emoji tag sequence ：タグ絵文字&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;この分類でいくと Keycap の絵文字は “emoji combining sequence” に相当する。
肌色の異体字は “emoji modifier sequence” やね。
ZWJ にとる文字の結合は “emoji zwj sequence” で，国旗絵文字はそのまま “emoji flag sequence”。
ただし subdivision-flag は “emoji tag sequence” に分類されるようだ。&lt;/p&gt;
&lt;p&gt;しかもこれってただの分類なので，実際の絵文字がどれに分類されるかは「知識」としてあらかじめ知ってないといけない。
プログラマ的に言うならロジックを書くだけでは足りなくてロジックを駆動する知識をデータベースとして何処かに保持っておく必要がある。&lt;/p&gt;
&lt;p&gt;なんでこんなカオスになっちゃったのかねぇ。
本当に「おそるべき絵文字」だよ。&lt;/p&gt;
&lt;h2&gt;【余談】元号記号も絵文字と見做せばいいぢゃん&lt;/h2&gt;
&lt;p&gt;絵文字を調べてて思い出したのが，4年前に書いた&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2017/12/character-of-the-new-era-name/&#34;&gt;新元号「文字」という技術的負債&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;という記事。
「&lt;a href=&#34;https://text.baldanders.info/remark/2020/12/technical-debt-and-hacker/&#34; title=&#34;技術的負債とハッカー&#34;&gt;技術的負債&lt;/a&gt;」と口走ったのは私の黒歴史としてスルーしていただけるとありがたいが，よく考えたら「㍻ &lt;code&gt;U+337B&lt;/code&gt;」とかを「文字」だと思うから不合理に感じるのであって「絵文字」と思えばアリなのか。
いや， Unicode では絵文字と定義しているわけじゃないけど。&lt;/p&gt;
&lt;p&gt;でも「&lt;abbr class=&#34;emoji-chars&#34; title=&#34;:copyright:&#34;&gt;©️&lt;/abbr&gt; &lt;code&gt;U+00A9&lt;/code&gt;」だって絵文字扱いなんだから ㍻ も絵文字でいいよね（笑）&lt;/p&gt;
&lt;h2&gt;ブックマーク&lt;/h2&gt;
&lt;p&gt;Unicode における「絵文字」黎明期の話は，&lt;a href=&#34;https://ogwata.hatenadiary.org/&#34; title=&#34;もじのなまえ&#34;&gt;小形克宏&lt;/a&gt;さんの一連の記事が参考になる。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://japan.cnet.com/article/20389042/&#34;&gt;絵文字が開いてしまった「パンドラの箱」第1回&amp;ndash;日本の携帯電話キャリアが選んだ道 - CNET Japan&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://japan.cnet.com/article/20389453/&#34;&gt;絵文字が開いてしまった「パンドラの箱」第2回&amp;ndash;Googleの開けてしまった箱の中味 - CNET Japan&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://japan.cnet.com/article/20390204/&#34;&gt;絵文字が開いてしまった「パンドラの箱」第3回&amp;ndash;Unicode提案の限界とメリット - CNET Japan&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://japan.cnet.com/article/20394318/&#34;&gt;絵文字が開いてしまった「パンドラの箱」第4回&amp;ndash;絵文字が引き起こしたUnicode-MLの“祭り” - CNET Japan&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://japan.cnet.com/article/20398174/&#34;&gt;絵文字が開いてしまった「パンドラの箱」第5回&amp;ndash;絵文字と日本マンガの親密な関係 - CNET Japan&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://japan.cnet.com/article/20407674/&#34;&gt;絵文字が開いてしまった「パンドラの箱」第6回&amp;ndash;Google・Apple提案とそのシナリオ - CNET Japan&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://japan.cnet.com/article/20407951/&#34;&gt;絵文字が開いてしまった「パンドラの箱」第7回&amp;ndash;そして舞台はダブリンから東京へ - CNET Japan&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://japan.cnet.com/article/20409186/&#34;&gt;グーグルが絵文字を世界標準に提案した理由&amp;ndash;国際化エンジニアに聞くプロジェクトの舞台裏（前編） - CNET Japan&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://japan.cnet.com/article/20409186/&#34;&gt;グーグルが絵文字を世界標準に提案した理由&amp;ndash;国際化エンジニアに聞くプロジェクトの舞台裏（前編） - CNET Japan&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://internet.watch.impress.co.jp/docs/special/670150.html&#34;&gt;「絵文字に平等をサポートしてください」人種差別の指摘にゆれるUnicode - INTERNET Watch Watch&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://internet.watch.impress.co.jp/docs/special/678029.html&#34;&gt;どんな人々がUnicodeの絵文字に「民族の多様性」を求めているのか？ - INTERNET Watch Watch&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://internet.watch.impress.co.jp/docs/special/379269.html&#34;&gt;絵文字を「符号」として処理する難しさ～日本のモバイルウェブのカオスぶり - INTERNET Watch Watch&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://internet.watch.impress.co.jp/docs/special/380149.html&#34;&gt;絵文字を「語」として処理する難しさ～定義通りとは限らない、絵文字の意味 - INTERNET Watch Watch&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://internet.watch.impress.co.jp/docs/special/380180.html&#34;&gt;絵文字を「語」として処理する難しさ～「ビール」と「飲み会」見分ける技術 - INTERNET Watch Watch&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;その他のブックマーク：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://lets-emoji.com/&#34;&gt;Let&amp;rsquo;s EMOJI｜絵文字一覧と絵文字検索🎉&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2020/10/emoji-variation-and-markdown/&#34;&gt;絵文字と異体字と Markdown&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/golang/unicode-rangetables/&#34;&gt;Unicode 文字種の判別&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://zenn.dev/spiegel/articles/20210118-characters&#34;&gt;やっかいな日本語&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://golang.org/pkg/regexp/&#34; title=&#34;regexp - The Go Programming Language&#34;&gt;&lt;code&gt;regexp&lt;/code&gt;&lt;/a&gt; パッケージの設計については &lt;q&gt;&lt;a href=&#34;https://swtch.com/~rsc/regexp/regexp1.html&#34;&gt;Regular Expression Matching Can Be Simple And Fast&lt;/a&gt;&lt;/q&gt; を参照のこと。 &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/zetamatta/go-readline-ny&#34; title=&#34;zetamatta/go-readline-ny: Readline library for golang , used in nyagos&#34;&gt;zetamatta/go-readline-ny&lt;/a&gt; は同じ作者による &lt;a href=&#34;https://github.com/zetamatta/nyagos&#34; title=&#34;zetamatta/nyagos: NYAGOS - The hybrid Commandline Shell betweeeeeeen UNIX &amp;amp; DOS&#34;&gt;NYAGOS&lt;/a&gt; からのスピンオフで，ターミナル・エミュレータからの入力制御に特化している。Emacs 風のキー・バインドでヒストリ機能を付けることもできる。元々は Windows 用だと思うが Ubuntu のターミナル・エミュレータでも問題なく機能するので重宝している。 &lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;処理系によっては任意のコードを組み合わせて勝手に絵文字を作れたりするのかもしれないが，互換性がなくなるので「情報交換用」としては使えない。ちなみに &lt;abbr class=&#34;emoji-chars&#34; title=&#34;:A_button_(blood_type):&#34;&gt;🅰&lt;/abbr&gt; という絵文字はあるが，これは血液型（A型）を表す絵文字らしい。 &lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
	</entry><entry>
		<title>絵文字と異体字と Markdown</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2020/10/emoji-variation-and-markdown/" />
		<id>tag:text.Baldanders.info,2020-10-08:/remark/2020/10/emoji-variation-and-markdown/</id>
		<published>2020-10-08T07:22:55+00:00</published>
		<updated>2021-03-30T10:59:11+00:00</updated>
		<summary>Hugo の markdown で絵文字を簡単に表示する。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">&lt;p&gt;絵文字ってある意味で漢字より難解なので，なるべく使わないようにしてきたのだが，文章に混ぜたり emoticon 代わりに使ったりするだけでなく &lt;a href=&#34;https://zenn.dev/&#34; title=&#34;Zenn｜プログラマーのための情報共有コミュニティ&#34;&gt;Zenn&lt;/a&gt; みたいにページのアテンションに使ってる例もあるわけで「もう少し積極的に使ってもいいかなぁ」という気になってきた。&lt;/p&gt;
&lt;p&gt;とはいえ input method から延々と探したりその辺のページから絵文字をコピペするのも馬鹿らしいし，折角 markdown で書いてるんだから意味のあるコードで書きたい。&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://gohugo.io/&#34; title=&#34;The world’s fastest framework for building websites | Hugo&#34;&gt;Hugo&lt;/a&gt; なら &lt;code&gt;config.toml&lt;/code&gt; 等の設定ファイルで&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-toml&#34; data-lang=&#34;toml&#34;&gt;&lt;span class=&#34;nx&#34;&gt;enableEmoji&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;とすれば markdown テキスト内の &lt;code&gt;:heart:&lt;/code&gt; 等を &lt;abbr class=&#34;emoji-chars&#34; title=&#34;:heart:&#34;&gt;❤️&lt;/abbr&gt; 等に変換してくれる。
あるいはテンプレートや shortcodes で&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;{{ emojify &amp;#34;:heart:&amp;#34; }}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;などとしてもよい。&lt;/p&gt;
&lt;p&gt;変換可能な絵文字の一覧は以下を参照のこと。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.webfx.com/tools/emoji-cheat-sheet/&#34;&gt;🎁 Emoji cheat sheet for GitHub, Basecamp, Slack &amp;amp; more&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ただしリンク先にある全部の文字が &lt;a href=&#34;https://gohugo.io/&#34; title=&#34;The world’s fastest framework for building websites | Hugo&#34;&gt;Hugo&lt;/a&gt; で使えるわけではないらしい。
私がよく使いそうな絵文字を挙げておくか。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;字形&lt;/th&gt;
&lt;th&gt;Markdown コード&lt;/th&gt;
&lt;th&gt;CLDR Short Name&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;span class=&#34;larger&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;:smile:&#34;&gt;😄&lt;/abbr&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;:smile:&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;grinning face with smiling eyes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;span class=&#34;larger&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;:sleeping:&#34;&gt;😴&lt;/abbr&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;:sleeping:&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;sleeping face&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;span class=&#34;larger&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;:pensive:&#34;&gt;😔&lt;/abbr&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;:pensive:&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;pensive face&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;span class=&#34;larger&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;:bow:&#34;&gt;🙇‍♂️&lt;/abbr&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;:bow:&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;person bowing ???&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;span class=&#34;larger&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;:zzz:&#34;&gt;💤&lt;/abbr&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;:zzz:&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;zzz&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;span class=&#34;larger&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;:anger:&#34;&gt;💢&lt;/abbr&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;:anger:&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;anger symbol&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;span class=&#34;larger&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;:sweat_drops:&#34;&gt;💦&lt;/abbr&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;:sweat_drops:&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;sweat droplets&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;span class=&#34;larger&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;:star:&#34;&gt;⭐&lt;/abbr&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;:star:&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;star&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;span class=&#34;larger&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;:bulb:&#34;&gt;💡&lt;/abbr&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;:bulb:&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;light bulb&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;span class=&#34;larger&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;:musical_note:&#34;&gt;🎵&lt;/abbr&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;:musical_note:&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;musical note&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;span class=&#34;larger&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;:key:&#34;&gt;🔑&lt;/abbr&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;:key:&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;key&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;span class=&#34;larger&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;:lock:&#34;&gt;🔒&lt;/abbr&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;:lock:&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;locked&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;span class=&#34;larger&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;:unlock:&#34;&gt;🔓&lt;/abbr&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;:unlock:&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;unlocked&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;span class=&#34;larger&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;:closed_lock_with_key:&#34;&gt;🔐&lt;/abbr&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;:closed_lock_with_key:&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;locked with key&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;さて，皆さんの環境ではどう見えているでしょうか。
人によって見え方が異なると思います（絵文字のフォント指定については&lt;a href=&#34;#fonts&#34;&gt;後述&lt;/a&gt;）。&lt;/p&gt;
&lt;p&gt;ところで，上に挙げた &lt;code&gt;:bow:&lt;/code&gt; ってどう見えてます？ 実は &lt;span&gt;&amp;#x1f647;&amp;#x2642;&lt;/span&gt; ってな感じの2文字に見えてません？ うちでは &lt;code&gt;:bow:&lt;/code&gt; から変換した絵文字をターミナル・エミュレータとかにコピペすると，こうなるんですよ。&lt;/p&gt;
&lt;p&gt;というわけでコードを見てみると&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ echo 🙇‍♂️ | gnkf dump --unicode
0x0001f647, 0x200d, 0x2642, 0xfe0f, 0x000a
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;おいおい。
本来のコードの後ろに何か付いとるやないかいっ &lt;abbr class=&#34;emoji-chars&#34; title=&#34;:anger:&#34;&gt;💢&lt;/abbr&gt; （← 早速）&lt;/p&gt;
&lt;p&gt;実はこれ，絵文字の異体字なんだよ。
内訳はこんな感じ。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Unicode Point&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;字形&lt;/th&gt;
&lt;th&gt;Unicode 名称&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+1F647&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;span&gt;&amp;#x1f647;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;PERSON BOWING DEEPLY&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+200D&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td&gt;ZERO WIDTH JOINER&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+2642&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;span&gt;&amp;#x2642;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;MALE SIGN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;U+FE0F&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td&gt;VARIATION SELECTOR-16&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;ZERO WIDTH JOINER (ゼロ幅接合子; ZWJ) はアラビア文字なんかで複数の文字を結合してひとつの文字にするための制御文字。
さらに VARIATION SELECTOR-16 は “Emoji Variation Selector” とも呼ばれ，絵文字の異体字であることを示す異体字セレクタである&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;p&gt;つまり &lt;code&gt;:bow:&lt;/code&gt; で表示されるのは「土下座する男性」を意味する絵文字（の異体字）なわけだ。
処理系によって異体字を上手く表示できない場合は &lt;span&gt;&amp;#x1f647;&amp;#x2642;&lt;/span&gt; のように2つの文字が並んでいるように見えたりするようだ。&lt;/p&gt;
&lt;p&gt;&amp;hellip;なんで男性なんだろうね。
&lt;a href=&#34;https://text.baldanders.info/remark/2020/08/renaming-default-branch-name-in-github-repositries/&#34; title=&#34;GitHub リポジトリの既定ブランチ名が main になるらしい&#34;&gt;GitHub の既定ブランチ名を弄る&lt;/a&gt;とかするくらいなら，こういうのを真っ先に改善すべきなんじゃないの？&lt;/p&gt;
&lt;p&gt;というわけで &lt;a href=&#34;https://gohugo.io/&#34; title=&#34;The world’s fastest framework for building websites | Hugo&#34;&gt;Hugo&lt;/a&gt; 環境全体の設定は変えずに，絵文字表示用の shortcode を作って対応することにした。
こんな感じ。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;{{- range $i, $s := .Params -}}
{{- if gt $i 0 -}}&amp;amp;nbsp;{{- end -}}&amp;lt;abbr title=&amp;#34;{{ $s }}&amp;#34;&amp;gt;
{{- if eq $s &amp;#34;ゴメン&amp;#34; -}}&amp;amp;#x1f647;
{{- else if eq $s &amp;#34;ふむむ&amp;#34; -}}&amp;amp;#x1f914;
{{- else if eq $s &amp;#34;はぁと&amp;#34; -}}&amp;amp;#x1f49b;
{{- else if eq $s &amp;#34;キーボード&amp;#34; -}}&amp;amp;#x2328;
{{- else if eq $s &amp;#34;はなまる&amp;#34; -}}&amp;amp;#x1f4ae;
{{- else if eq $s &amp;#34;錠前と鍵&amp;#34; -}}{{- emojify &amp;#34;:closed_lock_with_key:&amp;#34; -}}
{{- else -}}{{ emojify $s }}{{- end -}}
&amp;lt;/abbr&amp;gt;{{- end -}}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;これで &lt;code&gt;{{&amp;lt; emoji &amp;quot;:zzz:&amp;quot; &amp;gt;}}&lt;/code&gt; などとすれば&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;abbr&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;:zzz:&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;💤&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;abbr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;という感じに展開してくれる。
あとは自分で定義名を作れば別名定義もできるし対応する絵文字を増やすこともできる。
上の shortcode だと&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;字形&lt;/th&gt;
&lt;th&gt;shortcode&lt;/th&gt;
&lt;th&gt;CLDR Short Name&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;span class=&#34;larger&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;ゴメン&#34;&gt;&amp;#x1f647;&lt;/abbr&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;{{&amp;lt; emoji &amp;quot;ゴメン&amp;quot; &amp;gt;}}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;person bowing&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;span class=&#34;larger&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;ふむむ&#34;&gt;&amp;#x1f914;&lt;/abbr&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;{{&amp;lt; emoji &amp;quot;ふむむ&amp;quot; &amp;gt;}}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;thinking face&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;span class=&#34;larger&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;はぁと&#34;&gt;&amp;#x1f49b;&lt;/abbr&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;{{&amp;lt; emoji &amp;quot;はぁと&amp;quot; &amp;gt;}}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;yellow heart&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;span class=&#34;larger&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;キーボード&#34;&gt;&amp;#x2328;&lt;/abbr&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;{{&amp;lt; emoji &amp;quot;キーボード&amp;quot; &amp;gt;}}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;keyboard&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;span class=&#34;larger&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;はなまる&#34;&gt;&amp;#x1f4ae;&lt;/abbr&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;{{&amp;lt; emoji &amp;quot;はなまる&amp;quot; &amp;gt;}}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;white flower&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;span class=&#34;larger&#34;&gt;&lt;abbr class=&#34;emoji-chars&#34; title=&#34;錠前と鍵&#34;&gt;🔐&lt;/abbr&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;{{&amp;lt; emoji &amp;quot;錠前と鍵&amp;quot; &amp;gt;}}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;locked with key&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;てな感じで定義している。&lt;/p&gt;
&lt;h2 id=&#34;fonts&#34;&gt;【2020-10-09 追記】 絵文字のフォント指定&lt;/h2&gt;
&lt;p&gt;絵文字に関しては &lt;a href=&#34;https://fonts.google.com/&#34;&gt;Google Fonts&lt;/a&gt; みたいなメジャーな Web フォントはないっぽいので各自ローカル環境のフォントをあてにするしかないんだけど（もう自前で Web フォントを用意したくない），これに関して &lt;a href=&#34;https://unicode.org/emoji/charts/full-emoji-list.html&#34; title=&#34;Full Emoji List&#34;&gt;Unicode 本家サイト&lt;/a&gt;で&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-css&#34; data-lang=&#34;css&#34;&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;chars&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;charsSmall&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;none&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mh&#34;&gt;#ccc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;font-family&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Noto Color Emoji&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Apple Color Emoji&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Segoe UI Emoji&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;Times&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Symbola&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Aegyptus&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Code2000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Code2001&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Code2002&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Musica&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;serif&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;LastResort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;font-variant-emoji&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;emoji&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;みたいな記述があったので，ありがたくパクらせていただくことにした（笑） すなわち&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-css&#34; data-lang=&#34;css&#34;&gt;&lt;span class=&#34;nt&#34;&gt;abbr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;emoji-chars&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;text-decoration&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;none&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;font-family&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Noto Color Emoji&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Apple Color Emoji&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Segoe UI Emoji&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Times&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Symbola&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Aegyptus&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Code2000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Code2001&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Code2002&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Musica&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;serif&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;LastResort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;font-variant-emoji&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;emoji&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;と定義して&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;abbr&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;emoji-chars&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;:zzz:&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;💤&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;abbr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;となるよう shortcode を書き直せばいいわけだ。
当面はこれで。&lt;/p&gt;
&lt;h2&gt;ブックマーク&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://unicode.org/emoji/charts/full-emoji-list.html&#34;&gt;Full Emoji List&lt;/a&gt; : based on Unicode CLDR data&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://gohugo.io/functions/emojify/&#34;&gt;emojify | Hugo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://lets-emoji.com/emojilist/&#34;&gt;絵文字一覧 🤣 | Let&amp;rsquo;s EMOJI&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://ja.wikipedia.org/wiki/Unicode%E3%81%AEEmoji%E3%81%AE%E4%B8%80%E8%A6%A7&#34;&gt;UnicodeのEmojiの一覧 - Wikipedia&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/twitter/twemoji&#34;&gt;twitter/twemoji: Emoji for everyone. https://twemoji.twitter.com/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/googlefonts/noto-emoji&#34;&gt;googlefonts/noto-emoji: Noto Emoji fonts&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- eof --&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;異体字セレクタのコードポイントは通常のものと区別するために &lt;code&gt;E+FE0F&lt;/code&gt;と表記する場合もあるらしい。 &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
	</entry>
</feed>
