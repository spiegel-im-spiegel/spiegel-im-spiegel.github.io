<feed xmlns="http://www.w3.org/2005/Atom" xmlns:cc="http://web.resource.org/cc/">
	<title>List of tools - text.Baldanders.info</title>
	<link rel="alternate" type="text/html" href="https://text.baldanders.info/tags/tools/" />
	<link rel="self" type="application/atom+xml" href="https://text.baldanders.info/tags/tools/index.xml" />
	<id>tag:text.Baldanders.info,2019-06-10:/tags</id>
	<updated>2019-06-10T22:59:23+09:00</updated>
	<subtitle>帰ってきた「しっぽのさきっちょ」</subtitle>
	<icon>https://text.baldanders.info/images/avatar.jpg</icon>
	<logo>https://text.baldanders.info/images/avatar.jpg</logo>

	<entry>
		<title>Ubuntu で音楽 CD のリッピング</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2019/06/ripping-cd-music-in-ubuntu/" />
		<id>tag:text.Baldanders.info,2019-06-10:/remark/2019/06/ripping-cd-music-in-ubuntu/</id>
		<published>2019-06-10T13:59:23+00:00</published>
		<updated>2019-06-10T14:03:34+00:00</updated>
		<summary>Windows のときは文字エンコーディングで苦労したからねぇ。 UNIX 系は楽でいいわ（笑）</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/spiegel/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">

&lt;p&gt;いやぁ，ひーさしぶりに音楽 CD 買ったですよ。
最近はストリーミング・サービスか MP3 で買うかだったもんねぇ。&lt;/p&gt;

&lt;p&gt;ちうわけで &lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; でリッピング・ツールを探したら &lt;a href=&#34;http://www.littlesvr.ca/asunder/&#34;&gt;Asunder&lt;/a&gt; というのがいいらしい。
インストールは APT でできる。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo apt install asunder lame&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;lame&lt;/code&gt; は MP3 エンコーディングを扱うのに必要らしい。&lt;/p&gt;

&lt;p&gt;起動したらちゃんと日本語で表示できてた。
えらいえらい！&lt;/p&gt;

&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;./asunder.png&#34;&gt;&lt;img src=&#34;./asunder.png&#34; srcset=&#34;./asunder.png 817w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/figure&gt;

&lt;p&gt;CDDB のプロキシ・サーバに &lt;a href=&#34;https://freedbtest.dyndns.org/&#34; title=&#34;freedb 日本語&#34;&gt;&lt;code&gt;freedbtest.dyndns.org:80&lt;/code&gt;&lt;/a&gt; を指定すれば日本の CD 情報もちゃんと取れるようだ。&lt;/p&gt;

&lt;p&gt;Windows のときは文字エンコーディングで苦労したからねぇ。
UNIX 系は楽でいいわ（笑）&lt;/p&gt;

&lt;h2 id=&#34;toc_0&#34;&gt;ブックマーク&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://bobbyquine.hatenablog.com/entry/2018/01/16/005131&#34;&gt;UbuntuやArch Linuxで音楽CDの取り込み Asunderの紹介!! - BobbyQuineのブログ(備忘録)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;toc_1&#34;&gt;参考図書&lt;/h2&gt;

&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a class=&#34;item url&#34; href=&#34;https://www.amazon.co.jp/%E3%82%A2%E3%83%AB%E3%83%86%E3%82%A3%E3%83%A1%E3%83%83%E3%83%88%E2%98%86MAGIC-CD-i%E2%98%86Ris/dp/B07PBB8W1X?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=B07PBB8W1X&#34;&gt;&lt;img src=&#34;https://images-fe.ssl-images-amazon.com/images/I/61fwAZoNBfL._SL160_.jpg&#34; width=&#34;160&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl class=&#34;fn&#34;&gt;
    &lt;dt&gt;&lt;a href=&#34;https://www.amazon.co.jp/%E3%82%A2%E3%83%AB%E3%83%86%E3%82%A3%E3%83%A1%E3%83%83%E3%83%88%E2%98%86MAGIC-CD-i%E2%98%86Ris/dp/B07PBB8W1X?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=B07PBB8W1X&#34;&gt;アルティメット☆MAGIC *CD&lt;/a&gt;&lt;/dt&gt;
    &lt;dd&gt;エイベックス・ピクチャーズ株式会社(Music) 2019-05-21 (Release 2019-05-22)&lt;/dd&gt;
    &lt;dd&gt;Music CD&lt;/dd&gt;
    &lt;dd&gt;ASIN: B07PBB8W1X, EAN: 4562475295115&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;4&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;far fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;アニメ「&lt;a href=&#34;http://kenja-no-mago.jp/&#34;&gt;賢者の孫&lt;/a&gt;」の OP 曲を収録。 CD 版で購入したのだが &lt;a href=&#34;https://www.amazon.co.jp/exec/obidos/ASIN/B07RMKKSG9/baldandersinf-22/&#34;&gt;MP3 版&lt;/a&gt;もあった orz 通勤時に聴くと気合が入る（笑）&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34; &gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2019-06-10&#34;&gt;2019-06-10&lt;/abbr&gt; (powered by &lt;a href=&#34;https://github.com/spiegel-im-spiegel/amazon-item&#34; &gt;amazon-item&lt;/a&gt; 0.2.1)&lt;/p&gt;
&lt;/div&gt;

&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a class=&#34;item url&#34; href=&#34;https://www.amazon.co.jp/%E9%AD%94%E6%B3%95%E3%81%AE%E5%A4%A9%E4%BD%BF-%E3%82%AF%E3%83%AA%E3%82%A3%E3%83%9F%E3%83%BC%E3%83%9E%E3%83%9F-%E5%85%AC%E5%BC%8F%E3%83%88%E3%83%AA%E3%83%93%E3%83%A5%E3%83%BC%E3%83%88%E3%83%BB%E3%82%A2%E3%83%AB%E3%83%90%E3%83%A0-Various-artists/dp/B007EEGL58?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=B007EEGL58&#34;&gt;&lt;img src=&#34;https://images-fe.ssl-images-amazon.com/images/I/51kqeF4UfiL._SL160_.jpg&#34; width=&#34;160&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl class=&#34;fn&#34;&gt;
    &lt;dt&gt;&lt;a href=&#34;https://www.amazon.co.jp/%E9%AD%94%E6%B3%95%E3%81%AE%E5%A4%A9%E4%BD%BF-%E3%82%AF%E3%83%AA%E3%82%A3%E3%83%9F%E3%83%BC%E3%83%9E%E3%83%9F-%E5%85%AC%E5%BC%8F%E3%83%88%E3%83%AA%E3%83%93%E3%83%A5%E3%83%BC%E3%83%88%E3%83%BB%E3%82%A2%E3%83%AB%E3%83%90%E3%83%A0-Various-artists/dp/B007EEGL58?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=B007EEGL58&#34;&gt;魔法の天使 クリィミーマミ 公式トリビュート・アルバム&lt;/a&gt;&lt;/dt&gt;
    &lt;dd&gt;Various artists (メインアーティスト)&lt;/dd&gt;
    &lt;dd&gt;P-VINE (Release 2012-04-01)&lt;/dd&gt;
    &lt;dd&gt;Digital Music Album MP3 ダウンロード&lt;/dd&gt;
    &lt;dd&gt;ASIN: B007EEGL58&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;5&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;往年のクリィミーマミ・ファンが泣いて喜ぶアルバム。 CD 版もあるが MP3 でも買える。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34; &gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2019-06-10&#34;&gt;2019-06-10&lt;/abbr&gt; (powered by &lt;a href=&#34;https://github.com/spiegel-im-spiegel/amazon-item&#34; &gt;amazon-item&lt;/a&gt; 0.2.1)&lt;/p&gt;
&lt;/div&gt;
</content>
	</entry><entry>
		<title>そろそろ Vuls を唱えるか</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2019/06/cast-vuls/" />
		<id>tag:text.Baldanders.info,2019-06-02:/remark/2019/06/cast-vuls/</id>
		<published>2019-06-02T13:22:06+00:00</published>
		<updated>2019-06-02T13:22:42+00:00</updated>
		<summary>セットアップ自体はうまく行ったが，このままでは使えないなぁ。しょうがない。少しずつ調べてみるか。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/spiegel/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">

&lt;p&gt;&lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; 関連の脆弱性情報は以下のサイトで収集できる。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.debian.org/security/&#34;&gt;Debian -- Security Information&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://usn.ubuntu.com/&#34;&gt;Ubuntu security notices&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;これらのサイトの脆弱性情報はとても有用なのだが，パッケージ単位の情報なのでパッケージ間の依存関係が分かってないと何がどう影響するか分かりにくい。
更に上のサイトを見ただけでは深刻度が分からない（CVE 番号から調べることは可能）。
更に更に言うと &lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; の各パッケージは古いバージョンに対してバックポートティングをかけて脆弱性を手当している場合もあり，パッケージのバージョン番号を見ただけでは分かりにくかったりする。&lt;/p&gt;

&lt;p&gt;つまり CVE や OVAL や各ディストリビューションが提供する情報を統合管理する必要があるのだが，手動でこれをやるのは骨が折れる。
今回は個人のデスクトップ PC だけだから管理も比較的楽だけど，複数のサーバ（クラウド環境も併せて）を管理するとか気が遠くなる。
つか，もはや手動で管理とかあり得ないだろう。&lt;/p&gt;

&lt;p&gt;というわけで，そろそろ &lt;a href=&#34;https://vuls.io/&#34; title=&#34;Vuls · Agentless Vulnerability Scanner for Linux/FreeBSD&#34;&gt;Vuls&lt;/a&gt; を唱えてみるか。&lt;/p&gt;

&lt;h2 id=&#34;toc_0&#34;&gt;&lt;a href=&#34;https://vuls.io/&#34; title=&#34;Vuls · Agentless Vulnerability Scanner for Linux/FreeBSD&#34;&gt;Vuls&lt;/a&gt; とは&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://vuls.io/&#34;&gt;Vuls · Agentless Vulnerability Scanner for Linux/FreeBSD&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&#34;https://vuls.io/&#34; title=&#34;Vuls · Agentless Vulnerability Scanner for Linux/FreeBSD&#34;&gt;Vuls&lt;/a&gt; は脆弱性の検知を行うツールで，ほぼ &lt;a href=&#34;https://golang.org/&#34; title=&#34;The Go Programming Language&#34;&gt;Go 言語&lt;/a&gt;で組まれているのが特徴である。
複数のサーバに対して脆弱性の有無を一括スキャンすることが可能という実にサーバ管理者に優しいつくりになっている。&lt;/p&gt;

&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://github.com/future-architect/vuls&#34;&gt;&lt;img src=&#34;./vuls-abstract.png&#34; srcset=&#34;./vuls-abstract.png 1100w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;future-architect/vuls: Agent-less vulnerability scanner for Linux/FreeBSD/WordPress/Programming language libraries/Network devices&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://github.com/future-architect/vuls&#34;&gt;future-architect/vuls: Agent-less vulnerability scanner for Linux/FreeBSD/WordPress/Programming language libraries/Network devices&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;&lt;a href=&#34;https://vuls.io/&#34; title=&#34;Vuls · Agentless Vulnerability Scanner for Linux/FreeBSD&#34;&gt;Vuls&lt;/a&gt; 本体はシングル・バイナリだが CVE や OVAL などの脆弱性情報を収集するツール群と組み合わせて使うことを前提としている。
また最近では &lt;a href=&#34;https://vuls.io/&#34; title=&#34;Vuls · Agentless Vulnerability Scanner for Linux/FreeBSD&#34;&gt;Vuls&lt;/a&gt; を含むツール群を SaaS 化した FutureVuls なる商用サービスも登場している。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://vuls.biz/&#34;&gt;FutureVuls - Vulsクラウドサービス [Vuls SaaS]&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;今回は &lt;a href=&#34;https://vuls.io/&#34; title=&#34;Vuls · Agentless Vulnerability Scanner for Linux/FreeBSD&#34;&gt;Vuls&lt;/a&gt; の基本機能でローカル PC の脆弱性管理を行ってみたいと思う。&lt;/p&gt;

&lt;h2 id=&#34;toc_1&#34;&gt;【前準備】 ディレクトリの作成&lt;/h2&gt;

&lt;p&gt;まず前準備として &lt;a href=&#34;https://vuls.io/&#34; title=&#34;Vuls · Agentless Vulnerability Scanner for Linux/FreeBSD&#34;&gt;Vuls&lt;/a&gt; を含むツール群が出力するデータベースを置くディレクトリ &lt;code&gt;~/vuls&lt;/code&gt; を作成しておく。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ mkdir ~/vuls&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;次に各ツールが吐き出すログの出力先ディレクトリを作っておく。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo mkdir /var/log/vuls
$ sudo chown username:username /var/log/vuls
$ sudo chmod 700 /var/log/vuls&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo mkdir /var/log/gost
$ sudo chown username:username /var/log/gost
$ sudo chmod 700 /var/log/gost&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo mkdir /var/log/go-exploitdb
$ sudo chown username:username /var/log/go-exploitdb
$ sudo chmod 700 /var/log/go-exploitdb&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;toc_2&#34;&gt;CVE 情報の収集&lt;/h2&gt;

&lt;p&gt;CVE 情報の収集には &lt;a href=&#34;https://github.com/kotakanbe/go-cve-dictionary&#34; title=&#34;kotakanbe/go-cve-dictionary: Build a local copy of CVE (NVD and Japanese JVN). Server mode for easy querying.&#34;&gt;go-cve-dictionary&lt;/a&gt; を使う。&lt;/p&gt;

&lt;h3 id=&#34;toc_3&#34;&gt;&lt;a href=&#34;https://github.com/kotakanbe/go-cve-dictionary&#34; title=&#34;kotakanbe/go-cve-dictionary: Build a local copy of CVE (NVD and Japanese JVN). Server mode for easy querying.&#34;&gt;go-cve-dictionary&lt;/a&gt; のセットアップ&lt;/h3&gt;

&lt;p&gt;ソースコードからのインストール方法については色々説明があるが，最近のバージョンはバイナリも提供しているようである。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/kotakanbe/go-cve-dictionary/releases&#34;&gt;Releases · kotakanbe/go-cve-dictionary · GitHub&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;これをありがたく使わせてもらおう。
いやぁ &lt;a href=&#34;https://golang.org/&#34; title=&#34;The Go Programming Language&#34;&gt;Go 言語&lt;/a&gt;のツールは取り回しが楽でいいね。&lt;/p&gt;

&lt;h3 id=&#34;toc_4&#34;&gt;&lt;a href=&#34;https://github.com/kotakanbe/go-cve-dictionary&#34; title=&#34;kotakanbe/go-cve-dictionary: Build a local copy of CVE (NVD and Japanese JVN). Server mode for easy querying.&#34;&gt;go-cve-dictionary&lt;/a&gt; による CVE 情報の収集&lt;/h3&gt;

&lt;p&gt;たとえば2002年以降の CVE 情報を収集し SQLite のデータベースファイル &lt;code&gt;~/vuls/cve.sqlite3&lt;/code&gt; へ格納するには以下の一行スクリプトを実行する。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ for i in `seq 2002 $(date +&amp;#34;%Y&amp;#34;)`; do go-cve-dictionary fetchnvd -dbpath ~/vuls/cve.sqlite3 -years $i; done&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ものごっつ時間がかかるので，ここらでお茶の時間にしよう。&lt;/p&gt;

&lt;h2 id=&#34;toc_5&#34;&gt;OVAL 情報の収集&lt;/h2&gt;

&lt;p&gt;OVAL 情報の収集には &lt;a href=&#34;https://github.com/kotakanbe/goval-dictionary&#34; title=&#34;kotakanbe/goval-dictionary: Build a local copy of OVAL. Server mode for easy querying.&#34;&gt;goval-dictionary&lt;/a&gt; を使う。&lt;/p&gt;

&lt;h3 id=&#34;toc_6&#34;&gt;&lt;a href=&#34;https://github.com/kotakanbe/goval-dictionary&#34; title=&#34;kotakanbe/goval-dictionary: Build a local copy of OVAL. Server mode for easy querying.&#34;&gt;goval-dictionary&lt;/a&gt; のセットアップ&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/kotakanbe/goval-dictionary&#34; title=&#34;kotakanbe/goval-dictionary: Build a local copy of OVAL. Server mode for easy querying.&#34;&gt;goval-dictionary&lt;/a&gt; もバイナリがリリースされているのだが，バイナリ・リリースされているバージョンでは &lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; 19 に対応していないようなので，最新ソースを取ってきてビルドする必要がある。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ cd $GOPATH/src/github.com/kotakanbe
$ git clone https://github.com/kotakanbe/goval-dictionary.git
$ cd gost/
$ make install&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;実行モジュールは &lt;code&gt;$GOPATH/bin&lt;/code&gt; ディレクトリにインストールされる。&lt;/p&gt;

&lt;h3 id=&#34;toc_7&#34;&gt;&lt;a href=&#34;https://github.com/kotakanbe/goval-dictionary&#34; title=&#34;kotakanbe/goval-dictionary: Build a local copy of OVAL. Server mode for easy querying.&#34;&gt;goval-dictionary&lt;/a&gt; による OVAL 情報の収集&lt;/h3&gt;

&lt;p&gt;ディストリビューションおよびそのバージョンごとに  OVAL 情報を収集する。
たとえば &lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; なら&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ goval-dictionary fetch-ubuntu -dbpath ~/vuls/oval.sqlite3 12 14 16 18 19&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;などとする。
他にも &lt;code&gt;fetch-alpine&lt;/code&gt;, &lt;code&gt;fetch-amazon&lt;/code&gt;, &lt;code&gt;fetch-debian&lt;/code&gt;, &lt;code&gt;fetch-oracle&lt;/code&gt;, &lt;code&gt;fetch-redhat&lt;/code&gt;, &lt;code&gt;fetch-suse&lt;/code&gt; といったディストリビューションに対応している。&lt;/p&gt;

&lt;h2 id=&#34;toc_8&#34;&gt;ディストリビューション別セキュリティ情報の収集&lt;/h2&gt;

&lt;p&gt;ディストリビューション毎のセキュリティ情報の収集には &lt;a href=&#34;https://github.com/knqyf263/gost&#34; title=&#34;knqyf263/gost: Build a local copy of Security Tracker. Notify via E-mail/Slack if there is an update.&#34;&gt;gost (go-security-tracker)&lt;/a&gt; を使う。&lt;/p&gt;

&lt;h3 id=&#34;toc_9&#34;&gt;&lt;a href=&#34;https://github.com/knqyf263/gost&#34; title=&#34;knqyf263/gost: Build a local copy of Security Tracker. Notify via E-mail/Slack if there is an update.&#34;&gt;gost&lt;/a&gt; のセットアップ&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/knqyf263/gost&#34; title=&#34;knqyf263/gost: Build a local copy of Security Tracker. Notify via E-mail/Slack if there is an update.&#34;&gt;gost&lt;/a&gt; はソースコードのみのリリースなのでビルドを行う。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ cd $GOPATH/src/github.com/knqyf263
$ git clone https://github.com/knqyf263/gost.git
$ cd gost/
$ make install&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;実行モジュールは &lt;code&gt;GOPATH/bin&lt;/code&gt; ディレクトリにインストールされる。&lt;/p&gt;

&lt;h3 id=&#34;toc_10&#34;&gt;&lt;a href=&#34;https://github.com/knqyf263/gost&#34; title=&#34;knqyf263/gost: Build a local copy of Security Tracker. Notify via E-mail/Slack if there is an update.&#34;&gt;gost&lt;/a&gt; によるセキュリティ情報の収集&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/knqyf263/gost&#34; title=&#34;knqyf263/gost: Build a local copy of Security Tracker. Notify via E-mail/Slack if there is an update.&#34;&gt;gost&lt;/a&gt; では &lt;code&gt;redhat&lt;/code&gt;, &lt;code&gt;debian&lt;/code&gt;, &lt;code&gt;microsoft&lt;/code&gt; のセキュリティ情報の収集を行う。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ gost fetch debian --dbpath ~/vuls/gost.sqlite3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; のセキュリティ情報収集については TODO 扱いになっているようだ。
今後に期待しよう。&lt;/p&gt;

&lt;h2 id=&#34;toc_11&#34;&gt;Exploit 情報の収集&lt;/h2&gt;

&lt;p&gt;Exploit 情報の収集には &lt;a href=&#34;https://github.com/mozqnet/go-exploitdb&#34; title=&#34;mozqnet/go-exploitdb&#34;&gt;go-exploitdb&lt;/a&gt; を使う。&lt;/p&gt;

&lt;h3 id=&#34;toc_12&#34;&gt;&lt;a href=&#34;https://github.com/mozqnet/go-exploitdb&#34; title=&#34;mozqnet/go-exploitdb&#34;&gt;go-exploitdb&lt;/a&gt; のセットアップ&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/mozqnet/go-exploitdb&#34; title=&#34;mozqnet/go-exploitdb&#34;&gt;go-exploitdb&lt;/a&gt; はソースコードのみのリリースなのでビルドを行う。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ cd $GOPATH/src/github.com/mozqnet
$ git clone https://github.com/mozqnet/go-exploitdb.git
$ cd go-exploitdb/
$ make install&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;実行モジュールは &lt;code&gt;GOPATH/bin&lt;/code&gt; ディレクトリにインストールされる。&lt;/p&gt;

&lt;h3 id=&#34;toc_13&#34;&gt;&lt;a href=&#34;https://github.com/mozqnet/go-exploitdb&#34; title=&#34;mozqnet/go-exploitdb&#34;&gt;go-exploitdb&lt;/a&gt; によるセキュリティ情報の収集&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/mozqnet/go-exploitdb&#34; title=&#34;mozqnet/go-exploitdb&#34;&gt;go-exploitdb&lt;/a&gt; では &lt;code&gt;awesomepoc&lt;/code&gt;, &lt;code&gt;exploitdb&lt;/code&gt;, &lt;code&gt;githubrepos&lt;/code&gt; を対象に Exploit 情報の収集を行う。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ go-exploitdb fetch exploitdb --dbpath ~/vuls/go-exploitdb.sqlite3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;toc_14&#34;&gt;&lt;a href=&#34;https://vuls.io/&#34; title=&#34;Vuls · Agentless Vulnerability Scanner for Linux/FreeBSD&#34;&gt;Vuls&lt;/a&gt; でローカル PC をスキャンする&lt;/h2&gt;

&lt;p&gt;さて，いよいよ &lt;a href=&#34;https://vuls.io/&#34; title=&#34;Vuls · Agentless Vulnerability Scanner for Linux/FreeBSD&#34;&gt;Vuls&lt;/a&gt; を唱えるときが来た（笑）&lt;/p&gt;

&lt;h3 id=&#34;toc_15&#34;&gt;&lt;a href=&#34;https://vuls.io/&#34; title=&#34;Vuls · Agentless Vulnerability Scanner for Linux/FreeBSD&#34;&gt;Vuls&lt;/a&gt; のセットアップ&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://vuls.io/&#34; title=&#34;Vuls · Agentless Vulnerability Scanner for Linux/FreeBSD&#34;&gt;Vuls&lt;/a&gt; はバイナリがリリースされている。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/future-architect/vuls/releases&#34;&gt;Releases · future-architect/vuls&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ありがたや。&lt;/p&gt;

&lt;p&gt;次にスキャン対象のマシンへのアクセスを定義する &lt;code&gt;~/vuls/config.toml&lt;/code&gt; 設定ファイルを作成する。
今回はローカル PC のみのスキャンなので以下のような記述にする。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-toml&#34; data-lang=&#34;toml&#34;&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;servers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;

&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;servers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;localhost&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;host&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;localhost&amp;#34;&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;port&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;local&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;スキャン対象は複数指定可能で，たとえば対象に ssh 接続する場合は以下のような内容になるようだ。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-toml&#34; data-lang=&#34;toml&#34;&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;servers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;remotehost&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;host&lt;/span&gt;         &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;remotehost&amp;#34;&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;port&lt;/span&gt;        &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;22&amp;#34;&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;user&lt;/span&gt;        &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;username&amp;#34;&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;keyPath&lt;/span&gt;     &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;/home/username/.ssh/id_rsa&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;設定が正しいかどうかチェックしておこう。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ cd ~/vuls
$ vuls configtest
[Jun  2 18:07:05]  INFO [localhost] Validating config...
[Jun  2 18:07:05]  INFO [localhost] Detecting Server/Container OS... 
[Jun  2 18:07:05]  INFO [localhost] Detecting OS of servers... 
[Jun  2 18:07:05]  INFO [localhost] (1/1) Detected: localhost: ubuntu 19.04
[Jun  2 18:07:05]  INFO [localhost] Detecting OS of containers... 
[Jun  2 18:07:05]  INFO [localhost] Checking Scan Modes...
[Jun  2 18:07:05]  INFO [localhost] Checking dependencies...
[Jun  2 18:07:05]  INFO [localhost] Dependencies... Pass
[Jun  2 18:07:05]  INFO [localhost] Checking sudo settings...
[Jun  2 18:07:05]  INFO [localhost] sudo ... No need
[Jun  2 18:07:05]  INFO [localhost] It can be scanned with fast scan mode even if warn or err messages are displayed due to lack of dependent packages or sudo settings in fast-root or deep scan mode
[Jun  2 18:07:05]  INFO [localhost] Scannable servers are below...
localhost &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;んー，エラーにはなっていないみたいだし，こんな感じでいいのかな。&lt;/p&gt;

&lt;h3 id=&#34;toc_16&#34;&gt;&lt;a href=&#34;https://vuls.io/&#34; title=&#34;Vuls · Agentless Vulnerability Scanner for Linux/FreeBSD&#34;&gt;Vuls&lt;/a&gt; でローカル PC をスキャンする&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;configtest&lt;/code&gt; も問題なさそうだし，実際にスキャンをかけてみよう。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ cd ~/vuls
$ vuls scan
[Jun  2 20:24:26]  INFO [localhost] Start scanning
[Jun  2 20:24:26]  INFO [localhost] config: /home/username/vuls/config.toml
[Jun  2 20:24:26]  INFO [localhost] Validating config...
[Jun  2 20:24:26]  INFO [localhost] Detecting Server/Container OS... 
[Jun  2 20:24:26]  INFO [localhost] Detecting OS of servers... 
[Jun  2 20:24:26]  INFO [localhost] (1/1) Detected: localhost: ubuntu 19.04
[Jun  2 20:24:26]  INFO [localhost] Detecting OS of containers... 
[Jun  2 20:24:26]  INFO [localhost] Checking Scan Modes... 
[Jun  2 20:24:26]  INFO [localhost] Detecting Platforms... 
[Jun  2 20:24:27]  INFO [localhost] (1/1) localhost is running on other
[Jun  2 20:24:27]  INFO [localhost] Scanning vulnerabilities... 
[Jun  2 20:24:27]  INFO [localhost] Scanning vulnerable OS packages...
[Jun  2 20:24:27]  INFO [localhost] Scanning in fast mode


One Line Summary
================
localhost	ubuntu19.04	2173 installed




To view the detail, vuls tui is useful.
To send a report, run vuls report -h.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;よしよし。
うまく行ったようである。&lt;/p&gt;

&lt;p&gt;スキャン結果を簡易表示してみよう。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ cd ~/vuls
$ vuls report -format-one-line-text
[Jun  2 20:30:18]  INFO [localhost] Validating config...
[Jun  2 20:30:18]  INFO [localhost] Loaded: /home/username/vuls/results/2019-06-02T20:30:15+09:00
[Jun  2 20:30:18]  INFO [localhost] Validating db config...
INFO[0000] -cvedb-type: sqlite3, -cvedb-url: , -cvedb-path: /home/username/vuls/cve.sqlite3 
INFO[0000] -ovaldb-type: sqlite3, -ovaldb-url: , -ovaldb-path: /home/username/vuls/oval.sqlite3 
INFO[0000] -gostdb-type: sqlite3, -gostdb-url: , -gostdb-path: /home/username/vuls/gost.sqlite3 
INFO[0000] -exploitdb-type: sqlite3, -exploitdb-url: , -exploitdb-path: /home/username/vuls/go-exploitdb.sqlite3 
INFO[06-02|20:30:18] Opening DB.                              db=sqlite3
INFO[06-02|20:30:18] Migrating DB.                            db=sqlite3
INFO[06-02|20:30:18] Opening Database.                        db=sqlite3
INFO[06-02|20:30:18] Migrating DB.                            db=sqlite3
[Jun  2 20:30:18]  INFO [localhost] OVAL is fresh: ubuntu 19.04 
[Jun  2 20:30:26]  INFO [localhost] localhost: 220 CVEs are detected with OVAL
[Jun  2 20:30:26]  INFO [localhost] localhost: 0 CVEs are detected with CPE
[Jun  2 20:30:26]  INFO [localhost] localhost: 0 CVEs are detected with GitHub Security Alerts
[Jun  2 20:30:26]  INFO [localhost] localhost: 0 unfixed CVEs are detected with gost
[Jun  2 20:30:26]  INFO [localhost] Fill CVE detailed information with CVE-DB
[Jun  2 20:30:27]  INFO [localhost] Fill exploit information with Exploit-DB
[Jun  2 20:30:27]  INFO [localhost] localhost: 13 exploits are detected
[Jun  2 20:30:27]  INFO [localhost] localhost: en: 0, ja: 0 alerts are detected


One Line Summary
================
localhost	Total: 220 (High:26 Medium:172 Low:22 ?:0)	0/220 Fixed	2173 installed	13 exploits	en: 0, ja: 0 alerts&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ありゃりゃ。
最新状態にしているにも関わらず220もひっかかるとか。&lt;/p&gt;

&lt;p&gt;もう少し詳細に見るには TUI モードにするとよい&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:tui&#34;&gt;&lt;a href=&#34;#fn:tui&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ cd ~/vuls
$ vuls tui&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;./vuls-tui.png&#34;&gt;&lt;img src=&#34;./vuls-tui.png&#34; srcset=&#34;./vuls-tui.png 1272w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/figure&gt;

&lt;p&gt;うーむ。
どうも &lt;code&gt;report&lt;/code&gt; がまともに機能してないっぽい？ これってやっぱ &lt;a href=&#34;https://github.com/knqyf263/gost&#34; title=&#34;knqyf263/gost: Build a local copy of Security Tracker. Notify via E-mail/Slack if there is an update.&#34;&gt;gost&lt;/a&gt; が &lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; に対応してないせいなのかな（状態のほぼ全てが &lt;code&gt;unfixed&lt;/code&gt; になっている）。&lt;/p&gt;

&lt;p&gt;このままではちょっと使えないなぁ。
しょうがない。
少しずつ調べてみるか。&lt;/p&gt;

&lt;p&gt;今回はここまで。&lt;/p&gt;

&lt;h2 id=&#34;toc_17&#34;&gt;ブックマーク&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://qiita.com/sadayuki-matsuno/items/0bb8bb1689425bb9a21c&#34;&gt;あなたのサーバは本当に安全ですか？今もっともイケてる脆弱性検知ツールVulsを使ってみた - Qiita&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://qiita.com/advent-calendar/2018/futurevuls&#34;&gt;FutureVuls(脆弱性管理サービス) Advent Calendar 2018 - Qiita&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://vuls.io/docs/ja/tutorial-local-scan.html&#34;&gt;Tutorial - Local Scan Mode · Vuls&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;footnotes&#34;&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li id=&#34;fn:tui&#34;&gt;TUI モードを終了するには &lt;code&gt;ctrl+c&lt;/code&gt; を入力すれば良い。
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:tui&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</content>
	</entry><entry>
		<title>メール・サービスを立てずにコマンドラインでメールを送信する</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2019/06/send-mail-without-mail-service/" />
		<id>tag:text.Baldanders.info,2019-06-01:/remark/2019/06/send-mail-without-mail-service/</id>
		<published>2019-06-01T14:45:58+00:00</published>
		<updated>2019-06-02T01:15:17+00:00</updated>
		<summary>調べてみたら msmtp なるツールが良さげである。今回は msmtp を構成してメールを送信してみる。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/spiegel/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">

&lt;p&gt;cron で回したプロセスの実行結果をメールで送信することを考える。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; はインストール直後の既定状態ではメール・サービスは入ってない。
したがって cron の実行結果（標準出力等に吐き出されるもの）は何処にも通知されない。
これはこれで合理的な設計なのだが（cron の実行結果でメールボックスが溢れたりすることもないし），やはり結果をメールで通知したいこともある。
かといって，そのためにわざわざデスクトップ・パソコンにメール・サービスを入れるのはナンセンスであろう。&lt;/p&gt;

&lt;p&gt;自前でメール・サービスを立てずに外部のメール・サーバにメールを流す送信専用の簡易 MUA があれば便利である。
そこで調べてみたら &lt;a href=&#34;https://marlam.de/msmtp/&#34;&gt;msmtp&lt;/a&gt; なるツールが良さげである&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:ssmtp1&#34;&gt;&lt;a href=&#34;#fn:ssmtp1&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;。
今回は &lt;a href=&#34;https://marlam.de/msmtp/&#34;&gt;msmtp&lt;/a&gt; を構成してコマンドラインでメールを送信するところまでやってみよう。&lt;/p&gt;

&lt;h2 id=&#34;toc_0&#34;&gt;&lt;a href=&#34;https://marlam.de/msmtp/&#34;&gt;msmtp&lt;/a&gt; のインストール&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://marlam.de/msmtp/&#34;&gt;msmtp&lt;/a&gt; は APT で導入可能である。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ apt show msmtp
Package: msmtp
Version: 1.8.3-1
Priority: extra
Section: universe/mail
Origin: Ubuntu
Maintainer: Ubuntu Developers &amp;lt;ubuntu-devel-discuss@lists.ubuntu.com&amp;gt;
Original-Maintainer: Emmanuel Bouthenot &amp;lt;kolter@debian.org&amp;gt;
...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;なので早速インストールする。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo apt install msmtp msmtp-mta&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;msmtp-mta&lt;/code&gt; パッケージは cron から &lt;a href=&#34;https://marlam.de/msmtp/&#34;&gt;msmtp&lt;/a&gt; を利用するのに必要なので併せてインストールしておく。
一応，動作確認しておこう。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ msmtp --version
msmtp version 1.8.3
Platform: x86_64-pc-linux-gnu
TLS/SSL library: GnuTLS
Authentication library: GNU SASL
Supported authentication methods:
plain scram-sha-1 external gssapi cram-md5 digest-md5 login ntlm 
IDN support: enabled
NLS: enabled, LOCALEDIR is /usr/share/locale
Keyring support: none
System configuration file name: /etc/msmtprc
User configuration file name: /home/username/.msmtprc

Copyright (C) 2019 Martin Lambers and others.
This is free software.  You may redistribute copies of it under the terms of
the GNU General Public License &amp;lt;http://www.gnu.org/licenses/gpl.html&amp;gt;.
There is NO WARRANTY, to the extent permitted by law.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;よしよし。&lt;/p&gt;

&lt;h2 id=&#34;toc_1&#34;&gt;&lt;a href=&#34;https://marlam.de/msmtp/&#34;&gt;msmtp&lt;/a&gt; の設定&lt;/h2&gt;

&lt;p&gt;まずは &lt;code&gt;~/.msmtprc&lt;/code&gt; ファイルを作成して外部のメール・サーバを定義する&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:cfg1&#34;&gt;&lt;a href=&#34;#fn:cfg1&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;。
&lt;code&gt;~/.msmtprc&lt;/code&gt; の雛形ファイルは以下にあるので参考になるだろう。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/usr/share/doc/msmtp/examples/msmtprc-user.example&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;このファイルを元にして Gmail のメール・サーバにアクセスする設定を記述してみる。
こんな感じ&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:passwd1&#34;&gt;&lt;a href=&#34;#fn:passwd1&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;# Set default values for all following accounts.
defaults

# Use the mail submission port 587 instead of the SMTP port 25.
port 587

# Always use TLS.
tls on

# Gmail service
account gmail

# Host name of the SMTP server
host smtp.gmail.com

# Envelope-from address
from username@gmail.com

# Authentication. The password is given using one of five methods, see below.
auth on
user username@gmail.com

# Password method 2: Store the password in an encrypted file, and tell msmtp
# which command to use to decrypt it. This is usually used with GnuPG, as in
# this example. Usually gpg-agent will ask once for the decryption password.
#passwordeval gpg2 --no-tty -q -d ~/.msmtp-password.gpg

# Password method 3: Store the password directly in this file. Usually it is not
# a good idea to store passwords in plain text files. If you do it anyway, at
# least make sure that this file can only be read by yourself.
password password_string

# Set a default account
account default : gmail&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;~/.msmtprc&lt;/code&gt; ファイルの権限を変更するのも忘れずに。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ chmod 0600 ~/.msmtprc&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;これで準備 OK。
試しにコマンドラインでメールを送信してみよう。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ echo &amp;#34;hello there.&amp;#34; | msmtp -a gmail username@gmail.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;これで &lt;code&gt;username@gmail.com&lt;/code&gt; 宛に “hello there.” という内容でメールが届けば成功である。
ちなみに &lt;code&gt;-a&lt;/code&gt; オプションは省略できる。
この場合 &lt;code&gt;account default&lt;/code&gt; で指定されたアカウント情報で送信される。&lt;/p&gt;

&lt;h2 id=&#34;toc_2&#34;&gt;cron との連携&lt;/h2&gt;

&lt;p&gt;では cron との連携を試してみよう。
cron の設定方法については割愛する。
ググればいくらでも出てくるし。&lt;/p&gt;

&lt;p&gt;まずはパソコンのユーザ・アカウントとメールアドレスを連携させるために &lt;code&gt;/etc/aliases&lt;/code&gt; ファイルを作成する（これがないと &lt;code&gt;username@hostname&lt;/code&gt; 宛にメールを送ろうとする）。
内容はこんな感じ。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;username: username@gmail.com
root: username@gmail.com
default: username@gmail.com&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;さらに &lt;code&gt;~/.msmtprc&lt;/code&gt; ファイルに以下の記述を追加する。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;# aliases file
aliases /etc/aliases&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;これで &lt;a href=&#34;https://marlam.de/msmtp/&#34;&gt;msmtp&lt;/a&gt; 側の準備は完了。&lt;/p&gt;

&lt;p&gt;テスト用のプロセスを crontab で定義する。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ crontab -e
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;内容は例えばこんな感じ。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;*/5 * * * * MAILTO=username ls&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;これで &lt;code&gt;username&lt;/code&gt; のメールアドレス宛に5分おきに &lt;code&gt;ls&lt;/code&gt; コマンドの実行結果をメール送信する。
かなりウザいので動作確認できたらソッコーで削除しないと（笑）&lt;/p&gt;

&lt;p&gt;うまくいかない場合は &lt;code&gt;/var/log/syslog&lt;/code&gt; を見てみるとヒントになるかもしれない。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ cat /var/log/syslog | grep sendmail&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;toc_3&#34;&gt;パスワード情報の暗号化&lt;/h2&gt;

&lt;p&gt;外部メール・サーバへの送信で認証を行う場合は &lt;code&gt;~/.msmtprc&lt;/code&gt; ファイルに認証用のパスワードを設定する必要があるが，平文で保存されるため，いかにも不用心である。
そこでパスワード情報を暗号化することを考える。&lt;/p&gt;

&lt;p&gt;具体的には &lt;code&gt;~/.msmtprc&lt;/code&gt; ファイルの &lt;code&gt;password&lt;/code&gt; 項目を以下の記述で置き換える。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;passwordeval gpg --no-tty -q -d ~/.msmtp-password.gpg&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;~/.msmtp-password.gpg&lt;/code&gt; が暗号化されたパスワード情報を格納するファイルで &lt;a href=&#34;https://gnupg.org/&#34; title=&#34;The GNU Privacy Guard&#34;&gt;GnuPG&lt;/a&gt; で暗号化されている。
&lt;code&gt;~/.msmtp-password.gpg&lt;/code&gt; ファイルを作成するには以下のコマンドラインを実行する。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;gpg --encrypt -o ~/.msmtp-gmail.gpg -r username@gmail.com -&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;最後のハイフン（&lt;code&gt;-&lt;/code&gt;）を忘れずに。
これで標準入力からパスワードを入力し改行コードを入力した後 &lt;code&gt;ctrl-d&lt;/code&gt; で処理を抜ければ完了である&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:pw1&#34;&gt;&lt;a href=&#34;#fn:pw1&#34;&gt;4&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;

&lt;p&gt;メール送信時には復号のために &lt;a href=&#34;https://gnupg.org/&#34; title=&#34;The GNU Privacy Guard&#34;&gt;GnuPG&lt;/a&gt; がパスフレーズを要求するのでご注意を&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:gpg1&#34;&gt;&lt;a href=&#34;#fn:gpg1&#34;&gt;5&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;

&lt;h2 id=&#34;toc_4&#34;&gt;ブックマーク&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://wiki.debian.org/msmtp&#34;&gt;msmtp - Debian Wiki&lt;/a&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://wiki.archlinux.jp/index.php/Msmtp&#34;&gt;msmtp - ArchWiki&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://qiita.com/iganari/items/5a61ec93d989f7c77a2c&#34;&gt;各ユーザのcrontabファイルの場所について - Qiita&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://qiita.com/tossh/items/e135bd063a50087c3d6a&#34;&gt;初心者向けcronの使い方 - Qiita&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;http://bakunyo.hatenablog.com/entry/2013/06/20/crontab%E4%BD%BF%E3%81%84%E6%96%B9%E3%81%BE%E3%81%A8%E3%82%81%E3%80%82&#34;&gt;crontab使い方まとめ。 - ばくのエンジニア日誌&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://qiita.com/UNILORN/items/a1a3f62409cdb4256219&#34;&gt;Cronの使い方とテクニックと詰まったところ - Qiita&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;footnotes&#34;&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li id=&#34;fn:ssmtp1&#34;&gt;ググってみると &lt;a href=&#34;https://wiki.debian.org/sSMTP&#34; title=&#34;sSMTP - Debian Wiki&#34;&gt;sSMTP&lt;/a&gt; に関する記事が頻出したが，残念なことに &lt;a href=&#34;https://wiki.debian.org/sSMTP&#34; title=&#34;sSMTP - Debian Wiki&#34;&gt;sSMTP&lt;/a&gt; はもはやメンテナンスされていないようである。
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:ssmtp1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:cfg1&#34;&gt;マシン全体で設定する場合は &lt;code&gt;/etc/msmtprc&lt;/code&gt; ファイルに設定を記述する。
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:cfg1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:passwd1&#34;&gt;&lt;code&gt;password&lt;/code&gt; の項目にはパスワードを記述するが， Google サインイン用のパスワードではなく「アプリ・パスワード」をセットする（Googleへのサインインに2要素認証を使っていることが前提）。アプリ・パスワードは「&lt;a href=&#34;https://myaccount.google.com/&#34;&gt;Google アカウント&lt;/a&gt;」のページで設定できる。アプリやプラットフォームごとに異なるアプリ・パスワードを設定するのがコツである。
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:passwd1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:pw1&#34;&gt;もちろんパイプを使ってパスワードを入力することも可能だが，コマンドラインに履歴が残ってしまうので絶対にやらないこと。
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:pw1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:gpg1&#34;&gt;&lt;a href=&#34;https://gnupg.org/&#34; title=&#34;The GNU Privacy Guard&#34;&gt;GnuPG&lt;/a&gt; の鍵を作成する際にパスフレーズの入力を省略すれば復号処理を自動化できるが秘密鍵の中身が丸見えになってしまうので取り扱いには注意が必要である。パスワード暗号化用の専用鍵を作って運用するのが無難だろう。
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:gpg1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</content>
	</entry><entry>
		<title>GnuPG 2.2.16 がリリースされた</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/release/2019/05/gnupg-2_2_16-is-released/" />
		<id>tag:text.Baldanders.info,2019-05-29:/release/2019/05/gnupg-2_2_16-is-released/</id>
		<published>2019-05-29T10:11:01+00:00</published>
		<updated>2019-05-29T10:12:29+00:00</updated>
		<summary>今回もセキュリティ・アップデートはなし。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/spiegel/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">

&lt;p&gt;&lt;a href=&#34;https://gnupg.org/&#34; title=&#34;The GNU Privacy Guard&#34;&gt;GnuPG&lt;/a&gt; 2.2.16 がリリースされた。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://lists.gnupg.org/pipermail/gnupg-announce/2019q2/000438.html&#34;&gt;[Announce] GnuPG 2.2.16 released&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;今回もセキュリティ・アップデートはなし。
主な機能追加・修正点は以下の通り。&lt;/p&gt;

&lt;figure lang=&#34;en&#34;&gt;
&lt;blockquote&gt;&lt;ul&gt;
&lt;li&gt;gpg,gpgsm: Fix deadlock on Windows due to a keybox sharing violation.  [#4505]&lt;/li&gt;
&lt;li&gt;gpg: Allow deletion of subkeys with &lt;code&gt;--delete-key&lt;/code&gt;.  This finally makes the bang-suffix work as expected for that command.  [#4457]&lt;/li&gt;
&lt;li&gt;gpg: Replace SHA-1 by SHA-256 in self-signatures when updating them with &lt;code&gt;--quick-set-expire&lt;/code&gt; or &lt;code&gt;--quick-set-primary-uid&lt;/code&gt;. [#4508]&lt;/li&gt;
&lt;li&gt;gpg: Improve the photo image viewer selection.  [#4334]&lt;/li&gt;
&lt;li&gt;gpg: Fix decryption with &lt;code&gt;--use-embedded-filename&lt;/code&gt;.  [#4500]&lt;/li&gt;
&lt;li&gt;gpg: Remove hints on using the &lt;code&gt;--keyserver&lt;/code&gt; option.  [#4512]&lt;/li&gt;
&lt;li&gt;gpg: Fix export of certain secret keys with comments.  [#4490]&lt;/li&gt;
&lt;li&gt;gpg: Reject too long user-ids in &lt;code&gt;--quick-gen-key&lt;/code&gt;.  [#4532]&lt;/li&gt;
&lt;li&gt;gpg: Fix a double free in the best key selection code.  [#4462]&lt;/li&gt;
&lt;li&gt;gpg: Fix the key generation dialog for switching back from EdDSA to ECDSA.&lt;/li&gt;
&lt;li&gt;gpg: Use AES-192 with SHA-384 to comply with RFC-6637.&lt;/li&gt;
&lt;li&gt;gpg: Use only the addrspec from the Signer&#39;s UID subpacket to mitigate a problem with another implementation.&lt;/li&gt;
&lt;li&gt;gpg: Skip invalid packets during a keyring listing and sync diagnostics with the output.&lt;/li&gt;
&lt;li&gt;gpgsm: Avoid confusing diagnostic when signing with the default key.  [#4535]&lt;/li&gt;
&lt;li&gt;agent: Do not delete any secret key in &lt;code&gt;--dry-run mode&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;agent: Fix failures on 64 bit big-endian boxes related to URIs in a keyfile.  [#4501]&lt;/li&gt;
&lt;li&gt;agent: Stop scdaemon after a reload with disable-scdaemon newly configured.  [#4326]&lt;/li&gt;
&lt;li&gt;dirmngr: Improve caching algorithm for WKD domains.&lt;/li&gt;
&lt;li&gt;dirmngr: Support other hash algorithms than SHA-1 for OCSP.  [#3966]&lt;/li&gt;
&lt;li&gt;gpgconf: Make &lt;code&gt;--homedir&lt;/code&gt; work for &lt;code&gt;--launch&lt;/code&gt;.  [#4496]&lt;/li&gt;
&lt;li&gt;gpgconf: Before &lt;code&gt;--launch&lt;/code&gt; check for a valid config file.  [#4497]&lt;/li&gt;
&lt;li&gt;wkd: Do not import more than 5 keys from one WKD address.&lt;/li&gt;
&lt;li&gt;wkd: Accept keys which are stored in armored format in the directory.&lt;/li&gt;
&lt;li&gt;The installer for Windows now comes with signed binaries.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Release-info: &lt;a href=&#34;https://dev.gnupg.org/T4509&#34;&gt;https://dev.gnupg.org/T4509&lt;/a&gt;&lt;/blockquote&gt;
&lt;figcaption&gt;via &lt;q&gt;&lt;a href=&#34;https://lists.gnupg.org/pipermail/gnupg-announce/2019q2/000438.html&#34;&gt;GnuPG 2.2.16 released&lt;/a&gt;&lt;/q&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;着々と SHA-1 からの置き換えが進んでる感じだねぇ。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; で最新版バイナリを入手する方法を考えないと。
やっぱ自前でビルドするしかないのかなぁ。&lt;/p&gt;

&lt;p&gt;アップデートは計画的に。&lt;/p&gt;

&lt;h2 id=&#34;toc_0&#34;&gt;ブックマーク&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/openpgp/&#34;&gt;OpenPGP の実装&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;toc_1&#34;&gt;参考図書&lt;/h2&gt;

&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a class=&#34;item url&#34; href=&#34;https://www.amazon.co.jp/%E6%9A%97%E5%8F%B7%E6%8A%80%E8%A1%93%E5%85%A5%E9%96%80-%E7%AC%AC3%E7%89%88-%E7%A7%98%E5%AF%86%E3%81%AE%E5%9B%BD%E3%81%AE%E3%82%A2%E3%83%AA%E3%82%B9-%E7%B5%90%E5%9F%8E-%E6%B5%A9-ebook/dp/B015643CPE?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=B015643CPE&#34;&gt;&lt;img src=&#34;https://images-fe.ssl-images-amazon.com/images/I/51t6yHHVwEL._SL160_.jpg&#34; width=&#34;113&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl class=&#34;fn&#34;&gt;
    &lt;dt&gt;&lt;a href=&#34;https://www.amazon.co.jp/%E6%9A%97%E5%8F%B7%E6%8A%80%E8%A1%93%E5%85%A5%E9%96%80-%E7%AC%AC3%E7%89%88-%E7%A7%98%E5%AF%86%E3%81%AE%E5%9B%BD%E3%81%AE%E3%82%A2%E3%83%AA%E3%82%B9-%E7%B5%90%E5%9F%8E-%E6%B5%A9-ebook/dp/B015643CPE?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=B015643CPE&#34;&gt;暗号技術入門 第3版　秘密の国のアリス&lt;/a&gt;&lt;/dt&gt;
    &lt;dd&gt;結城 浩&lt;/dd&gt;
    &lt;dd&gt;SBクリエイティブ 2015-08-25 (Release 2015-09-17)&lt;/dd&gt;
    &lt;dd&gt;eBooks Kindle版&lt;/dd&gt;
    &lt;dd&gt;ASIN: B015643CPE&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;5&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;SHA-3 や Bitcoin/Blockchain など新しい知見や技術要素を大幅追加。暗号技術を使うだけならこれ1冊でとりあえず無問題。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34; &gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2015-09-20&#34;&gt;2015-09-20&lt;/abbr&gt; (powered by &lt;a href=&#34;https://github.com/spiegel-im-spiegel/amazon-item&#34; &gt;amazon-item&lt;/a&gt; v0.2.0)&lt;/p&gt;
&lt;/div&gt;
</content>
	</entry><entry>
		<title>Ubuntu でも Kindle 本が読みたい</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2019/05/kindle-for-wine/" />
		<id>tag:text.Baldanders.info,2019-05-28:/remark/2019/05/kindle-for-wine/</id>
		<published>2019-05-28T12:41:58+00:00</published>
		<updated>2019-05-28T12:53:31+00:00</updated>
		<summary>Linux プラットフォームで動くネイティブな Kindle アプリケーションはないようで Wine 上で Windows 用の Kindle for PC を起動するしかないようだ。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/spiegel/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">

&lt;p&gt;まぁマンガやラノベを読む程度なら Kindle 端末でも十分だし一部のマンガ等は &lt;a href=&#34;https://read.amazon.co.jp/&#34;&gt;Kindle Cloud Reader&lt;/a&gt; を利用する手もあるのだが，やはり &lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; のデスクトップ上でも読みたいのである。&lt;/p&gt;

&lt;p&gt;ただ Linux プラットフォームで動くネイティブな Kindle アプリケーションはないようで，今のところ &lt;a href=&#34;https://www.winehq.org/&#34; title=&#34;WineHQ - Run Windows applications on Linux, BSD, Solaris and macOS&#34;&gt;Wine&lt;/a&gt; 上で Windows 用の Kindle for PC を起動するしかない。&lt;/p&gt;

&lt;p&gt;まぁ &lt;a href=&#34;https://www.winehq.org/&#34; title=&#34;WineHQ - Run Windows applications on Linux, BSD, Solaris and macOS&#34;&gt;Wine&lt;/a&gt; はそのうち試してみる予定だったので，このさい試してみるとしよう。&lt;/p&gt;

&lt;h2 id=&#34;toc_0&#34;&gt;&lt;a href=&#34;https://www.winehq.org/&#34; title=&#34;WineHQ - Run Windows applications on Linux, BSD, Solaris and macOS&#34;&gt;Wine&lt;/a&gt; のインストール&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://www.winehq.org/&#34; title=&#34;WineHQ - Run Windows applications on Linux, BSD, Solaris and macOS&#34;&gt;Wine&lt;/a&gt; は APT で導入可能である。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ apt show wine
Package: wine
Version: 4.0-1
Built-Using: khronos-api (= 4.6+git20180514-1), unicode-data (= 11.0.0-1)
Priority: optional
Section: universe/otherosfs
Origin: Ubuntu
Maintainer: Ubuntu Developers &amp;lt;ubuntu-devel-discuss@lists.ubuntu.com&amp;gt;
Original-Maintainer: Debian Wine Party &amp;lt;debian-wine@lists.debian.org&amp;gt;
...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ちなみに &lt;code&gt;wine-stable&lt;/code&gt; だと v3 系， &lt;code&gt;wine-development&lt;/code&gt; だと v4.2 がインストールされるようだ（2019-05 時点）。
ここは素直に &lt;code&gt;wine&lt;/code&gt; をインストールしておこう。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo apt install wine&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;一応，動作確認しておく。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ wine --version
wine-4.0 (Ubuntu 4.0-1)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;よしよし。&lt;/p&gt;

&lt;h3 id=&#34;toc_1&#34;&gt;日本語フォントのインストール&lt;/h3&gt;

&lt;p&gt;当然ながら素の &lt;a href=&#34;https://www.winehq.org/&#34; title=&#34;WineHQ - Run Windows applications on Linux, BSD, Solaris and macOS&#34;&gt;Wine&lt;/a&gt; には Windows アプリケーション用の日本語フォントが入っていない。
日本語フォントを入れるに &lt;a href=&#34;https://github.com/Winetricks&#34;&gt;Winetricks&lt;/a&gt; をインストールする。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo apt install winetricks&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; のメニューに &lt;a href=&#34;https://github.com/Winetricks&#34;&gt;Winetricks&lt;/a&gt; のアイコンが追加されるのでクリックして起動する。
すると以下の画面が起動する。&lt;/p&gt;

&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;./winetricks.png&#34;&gt;&lt;img src=&#34;./winetricks.png&#34; srcset=&#34;./winetricks.png 1010w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/figure&gt;

&lt;p&gt;ここで “Select the default wineprefix” を選択して &lt;em&gt;[OK]&lt;/em&gt; を押すと以下の画面に遷移する。&lt;/p&gt;

&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;./winetricks-install-font.png&#34;&gt;&lt;img src=&#34;./winetricks-install-font.png&#34; srcset=&#34;./winetricks-install-font.png 1010w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/figure&gt;

&lt;p&gt;更にここで “Install a font” を選択して &lt;em&gt;[OK]&lt;/em&gt; を押してフォントの選択画面に遷移する。&lt;/p&gt;

&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;./winetricks-install-cjkfont.png&#34;&gt;&lt;img src=&#34;./winetricks-install-cjkfont.png&#34; srcset=&#34;./winetricks-install-cjkfont.png 1010w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/figure&gt;

&lt;p&gt;“cjkfonts” にチェックを付けて &lt;em&gt;[OK]&lt;/em&gt; を押せばフォントのインストールが開始される。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/Winetricks&#34;&gt;Winetricks&lt;/a&gt; ではワーニングやエラーのプロンプトが出まくるが全部無視しても問題ない（なんだかなぁ）。&lt;/p&gt;

&lt;h2 id=&#34;toc_2&#34;&gt;Kindle for PC のインストール&lt;/h2&gt;

&lt;p&gt;あとは Kindle for PC のインストーラを取ってきて &lt;a href=&#34;https://www.winehq.org/&#34; title=&#34;WineHQ - Run Windows applications on Linux, BSD, Solaris and macOS&#34;&gt;Wine&lt;/a&gt; 上で起動すればいいのだが，どうやら &lt;a href=&#34;https://www.amazon.co.jp/exec/obidos/ASIN/B011UEHYWQ/baldandersinf-22/&#34;&gt;Amazon にある最新版の Kindle for PC&lt;/a&gt; はうまく動かないっぽい。&lt;/p&gt;

&lt;p&gt;しょうがないので v1.17 の Kindle for PC のインストーラを使う。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://kindle-for-pc.jp.uptodown.com/windows/download&#34;&gt;ダウンロード kindle for pc 無料&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;こんなん使って大丈夫なのか不安になるが，どの解説ページでもこれを使えって言ってくるんだよなぁ。
頻繁に使うもんじゃないし，いっかぁ（投げやり）。&lt;/p&gt;

&lt;p&gt;インストーラの起動は以下の通り&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:w1&#34;&gt;&lt;a href=&#34;#fn:w1&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ wine kindle-for-pc-1-17-44183.exe&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;これでインストールが行われて Kindle for PC が起動する。
&lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; のメニューに Kindle アイコンが登録されるので，他のアプリケーションと同じようにアイコンのクリックでいつでも起動できる。&lt;/p&gt;

&lt;h3 id=&#34;toc_3&#34;&gt;&lt;a href=&#34;https://www.winehq.org/&#34; title=&#34;WineHQ - Run Windows applications on Linux, BSD, Solaris and macOS&#34;&gt;Wine&lt;/a&gt; 内のアプリケーションの削除&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://www.winehq.org/&#34; title=&#34;WineHQ - Run Windows applications on Linux, BSD, Solaris and macOS&#34;&gt;Wine&lt;/a&gt; 内のアプリケーションを削除するには以下のコマンドを起動する。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ wine uninstaller &amp;amp;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;./wine-uninstaller.png&#34;&gt;&lt;img src=&#34;./wine-uninstaller.png&#34; srcset=&#34;./wine-uninstaller.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/figure&gt;

&lt;h2 id=&#34;toc_4&#34;&gt;ブックマーク&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://wiki.winehq.org/Ubuntu&#34;&gt;Ubuntu - WineHQ Wiki&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://appdb.winehq.org/objectManager.php?sClass=application&amp;amp;iId=10597&#34;&gt;WineHQ  - Amazon Kindle for PC&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://qiita.com/sakai39e/items/75b2c95bc4c3cab13849&#34;&gt;Ubuntu18.04にKindle for PCをインストールした - Qiita&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://awesome-linus.com/2019/04/11/ubuntu18-wine-install-kindle/&#34;&gt;Ubuntu18.04.1でWineをインストールして、Kindleを使う方法 | Awesome Blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://qiita.com/giwagiwa/items/d2e447af5225c1ce9800&#34;&gt;Ubuntu1604LTSでKindleを使う(PlayOnLinux) - Qiita&lt;/a&gt; : 私の環境ではなぜか PlayOnLinux がうまく動かなくて諦めた&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.dedoimedo.com/computers/wine-uninstall-apps.html&#34;&gt;How to uninstall WINE applications&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a class=&#34;item url&#34; href=&#34;https://www.amazon.co.jp/Kindle-Paperwhite-%E9%9B%BB%E5%AD%90%E6%9B%B8%E7%B1%8D%E3%83%AA%E3%83%BC%E3%83%80%E3%83%BC-%E9%98%B2%E6%B0%B4%E6%A9%9F%E8%83%BD%E6%90%AD%E8%BC%89-Wi-Fi/dp/B07HCSL6BN?psc=1&amp;SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=B07HCSL6BN&#34;&gt;&lt;img src=&#34;https://images-fe.ssl-images-amazon.com/images/I/419mejVCq1L._SL160_.jpg&#34; width=&#34;160&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl class=&#34;fn&#34;&gt;
    &lt;dt&gt;&lt;a href=&#34;https://www.amazon.co.jp/Kindle-Paperwhite-%E9%9B%BB%E5%AD%90%E6%9B%B8%E7%B1%8D%E3%83%AA%E3%83%BC%E3%83%80%E3%83%BC-%E9%98%B2%E6%B0%B4%E6%A9%9F%E8%83%BD%E6%90%AD%E8%BC%89-Wi-Fi/dp/B07HCSL6BN?psc=1&amp;SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=B07HCSL6BN&#34;&gt;Kindle Paperwhite 電子書籍リーダー 防水機能搭載 Wi-Fi  32GB&lt;/a&gt;&lt;/dt&gt;
    &lt;dd&gt;Amazon (Release 2018-11-07)&lt;/dd&gt;
    &lt;dd&gt;Amazon Ereaders エレクトロニクス&lt;/dd&gt;
    &lt;dd&gt;ASIN: B07HCSL6BN, EAN: 0841667162539&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;4&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;far fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;ストレージ32GBの「マンガ・モデル」。マンガ単行本を大量に読む人はこれじゃないとちょっと厳しい。画質は（白黒である以外は）特に問題なし。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34; &gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2019-05-28&#34;&gt;2019-05-28&lt;/abbr&gt; (powered by &lt;a href=&#34;https://github.com/spiegel-im-spiegel/amazon-item&#34; &gt;amazon-item&lt;/a&gt; 0.2.1)&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li id=&#34;fn:w1&#34;&gt;古いインストーラを使うせいかもしれないが &lt;a href=&#34;https://www.winehq.org/&#34; title=&#34;WineHQ - Run Windows applications on Linux, BSD, Solaris and macOS&#34;&gt;Wine&lt;/a&gt; 内の Windows バージョンを “Windows 10” にするとインストーラがうまく動かないらしい。 &lt;a href=&#34;https://www.winehq.org/&#34; title=&#34;WineHQ - Run Windows applications on Linux, BSD, Solaris and macOS&#34;&gt;Wine&lt;/a&gt; 内の Windows バージョンを設定するには &lt;code&gt;winecfg&lt;/code&gt; コマンドで設定ダイアログを起動する。
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:w1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</content>
	</entry><entry>
		<title>Firefox 67 がリリースされた</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/release/2019/05/firefox-67-is-released/" />
		<id>tag:text.Baldanders.info,2019-05-22:/release/2019/05/firefox-67-is-released/</id>
		<published>2019-05-22T07:44:00+00:00</published>
		<updated>2019-05-22T07:44:27+00:00</updated>
		<summary>今まではマイニング防止に NoCoin を使っていたが，これからは標準機能でいけるかな。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/spiegel/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">&lt;p&gt;Firefox 67 がリリースされた。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.mozilla.org/en-US/firefox/67.0/releasenotes/&#34;&gt;Firefox  67.0, See All New Features, Updates and Fixes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://forest.watch.impress.co.jp/docs/news/1185902.html&#34;&gt;「Firefox 67」が正式公開 ～暗号通貨採掘・フィンガープリンティング防止機能を搭載 - 窓の杜&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;修正点や変更点は色々あるが個人的には「暗号通貨マイニング」と「フィンガープリント採取」をブロックできるようになったことだろう。&lt;/p&gt;

&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://www.flickr.com/photos/spiegel/47853743812/&#34;&gt;&lt;img src=&#34;./firefox67.png&#34; srcset=&#34;./firefox67.png 834w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;Firefox 67&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://www.flickr.com/photos/spiegel/47853743812/&#34;&gt;Firefox 67&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;今まではマイニング防止に &lt;a href=&#34;https://github.com/keraf/NoCoin/&#34; title=&#34;keraf/NoCoin: No Coin is a tiny browser extension aiming to block coin miners such as Coinhive.&#34;&gt;NoCoin&lt;/a&gt; を使っていたが，これからは標準機能でいけるかな。
「フィンガープリント採取」をブロックできるようになったことは僥倖だろう。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; の場合は APT でアップデートできる。
即時対応で助かったよ。&lt;/p&gt;
</content>
	</entry><entry>
		<title>Ubuntu に LibreOffice をインストールする3つの方法</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2019/05/installing-libreoffice-in-ubuntu/" />
		<id>tag:text.Baldanders.info,2019-05-17:/remark/2019/05/installing-libreoffice-in-ubuntu/</id>
		<published>2019-05-16T15:32:45+00:00</published>
		<updated>2019-05-17T12:41:30+00:00</updated>
		<summary>結論から言うと LibreOffice の全ての機能を支障なく使いたいなら公式サイトのパッケージを使いなはれ，である。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/spiegel/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">

&lt;p&gt;いやぁ，まいった。
私はただ LibreOffice の文書ファイルに&lt;a href=&#34;https://text.baldanders.info/openpgp/libreoffice-with-openpgp/&#34; title=&#34;LibreOffice と OpenPGP （仕切り直し）&#34;&gt;電子署名を付与&lt;/a&gt;したかっただけなのに，大事になってしまった。
忘れないうちにメモしておく。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; に &lt;a href=&#34;https://www.libreoffice.org/&#34; title=&#34;LibreOffice - Free Office Suite - Fun Project - Fantastic People&#34;&gt;LibreOffice&lt;/a&gt; を導入する方法としては，主に以下の3つがある。&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; を使ってインストールする&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/snapcore/snapd&#34; title=&#34;snapcore/snapd: The snapd and snap tools enable systems to work with .snap files.&#34;&gt;Snap&lt;/a&gt; を使ってインストールする&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.libreoffice.org/&#34; title=&#34;LibreOffice - Free Office Suite - Fun Project - Fantastic People&#34;&gt;公式サイト&lt;/a&gt;から deb パッケージ・ファイルを取ってきてインストールする。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;これらはそれぞれ管理が独立しているため（あまりオススできないが）混在させることが可能である。&lt;/p&gt;

&lt;p&gt;結論から言うと &lt;a href=&#34;https://www.libreoffice.org/&#34; title=&#34;LibreOffice - Free Office Suite - Fun Project - Fantastic People&#34;&gt;LibreOffice&lt;/a&gt; の全ての機能を支障なく使いたいなら&lt;a href=&#34;https://www.libreoffice.org/&#34; title=&#34;LibreOffice - Free Office Suite - Fun Project - Fantastic People&#34;&gt;公式サイト&lt;/a&gt;のパッケージを使いなはれ，である。&lt;/p&gt;

&lt;h2 id=&#34;toc_0&#34;&gt;&lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; を使ってインストールする&lt;/h2&gt;

&lt;p&gt;というか &lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; をインストールすると最初から入っている &lt;a href=&#34;https://www.libreoffice.org/&#34; title=&#34;LibreOffice - Free Office Suite - Fun Project - Fantastic People&#34;&gt;LibreOffice&lt;/a&gt; がこれである。
&lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; のアップデート・ポリシーに則って運用されるため保守的なバージョン管理になっている。
それでも安定的な運用を求めるのであれば，こちらを選択するのは悪くない。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.libreoffice.org/&#34; title=&#34;LibreOffice - Free Office Suite - Fun Project - Fantastic People&#34;&gt;LibreOffice&lt;/a&gt; 6.0 以降では文書ファイルにデジタル署名と暗号化を施すことができるのだが， &lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; 版は &lt;a href=&#34;https://tools.ietf.org/html/rfc4880&#34; title=&#34;RFC 4880 - OpenPGP Message Format&#34;&gt;OpenPGP&lt;/a&gt; の鍵をうまく認識でいないようだ。
&lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; では「パスワードと鍵（Seahorse）」というツールで鍵やパスワードを統合的に管理しているのだが，これとの連携がうまく行っていないように見える。&lt;/p&gt;

&lt;p&gt;ちなみに &lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; 版を削除するには&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo apt remove libreoffice*&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;でいけるようだ。
パッケージをワイルドカードで指定するのがポイントである。&lt;/p&gt;

&lt;h2 id=&#34;toc_1&#34;&gt;&lt;a href=&#34;https://github.com/snapcore/snapd&#34; title=&#34;snapcore/snapd: The snapd and snap tools enable systems to work with .snap files.&#34;&gt;Snap&lt;/a&gt; を使ってインストールする&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/snapcore/snapd&#34; title=&#34;snapcore/snapd: The snapd and snap tools enable systems to work with .snap files.&#34;&gt;Snap&lt;/a&gt; は最近流行りのパッケージ管理ツールでディストリビューションから独立している点と，きめ細かいバージョン管理が可能である（パッケージによっては nightly ビルド等にも対応している）点が評価されている。
&lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; のようにローカルにデータベースを保持していないのでシンプルに運用できる。
&lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; には &lt;a href=&#34;https://github.com/snapcore/snapd&#34; title=&#34;snapcore/snapd: The snapd and snap tools enable systems to work with .snap files.&#34;&gt;Snap&lt;/a&gt; が既定で導入されている。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/snapcore/snapd&#34; title=&#34;snapcore/snapd: The snapd and snap tools enable systems to work with .snap files.&#34;&gt;Snap&lt;/a&gt; 版をインストールするには&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo snap install libreoffice&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;とすればよい。
削除するには&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo snap remove libreoffice&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;で OK。
ワイルドカード指定は不要である。&lt;/p&gt;

&lt;p&gt;こちらも OpenPGP 鍵を認識できず，電子署名ができなかった。
&lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; 版も &lt;a href=&#34;https://github.com/snapcore/snapd&#34; title=&#34;snapcore/snapd: The snapd and snap tools enable systems to work with .snap files.&#34;&gt;Snap&lt;/a&gt; 版も Canonical が運用・管理しているらしいのだが，セキュリティ方面には関心が薄いのだろう。
残念な話である。&lt;/p&gt;

&lt;h2 id=&#34;toc_2&#34;&gt;&lt;a href=&#34;https://www.libreoffice.org/&#34; title=&#34;LibreOffice - Free Office Suite - Fun Project - Fantastic People&#34;&gt;公式サイト&lt;/a&gt;から deb パッケージ・ファイルを取ってきてインストールする&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://www.libreoffice.org/&#34; title=&#34;LibreOffice - Free Office Suite - Fun Project - Fantastic People&#34;&gt;LibreOffice&lt;/a&gt; の公式サイトでは deb パッケージ形式でインストールファイルを公開していて，これをダウンロードしてインストールできる。&lt;/p&gt;

&lt;p&gt;まず&lt;a href=&#34;https://www.libreoffice.org/&#34; title=&#34;LibreOffice - Free Office Suite - Fun Project - Fantastic People&#34;&gt;公式サイト&lt;/a&gt;から deb ファイルが同梱された &lt;code&gt;*.tar.gz&lt;/code&gt; ファイルをダウンロードする。
たとえばこんなファイル名になっている。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;LibreOffice_6.2.3_Linux_x86-64_deb.tar.gz&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;このファイルを適当な場所で展開すると &lt;code&gt;LibreOffice_6.2.3_Linux_x86-64_deb/&lt;/code&gt; ディレクトリが作成される。
&lt;code&gt;LibreOffice_6.2.3_Linux_x86-64_deb/DEBS/&lt;/code&gt; ディレクトリに降りると複数の deb ファイルがあることが分かるだろう。
基本的にはこれを全てインストールする。
全てのファイルに対していちいち &lt;code&gt;gdebi&lt;/code&gt; コマンドを使うのはかったるいので&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo apt install ./*.deb&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;で一気にインストールしてしまおう。
てか，この手が使えたのか。&lt;/p&gt;

&lt;p&gt;これで導入した &lt;a href=&#34;https://www.libreoffice.org/&#34; title=&#34;LibreOffice - Free Office Suite - Fun Project - Fantastic People&#34;&gt;LibreOffice&lt;/a&gt; では英語とフランス語くらいしか対応していないため日本語パックとヘルプも導入する。
同じく&lt;a href=&#34;https://www.libreoffice.org/&#34; title=&#34;LibreOffice - Free Office Suite - Fun Project - Fantastic People&#34;&gt;公式サイト&lt;/a&gt;から以下の &lt;code&gt;*.tar.gz&lt;/code&gt; ファイルをダウンロードする。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;LibreOffice_6.2.3_Linux_x86-64_deb_langpack_ja.tar.gz&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;LibreOffice_6.2.3_Linux_x86-64_deb_helppack_ja.tar.gz&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;これらのファイルを適当な場所で展開して中に入っている deb ファイルを片っ端からインストールしていく。&lt;/p&gt;

&lt;p&gt;削除する場合は&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo apt remove libreoffice6.2* libobasis6.2*&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;のようにバージョンとワイルドカードを指定すること。&lt;/p&gt;

&lt;p&gt;分かってますよ。
めがっさ面倒くさいです。
しかしこの公式版ならちゃんと OpenPGP 鍵を認識して電子署名も暗号化もできる。&lt;/p&gt;

&lt;p&gt;日本でもメールにパスワード書くような悪習は早くなくしていきたいものである。&lt;/p&gt;

&lt;h2 id=&#34;toc_3&#34;&gt;ブックマーク&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://gihyo.jp/admin/serial/01/ubuntu-recipe/0507&#34;&gt;第507回　さまざまなLibreOfficeのインストール方法：Ubuntu Weekly Recipe｜gihyo.jp … 技術評論社&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://text.baldanders.info/openpgp/libreoffice-with-openpgp/&#34;&gt;LibreOffice と OpenPGP （仕切り直し）&lt;/a&gt; : Windows 版の &lt;a href=&#34;https://www.libreoffice.org/&#34; title=&#34;LibreOffice - Free Office Suite - Fun Project - Fantastic People&#34;&gt;LibreOffice&lt;/a&gt; 6.0 を対象にしているが機能は同じなので適宜読み替えてください&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;toc_4&#34;&gt;参考図書&lt;/h2&gt;

&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a class=&#34;item url&#34; href=&#34;https://www.amazon.co.jp/%E6%9A%97%E5%8F%B7%E6%8A%80%E8%A1%93%E5%85%A5%E9%96%80-%E7%AC%AC3%E7%89%88-%E7%A7%98%E5%AF%86%E3%81%AE%E5%9B%BD%E3%81%AE%E3%82%A2%E3%83%AA%E3%82%B9-%E7%B5%90%E5%9F%8E-%E6%B5%A9-ebook/dp/B015643CPE?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=B015643CPE&#34;&gt;&lt;img src=&#34;https://images-fe.ssl-images-amazon.com/images/I/51t6yHHVwEL._SL160_.jpg&#34; width=&#34;113&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl class=&#34;fn&#34;&gt;
    &lt;dt&gt;&lt;a href=&#34;https://www.amazon.co.jp/%E6%9A%97%E5%8F%B7%E6%8A%80%E8%A1%93%E5%85%A5%E9%96%80-%E7%AC%AC3%E7%89%88-%E7%A7%98%E5%AF%86%E3%81%AE%E5%9B%BD%E3%81%AE%E3%82%A2%E3%83%AA%E3%82%B9-%E7%B5%90%E5%9F%8E-%E6%B5%A9-ebook/dp/B015643CPE?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=B015643CPE&#34;&gt;暗号技術入門 第3版　秘密の国のアリス&lt;/a&gt;&lt;/dt&gt;
    &lt;dd&gt;結城 浩&lt;/dd&gt;
    &lt;dd&gt;SBクリエイティブ 2015-08-25 (Release 2015-09-17)&lt;/dd&gt;
    &lt;dd&gt;eBooks Kindle版&lt;/dd&gt;
    &lt;dd&gt;ASIN: B015643CPE&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;5&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;SHA-3 や Bitcoin/Blockchain など新しい知見や技術要素を大幅追加。暗号技術を使うだけならこれ1冊でとりあえず無問題。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34; &gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2015-09-20&#34;&gt;2015-09-20&lt;/abbr&gt; (powered by &lt;a href=&#34;https://github.com/spiegel-im-spiegel/amazon-item&#34; &gt;amazon-item&lt;/a&gt; v0.2.0)&lt;/p&gt;
&lt;/div&gt;
</content>
	</entry><entry>
		<title>Advanced Package Tool に関する覚え書き</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2019/05/advanced-package-tool/" />
		<id>tag:text.Baldanders.info,2019-05-10:/remark/2019/05/advanced-package-tool/</id>
		<published>2019-05-10T09:32:34+00:00</published>
		<updated>2019-05-16T15:36:43+00:00</updated>
		<summary>今回の件で自機でのアプリケーションあるいはパッケージ管理について，ちょっと考えてしまった。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/spiegel/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">

&lt;p&gt;先日 Firefox がやらしたじゃないですか。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://discourse.mozilla.org/t/thread-add-ons-not-working-due-to-certificate-expiration/38968&#34;&gt;Thread: Add-ons not working due to certificate expiration - Add-on Support - Mozilla Discourse&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;証明書の期限切れでアドオンが全部排除されるというバグとしてはありがちなやつなんだけど， Mozilla が改修版（v66.0.4）を出してから &lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; の &lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; でアップデートできるようになるまで概ね2日ほどかかってるのよ。&lt;/p&gt;

&lt;p&gt;今回の件で自機でのアプリケーションあるいはパッケージ管理について，ちょっと考えてしまった。
そこでまずは &lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; について調べ直すところから始めることにした。&lt;/p&gt;

&lt;h2 id=&#34;toc_0&#34;&gt;dpkg と Advanced Package Tool&lt;/h2&gt;

&lt;p&gt;皆さんご存知の通り &lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; は &lt;a href=&#34;https://www.debian.org/&#34; title=&#34;Debian -- The Universal Operating System&#34;&gt;Debian&lt;/a&gt; から fork したディストリビューションでアプリケーション管理も &lt;a href=&#34;https://www.debian.org/&#34; title=&#34;Debian -- The Universal Operating System&#34;&gt;Debian&lt;/a&gt; のものを踏襲している。&lt;/p&gt;

&lt;p&gt;アプリケーションのビルド済みバイナリや関連ファイルにバージョン情報や依存情報等のメタデータを付加したものを（ar/tar/gzip/bzip2 などで）ひとまとめにしたものを「&lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/packaging-system.html&#34; title=&#34;第 5 章 パッケージシステム、ツールと基本原則&#34;&gt;パッケージ&lt;/a&gt;」と呼ぶ。
&lt;a href=&#34;https://www.debian.org/&#34; title=&#34;Debian -- The Universal Operating System&#34;&gt;Debian&lt;/a&gt;/&lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; では &lt;code&gt;.deb&lt;/code&gt; の拡張子が付いたファイルがそのパッケージファイルで，パッケージファイルを利用するためのツールが &lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/sect.manipulating-packages-with-dpkg.html&#34; title=&#34;5.4. dpkg を用いたパッケージの操作&#34;&gt;dpkg&lt;/a&gt; である。&lt;/p&gt;

&lt;p&gt;ただし &lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/sect.manipulating-packages-with-dpkg.html&#34; title=&#34;5.4. dpkg を用いたパッケージの操作&#34;&gt;dpkg&lt;/a&gt; にはプリミティブな機能しかないため一般のユーザが &lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/sect.manipulating-packages-with-dpkg.html&#34; title=&#34;5.4. dpkg を用いたパッケージの操作&#34;&gt;dpkg&lt;/a&gt; をそのまま使うことはまずない。
一般ユーザ用のフロントエンド（のひとつ）が &lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; (Advanced Package Tool) ということになる。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; はバックエンドにパッケージ管理用のデータベースを持っていて&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:sl1&#34;&gt;&lt;a href=&#34;#fn:sl1&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;，このデータベースをもとにパッケージ間の依存関係を維持しながら可能な限り自動で導入や削除を行おうとする。&lt;/p&gt;

&lt;p&gt;したがってデータベースにないパッケージは &lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; では導入できない。
この場合は以下の3つの手段をとることができる。&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;サードパーティのリポジトリを登録して &lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; から導入できるようにする&lt;/li&gt;
&lt;li&gt;deb ファイルを使って直接インストールする&lt;/li&gt;
&lt;li&gt;ビルド済みバイナリを直接展開して導入する。またはソースファイルから直接ビルドを行う&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;toc_1&#34;&gt;&lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; パッケージのリリースサイクル&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; は概ね半年ごとにアップグレードされ，リリース時の年月がそのままバージョン番号になっている。
たとえば先日2019年4月にリリースされたバージョンには 19.04 が振られている。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; に収録されるパッケージは OS リリース時にバージョンが固定され重大な不具合や脆弱性が発覚しない限り更新されることはないようだ。
先日の Firefox の件はむしろ例外的に早い対応だったということになる。&lt;/p&gt;

&lt;p&gt;しかし，昨今は活況なソフトウェアほどリリースサイクルが短い傾向があり半年というタイムスケールでは追いつかないことも多い。
自身でリスクを引き受けてでも &lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; による管理を離れて自前で最新バージョンを維持したいという要求もあると思う。&lt;/p&gt;

&lt;p&gt;つまり &lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; で管理可能なパッケージについても&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; で導入する&lt;/li&gt;
&lt;li&gt;deb ファイルを使って直接インストールする&lt;/li&gt;
&lt;li&gt;ビルド済みバイナリを直接展開して導入する。またはソースファイルから直接ビルドを行う&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;という3つの手段をとり得るわけだ。&lt;/p&gt;

&lt;p&gt;そこで以降からは管理方法毎によく使うパッケージを分類してみる。
なお，この分類は私の独断と偏見に依る部分が大きいので，他の人にはあまり参考にならないであろう点は先に誤っておく。
ゴメンペコン。&lt;/p&gt;

&lt;h2 id=&#34;toc_2&#34;&gt;公式リポジトリから &lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; を使って管理するパッケージ&lt;/h2&gt;

&lt;h3 id=&#34;toc_3&#34;&gt;セキュリティ関連ツールなのでしょうがない&lt;/h3&gt;

&lt;p&gt;以下のパッケージはセキュリティ関連ツールで，これらに依存するパッケーも多く，特に保守的な運用になっているようだ。
したがって安定的な運用を優先し &lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; による管理とする。&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;製品名&lt;/th&gt;
&lt;th&gt;パッケージ名&lt;/th&gt;
&lt;th&gt;備考&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://gnupg.org/&#34; title=&#34;The GNU Privacy Guard&#34;&gt;GnuPG&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;gnupg&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;既定でインストール済&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://www.openssh.com/&#34;&gt;OpenSSH&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;openssh-client&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;クライアント側。既定でインストール済&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://www.openssl.org/&#34;&gt;OpenSSL&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;openssl&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;既定でインストール済&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;以下も参考にどうぞ&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2019/04/move-gpg-keyring/&#34;&gt;Windows 環境で作った GnuPG の鍵束を Ubuntu に移行する&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;toc_4&#34;&gt;&lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; に任せて安心なパッケージ&lt;/h3&gt;

&lt;p&gt;以下は何も考えずに &lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; に任せても大丈夫だろう。
不具合や脆弱性への対応はどうしても遅れるが今のところは許容範囲ということで。&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;製品名&lt;/th&gt;
&lt;th&gt;パッケージ名&lt;/th&gt;
&lt;th&gt;備考&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://www.mozilla.org/&#34; title=&#34;Internet for people, not profit — Mozilla&#34;&gt;Firefox&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;firefox&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;既定でインストール済&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://www.thunderbird.net/&#34; title=&#34;Thunderbird — Software made to make email easier. — Mozilla&#34;&gt;Thunderbird&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;thunderbird&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;既定でインストール済&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;ifconfig&lt;/td&gt;
&lt;td&gt;&lt;code&gt;net-tools&lt;/code&gt; &lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:nt1&#34;&gt;&lt;a href=&#34;#fn:nt1&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/td&gt;
&lt;td&gt;何故か既定で入ってなかった&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://curl.haxx.se/&#34;&gt;curl&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;curl&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;何故か既定で入ってなかった&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://openjdk.java.net/&#34;&gt;OpenJDK&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;openjdk-12-jre&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;JRE のみの場合。バージョンごとにパッケージ名が異なるので注意（左は Java 12 の場合）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;http://kdiff3.sourceforge.net/&#34;&gt;KDiff3&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;kdiff3&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://www.graphviz.org/&#34; title=&#34;Graphviz - Graph Visualization Software&#34;&gt;Graphviz&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;graphviz&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://www.vim.org/&#34;&gt;vim&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;vim&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;既定で入ってるのは &lt;code&gt;vim-tiny&lt;/code&gt; で &lt;code&gt;vim&lt;/code&gt; を入れると置き換わる&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://boinc.berkeley.edu/&#34;&gt;BOINC&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;boinc-client&lt;/code&gt;, &lt;code&gt;boinc-manager&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;クライアント側&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://keepass.info/&#34; title=&#34;KeePass Password Safe&#34;&gt;KeePass&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;keepass2&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;あらかじめ &lt;a href=&#34;https://www.mono-project.com/&#34;&gt;Mono&lt;/a&gt; がインストールされていること&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;a href=&#34;https://www.mozilla.org/&#34; title=&#34;Internet for people, not profit — Mozilla&#34;&gt;Firefox&lt;/a&gt;, &lt;a href=&#34;https://www.thunderbird.net/&#34; title=&#34;Thunderbird — Software made to make email easier. — Mozilla&#34;&gt;Thunderbird&lt;/a&gt; については公式サイトで実行イメージがダウンロード可能になっていて，そちらを取ってきて使うこともできるが，完全に APT の管理を離れてしまい，かつ APT で管理されるバージョンと混在になってしまうので考えどころではある。
&lt;a href=&#34;https://www.mozilla.org/firefox/developer/&#34;&gt;Firefox Developer Edition&lt;/a&gt; を使うなら混在もありかも。&lt;/p&gt;

&lt;h3 id=&#34;toc_5&#34;&gt;その他&lt;/h3&gt;

&lt;p&gt;依存関係とか導入手順とかが複雑で自前で管理するのが面倒くさい，て感じのパッケージ。&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;製品名&lt;/th&gt;
&lt;th&gt;パッケージ名&lt;/th&gt;
&lt;th&gt;備考&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://gcc.gnu.org/&#34; title=&#34;GCC, the GNU Compiler Collection - GNU Project - Free Software Foundation (FSF)&#34;&gt;GCC&lt;/a&gt; 等&lt;/td&gt;
&lt;td&gt;&lt;code&gt;build-essential&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;何故か 18.10 には既定で入ってなかった&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;CIFS Client&lt;/td&gt;
&lt;td&gt;&lt;code&gt;cifs-utils&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;導入方法は&lt;a href=&#34;https://text.baldanders.info/remark/2019/03/common-internet-file-system/&#34;&gt;拙文を参照&lt;/a&gt;のこと&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;&lt;a href=&#34;https://www.clamav.net/&#34; title=&#34;ClamavNet&#34;&gt;ClamAV&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;clamav&lt;/code&gt;, &lt;code&gt;clamav-daemon&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;導入方法は&lt;a href=&#34;https://text.baldanders.info/remark/2019/05/clamav-for-ubuntu/&#34;&gt;拙文を参照&lt;/a&gt;のこと&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&#34;toc_6&#34;&gt;サードパーティ・リポジトリから &lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; を使って管理するパッケージ&lt;/h2&gt;

&lt;h3 id=&#34;toc_7&#34;&gt;&lt;a href=&#34;https://git-scm.com/&#34;&gt;Git&lt;/a&gt;&lt;/h3&gt;

&lt;p&gt;公式リポジトリでも導入可能だが最新版が欲しかったので &lt;a href=&#34;https://launchpad.net/ubuntu/+ppas&#34; title=&#34;Personal Package Archives : Ubuntu&#34;&gt;PPA&lt;/a&gt; のリポジトリを使うことにした。
詳しくは&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2019/04/install-git-from-ppa/&#34;&gt;PPA から Git をインストールする&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;を参照のこと。&lt;/p&gt;

&lt;h3 id=&#34;toc_8&#34;&gt;&lt;a href=&#34;https://www.mono-project.com/&#34;&gt;Mono&lt;/a&gt;&lt;/h3&gt;

&lt;p&gt;インストールにはサードパーティ・リポジトリの登録と署名検証用の公開鍵の取得が必要。
詳しくは&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2019/04/mono-in-ubuntu/&#34;&gt;Ubuntu に Mono を導入する&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;を参照のこと。&lt;/p&gt;

&lt;h3 id=&#34;toc_9&#34;&gt;&lt;a href=&#34;https://atom.io/&#34;&gt;ATOM&lt;/a&gt; エディタ&lt;/h3&gt;

&lt;p&gt;インストールにはサードパーティ・リポジトリの登録と署名検証用の公開鍵の取得が必要。
詳しくは&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/release/2019/05/atom-v1_37-released/&#34;&gt;ATOM v1.37 がリリースされた&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;で紹介している。&lt;/p&gt;

&lt;p&gt;また deb ファイルを使って直接インストールすることも可能。
詳しくは&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2019/04/atom-in-ubuntu/&#34;&gt;Ubuntu に ATOM エディタを導入する&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;を参照のこと。&lt;/p&gt;

&lt;h2 id=&#34;toc_10&#34;&gt;deb ファイルを使って直接インストールする&lt;/h2&gt;

&lt;p&gt;deb ファイルを使って直接インストールするには gdebi を使うのがオススメである。
導入は &lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; からできる。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo apt install gdebi-core&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;これで&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo gdebi foo.deb&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;とすれば依存パッケージも含めてインストールしてくれる。
内部で &lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; のデータベースを使ってるのかな。&lt;/p&gt;

&lt;p&gt;自前で導入する場合は最新バージョンに常に注意すること。&lt;/p&gt;

&lt;h3 id=&#34;toc_11&#34;&gt;&lt;a href=&#34;https://gohugo.io/&#34; title=&#34;The world’s fastest framework for building websites | Hugo&#34;&gt;Hugo&lt;/a&gt;&lt;/h3&gt;

&lt;p&gt;いや，シングルバイナリで依存関係も殆どないので deb ファイルからインストールする必然性は微塵もないのだが，どうも &lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; からインストールできるパッケージが全く追従できてないみたいなので。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/gohugoio/hugo/releases&#34; title=&#34;Releases · gohugoio/hugo&#34;&gt;リリースページ&lt;/a&gt;から最新版の deb ファイルを取ってきてインストールすればよい。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo gdebi ./hugo_0.55.5_Linux-64bit.deb&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;toc_12&#34;&gt;&lt;a href=&#34;https://www.libreoffice.org/&#34; title=&#34;LibreOffice - Free Office Suite - Fun Project - Fantastic People&#34;&gt;LibreOffice&lt;/a&gt;&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://www.libreoffice.org/&#34; title=&#34;LibreOffice - Free Office Suite - Fun Project - Fantastic People&#34;&gt;LibreOffice&lt;/a&gt; は公式ページにあるバージョンが無難なようである。
詳しくは&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2019/05/installing-libreoffice-in-ubuntu/&#34;&gt;Ubuntu に LibreOffice をインストールする3つの方法&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;toc_13&#34;&gt;ビルド済みバイナリを直接展開して導入する&lt;/h2&gt;

&lt;p&gt;自前で導入する場合は最新バージョンに常に注意すること。&lt;/p&gt;

&lt;h3 id=&#34;toc_14&#34;&gt;&lt;a href=&#34;https://golang.org/&#34; title=&#34;The Go Programming Language&#34;&gt;Go&lt;/a&gt; コンパイラ&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://golang.org/&#34; title=&#34;The Go Programming Language&#34;&gt;Go&lt;/a&gt; コンパイラ自体は &lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; でも導入可能だが，お互いのリリースタイミングが悪いのか2世代もバージョンが古い。
これでは使いものにならないので（&lt;a href=&#34;https://golang.org/&#34; title=&#34;The Go Programming Language&#34;&gt;Go&lt;/a&gt; コンパイラの公式サポートは1世代前まで），&lt;a href=&#34;https://golang.org/dl/&#34; title=&#34;Downloads - The Go Programming Language&#34;&gt;ダウンロードページ&lt;/a&gt;から &lt;code&gt;go1.xx.x.linux-amd64.tar.gz&lt;/code&gt; ファイルを取ってきて任意の場所に展開して使う。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ cd /usr/local/src
$ sudo curl https://dl.google.com/go/go1.12.5.linux-amd64.tar.gz -O
$ cd ..
$ unlink go # 以前の Go が入っている場合
$ sudo tar xvf src/go1.12.5.linux-amd64.tar.gz
$ sudo mv go go1.12.5
$ sudo ln -s go1.12.5 go
$ ./go/bin/go version
go version go1.12.5 linux/amd64&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;bin/&lt;/code&gt; ディレクトリにはパスを通しておけば大丈夫。&lt;/p&gt;

&lt;h3 id=&#34;toc_15&#34;&gt;&lt;a href=&#34;https://filezilla-project.org/&#34; title=&#34;FileZilla - The free FTP solution&#34;&gt;FileZilla&lt;/a&gt;&lt;/h3&gt;

&lt;p&gt;これも &lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; で導入可能なのだが，だいぶバージョンが古いので，&lt;a href=&#34;https://filezilla-project.org/download.php&#34; title=&#34;Download FileZilla Client for Linux&#34;&gt;ダウンロードページ&lt;/a&gt;から取ってきたファイルを展開して使うことにする。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ cd /usr/local/
$ sudo tar xvf src/FileZilla_3.42.1_x86_64-linux-gnu.tar.bz2
$ sudo chown -R root:root FileZilla3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;chown&lt;/code&gt; でオーナーを変えるのを忘れないように。&lt;/p&gt;

&lt;h3 id=&#34;toc_16&#34;&gt;&lt;a href=&#34;https://gitextensions.github.io/&#34; title=&#34;Git Extensions | Git Extensions is a graphical user interface for Git that allows you to control Git without using the commandline&#34;&gt;Git Extensions&lt;/a&gt;&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://www.mono-project.com/&#34;&gt;Mono&lt;/a&gt; がインストールされていることが前提。
詳しくは&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2019/04/mono-in-ubuntu/&#34;&gt;Ubuntu に Mono を導入する&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;を参照のこと。&lt;/p&gt;

&lt;h3 id=&#34;toc_17&#34;&gt;&lt;a href=&#34;http://www.tug.org/texlive/&#34; title=&#34;TeX Live - TeX Users Group&#34;&gt;TeX Live&lt;/a&gt;&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;http://www.tug.org/texlive/&#34; title=&#34;TeX Live - TeX Users Group&#34;&gt;TeX Live&lt;/a&gt; に関しては（大量のパッケージがあるため）最新の環境が必要ないのであれば &lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; を使うほうがオススメである。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ apt show texlive
Package: texlive
Version: 2018.20190227-1
Priority: optional
Section: universe/tex
Source: texlive-base
Origin: Ubuntu
...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;が，やっぱり最新の環境がほしいので手動でインストールすることにした。&lt;/p&gt;

&lt;p&gt;手動でインストールする場合はインストーラ &lt;code&gt;install-tl&lt;/code&gt; を使う。
&lt;a href=&#34;http://www.tug.org/texlive/&#34; title=&#34;TeX Live - TeX Users Group&#34;&gt;TeX Live&lt;/a&gt; 内の各パッケージの更新には tlmgr を使う。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo tlmgr update --self --all&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;詳しくは&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2019/04/install-texlive-in-ubuntu/&#34;&gt;TeX Live を Ubuntu に（&lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; を使わずに）導入する&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;を参照のこと。&lt;/p&gt;

&lt;h2 id=&#34;toc_18&#34;&gt;ソースファイルから直接ビルドを行う&lt;/h2&gt;

&lt;p&gt;自前で導入する場合は最新バージョンに常に注意すること。&lt;/p&gt;

&lt;h3 id=&#34;toc_19&#34;&gt;&lt;a href=&#34;http://www.mew.org/~kazu/proj/pgpdump/&#34;&gt;pgpdump&lt;/a&gt; のビルド&lt;/h3&gt;

&lt;p&gt;実は &lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; で導入できるっぽいのだが，自作の &lt;a href=&#34;https://github.com/spiegel-im-spiegel/gpgpdump&#34; title=&#34;spiegel-im-spiegel/gpgpdump: OpenPGP packet visualizer&#34;&gt;gpgpdump&lt;/a&gt; の動作確認用にリファレンス実装として最新版が必要なのよ。
&lt;a href=&#34;https://gcc.gnu.org/&#34; title=&#34;GCC, the GNU Compiler Collection - GNU Project - Free Software Foundation (FSF)&#34;&gt;GCC&lt;/a&gt; 等のツールチェーンがあれば簡単にビルドできる。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/kazu-yamamoto/pgpdump&#34; title=&#34;kazu-yamamoto/pgpdump: A PGP packet visualizer&#34;&gt;リポジトリ&lt;/a&gt;からソースコードを取ってきて&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ ./configure 
$ make&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;でビルドできる。
なお圧縮パケットの解凍に bz2 が必要な場合は &lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; でパッケージ &lt;code&gt;libbz2-dev&lt;/code&gt; をあらかじめインストールしておくこと。&lt;/p&gt;

&lt;h3 id=&#34;toc_20&#34;&gt;git-credential-libsecret のビルド&lt;/h3&gt;

&lt;p&gt;git-credential 用に git-credential-libsecret をビルドする。&lt;/p&gt;

&lt;p&gt;libsecret 自体のインストールは &lt;a href=&#34;https://debian-handbook.info/browse/ja-JP/stable/apt.html&#34; title=&#34;第 6 章 メンテナンスと更新、APT ツール&#34;&gt;APT&lt;/a&gt; で行う。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo apt install libsecret-1-dev libgnome-keyring-dev&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;これで展開されるソースコードを適当な場所にコピーしてビルドする。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ cp -r /usr/share/doc/git/contrib/credential/libsecret ~/work
$ cd ~/work/libsecret
$ make
gcc -g -O2 -Wall  -pthread -I/usr/include/libsecret-1 -I/usr/include/libmount -I/usr/include/blkid -I/usr/include/uuid -I/usr/include/glib-2.0 -I/usr/lib/x86_64-linux-gnu/glib-2.0/include -o git-credential-libsecret.o -c git-credential-libsecret.c
gcc -o git-credential-libsecret  git-credential-libsecret.o -lsecret-1 -lgio-2.0 -lgobject-2.0 -lglib-2.0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ビルドした git-credential-libsecret をパスの通ったディレクトリに入れれば完了。&lt;/p&gt;

&lt;h2 id=&#34;toc_21&#34;&gt;ブックマーク&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://usn.ubuntu.com/&#34;&gt;Ubuntu security notices&lt;/a&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://www.debian.org/security/&#34;&gt;Debian -- Security Information&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://linuxfan.info/package-management-ubuntu&#34;&gt;「apt-get」はもう古い？新しい「apt」コマンドを使ったUbuntuのパッケージ管理 | LFI&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://itsfoss.com/gdebi-default-ubuntu-software-center/&#34;&gt;Use GDebi for Quickly Installing DEB Packages in Ubuntu - It&#39;s FOSS&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://linuxfan.info/post-1881&#34;&gt;【Linux FAQ】.debファイルをダウンロードしたのですが、どうやってインストールすればいいですか？ | LFI&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://wiki.documentfoundation.org/Documentation/Install/Linux&#34;&gt;Installing LibreOffice on Linux - The Document Foundation Wiki&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;footnotes&#34;&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li id=&#34;fn:sl1&#34;&gt;&lt;code&gt;/etc/apt/&lt;/code&gt; ディレクトリ以下のファイル群がそれ。このうち &lt;code&gt;sources.list&lt;/code&gt; が &lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; 公式のパッケージ・リポジトリを定義したファイルである。またサードパーティのリポジトリは &lt;code&gt;/etc/apt/sources.list.d/&lt;/code&gt; ディレクトリに &lt;code&gt;*.list&lt;/code&gt; ファイルで設定可能である。
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:sl1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:nt1&#34;&gt;パッケージ &lt;code&gt;net-tools&lt;/code&gt; をインストールすると ifconfig のほかに arp, netstat, rarp, nameif, route といったツールがインストールされる。
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:nt1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</content>
	</entry><entry>
		<title>Ununtu に ClamAV を導入する</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2019/05/clamav-for-ubuntu/" />
		<id>tag:text.Baldanders.info,2019-05-06:/remark/2019/05/clamav-for-ubuntu/</id>
		<published>2019-05-06T08:39:20+00:00</published>
		<updated>2019-05-07T13:05:32+00:00</updated>
		<summary>こんなに面倒臭いとは思わなかった。もうしばらく運用してから評価してみるですよ。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/spiegel/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">

&lt;p&gt;&lt;a href=&#34;https://www.clamav.net/&#34; title=&#34;ClamavNet&#34;&gt;ClamAV&lt;/a&gt; を &lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; に導入したのだが，思いのほか面倒臭かったので，覚え書きとして記しておく。&lt;/p&gt;

&lt;h2 id=&#34;toc_0&#34;&gt;&lt;a href=&#34;https://www.clamav.net/&#34; title=&#34;ClamavNet&#34;&gt;ClamAV&lt;/a&gt; をインストールする&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://www.clamav.net/&#34; title=&#34;ClamavNet&#34;&gt;ClamAV&lt;/a&gt; のインストール自体は APT (Advanced Package Tool) で簡単にできる。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo apt install clamav clamav-daemon&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;なお &lt;code&gt;clamav-daemon&lt;/code&gt; は &lt;a href=&#34;https://www.clamav.net/&#34; title=&#34;ClamavNet&#34;&gt;ClamAV&lt;/a&gt; をサービス化するためのパッケージである。&lt;/p&gt;

&lt;p&gt;現時点（2019年5月）で &lt;a href=&#34;https://www.clamav.net/&#34; title=&#34;ClamavNet&#34;&gt;ClamAV&lt;/a&gt; の最新は 0.101.x なのだが APT で提供されているバージョンは 0.100.x の古いバージョンのようだ。
一応，以下の脆弱性への対応はしてあるみたいだが&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.clamav.net/2019/03/clamav-01012-and-01003-patches-have.html&#34;&gt;ClamAV® blog: ClamAV 0.101.2 and 0.100.3 patches have been released!&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;このバージョンの古さは後々に影響を及ぼすかもしれない。
Debian には最新の&lt;a href=&#34;https://packages.debian.org/source/unstable/clamav&#34;&gt;ソースパッケージがある&lt;/a&gt;ようだが，セキュリティ製品だしソースコードからビルドするのは流石に...&lt;/p&gt;

&lt;h2 id=&#34;toc_1&#34;&gt;データベースを更新する&lt;/h2&gt;

&lt;p&gt;まずは手動でデータベースを更新する。&lt;/p&gt;

&lt;p&gt;設定ファイル &lt;code&gt;/etc/clamav/freshclam.conf&lt;/code&gt; から &lt;code&gt;NotifyClamd&lt;/code&gt; の行をコメントアウトした上で &lt;code&gt;freshclam&lt;/code&gt; コマンドを実行する。
コマンドラインで書くとこんな感じ。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo systemctl stop clamav-freshclam

$ sudo sed -i -e &amp;#34;s/^NotifyClamd/#NotifyClamd/g&amp;#34; /etc/clamav/freshclam.conf

$ sudo freshclam
Sun May  5 13:36:34 2019 -&amp;gt; ClamAV update process started at Sun May  5 13:36:34 2019
Sun May  5 13:36:34 2019 -&amp;gt; ^Your ClamAV installation is OUTDATED!
Sun May  5 13:36:34 2019 -&amp;gt; ^Local version: 0.100.3 Recommended version: 0.101.2
Sun May  5 13:36:34 2019 -&amp;gt; DON&amp;#39;T PANIC! Read https://www.clamav.net/documents/upgrading-clamav
Sun May  5 13:36:34 2019 -&amp;gt; main.cvd is up to date (version: 58, sigs: 4566249, f-level: 60, builder: sigmgr)
Sun May  5 13:36:34 2019 -&amp;gt; daily.cvd is up to date (version: 25439, sigs: 1562310, f-level: 63, builder: raynman)
Sun May  5 13:36:34 2019 -&amp;gt; bytecode.cvd is up to date (version: 328, sigs: 94, f-level: 63, builder: neo)

$ sudo sed -i -e &amp;#34;s/^#NotifyClamd/NotifyClamd/g&amp;#34; /etc/clamav/freshclam.conf

$ sudo systemctl start clamav-freshclam&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;データベースの更新自体はうまく行ってるようだが &lt;code&gt;OUTDATED&lt;/code&gt; とか言われてるよ &lt;code&gt;orz&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;...見なかったことにしよう。&lt;/p&gt;

&lt;p&gt;なお &lt;code&gt;clamav-freshclam.service&lt;/code&gt; の状態を確認するには以下のコマンドを起動すればよい。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo systemctl status clamav-freshclam.service&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;toc_2&#34;&gt;手動で動作確認&lt;/h2&gt;

&lt;p&gt;Malware 対策ソフト用の無害なウイルス（笑）があるので，これを使って &lt;code&gt;clamscan&lt;/code&gt; コマンドで動作確認する。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ curl http://www.eicar.org/download/eicar.com -O

$ clamscan --infected --remove ./eicar.com
./eicar.com: Eicar-Test-Signature FOUND
./eicar.com: Removed.

----------- SCAN SUMMARY -----------
Known viruses: 6120222
Engine version: 0.100.3
Scanned directories: 0
Scanned files: 1
Infected files: 1
Data scanned: 0.00 MB
Data read: 0.00 MB (ratio 0.00:1)
Time: 20.181 sec (0 m 20 s)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;よーし，うむうむ，よーし。&lt;/p&gt;

&lt;h2 id=&#34;toc_3&#34;&gt;Scan On-Access の設定&lt;/h2&gt;

&lt;p&gt;ファイルアクセスへの常時監視を行う Scan On-Access を有効にするために &lt;code&gt;/etc/clamav/clamd.conf&lt;/code&gt; ファイルを修正する。
本当は &lt;code&gt;ScanOnAccess&lt;/code&gt; を &lt;code&gt;true&lt;/code&gt; にするだけでいい筈なのだが&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:rs1&#34;&gt;&lt;a href=&#34;#fn:rs1&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;，以下のコマンドで&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo systemctl status clamav-daemon.service&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;サービスの状態を確認すると以下のログを吐いて停止していた。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;ERROR: ScanOnAccess: fanotify_init failed: Operation not permitted
ScanOnAccess: clamd must be started by root&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;/etc/clamav/clamd.conf&lt;/code&gt; ファイルの他の部分にも手を入れる必要があるようだ。
以下に変更・追記が必要な項目を挙げておく。&lt;/p&gt;

&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;hl&#34;&gt;LocalSocketGroup root
&lt;/span&gt;&lt;span class=&#34;hl&#34;&gt;User root
&lt;/span&gt;&lt;span class=&#34;hl&#34;&gt;ScanOnAccess true
&lt;/span&gt;OnAccessMountPath /home/username
OnAccessExcludePath /home/username/nocheck
# VirusEvent /usr/local/bin/clamd-response
OnAccessPrevention false
OnAccessExtraScanning true
OnAccessExcludeUID 0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;最初の3行が変更が必要な項目，以降が追加項目である。
&lt;code&gt;OnAccessMountPath&lt;/code&gt; でスキャン対象のディレクトリを &lt;code&gt;OnAccessExcludePath&lt;/code&gt; で除外対象を指定する。
どちらも複数指定できる。&lt;/p&gt;

&lt;h3 id=&#34;toc_4&#34;&gt;VirusEvent が効かない！？&lt;/h3&gt;

&lt;p&gt;上の設定で &lt;code&gt;VirusEvent&lt;/code&gt; をコメントアウトしているが，どうやら 0.100 では Scan On-Access を有効にしても &lt;code&gt;VirusEvent&lt;/code&gt; の設定が効かないようなのだ（0.101 はどうなんだろう）。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;VirusEvent&lt;/code&gt; には malware を発見した際に起動するコマンドを指定するのだが，これが動かないってかなり致命的じゃないのか？&lt;/p&gt;

&lt;p&gt;次善の策として以下のスクリプトを書いて cron で回すことにした。
Malware を検出すれば画面に通知が表示されるはずである。
cron で回してるだけなのでタイムラグが発生する。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/bin/bash
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;logfile&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/home/username/.local/log/clamd-found.log&amp;#34;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; -r &lt;span class=&#34;nv&#34;&gt;$logfile&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
  &lt;span class=&#34;nv&#34;&gt;PRV_CNT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;cat &lt;span class=&#34;nv&#34;&gt;$logfile&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; wc -l&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
  &lt;span class=&#34;nv&#34;&gt;PRV_CNT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;CNT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;grep ScanOnAccess /var/log/syslog &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep FOUND &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep -v &lt;span class=&#34;s2&#34;&gt;&amp;#34;(null)&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; tee &lt;span class=&#34;nv&#34;&gt;$logfile&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; wc -l&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$CNT&lt;/span&gt; !&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$PRV_CNT&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
  &lt;span class=&#34;nv&#34;&gt;DATESTR&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;date&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
  sudo -u username &lt;span class=&#34;nv&#34;&gt;DISPLAY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;:0 &lt;span class=&#34;nv&#34;&gt;DBUS_SESSION_BUS_ADDRESS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;unix:path&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/run/user/1000/bus /usr/bin/notify-send -t &lt;span class=&#34;m&#34;&gt;10000&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$DATESTR&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; Virus Found &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$CNT&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ダサいけどしょうがない。
ちなみに &lt;code&gt;username&lt;/code&gt; の部分には cron を回すログインユーザ名を， &lt;code&gt;1000&lt;/code&gt; の部分にはそのユーザ ID をセットする&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:uid1&#34;&gt;&lt;a href=&#34;#fn:uid1&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;

&lt;h2 id=&#34;toc_5&#34;&gt;もう一度，動作確認&lt;/h2&gt;

&lt;p&gt;&lt;code&gt;clamav-daemon.service&lt;/code&gt; がうまく機能するか試してみよう。&lt;/p&gt;

&lt;p&gt;先ほどの無害なウイルス（笑）をダウンロードする。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ curl http://www.eicar.org/download/eicar.com -O&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;これでログ等を見て検知しているか確認する（上の通知も出れば完璧）。
確認できたらとっとと削除すること。&lt;/p&gt;

&lt;p&gt;今回は &lt;code&gt;clamdscan&lt;/code&gt; のほうを使ってみよう。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ clamdscan --infected --remove ./eicar.com
/home/spiegel/work/./eicar.com: Eicar-Test-Signature FOUND
/home/spiegel/work/./eicar.com: Removed.

----------- SCAN SUMMARY -----------
Infected files: 1
Time: 0.365 sec (0 m 0 s)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;圧倒的に速くなった。
まぁ，バックグラウンドにサービスがいるんだから当たり前だが（笑）&lt;/p&gt;

&lt;h2 id=&#34;toc_6&#34;&gt;Thunderbird と連携したかったが...&lt;/h2&gt;

&lt;p&gt;MUA である Thunderbird と連携できるアドオンがあると聞いたのだが&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://addons.thunderbird.net/ja/thunderbird/addon/clamdrib-lin/&#34;&gt;clamdrib LIN :: Thunderbird 向けアドオン&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;うまくインストールできない。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://addons.thunderbird.net/ja/thunderbird/addon/clamdrib-lin/&#34; title=&#34;clamdrib LIN :: Thunderbird 向けアドオン&#34;&gt;clamdrib LIN&lt;/a&gt; の最新バージョンは2017年のもので最近のバージョン 60 以降には対応してないっぽい（互換性チェック回避のオプションも試したがうまく行かなかった）。
諦めるしかないようだ。&lt;/p&gt;

&lt;p&gt;こんなんばっかだな ＞ &lt;a href=&#34;https://www.clamav.net/&#34; title=&#34;ClamavNet&#34;&gt;ClamAV&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;toc_7&#34;&gt;「ウイルス対策ソフト」は必要か？&lt;/h2&gt;

&lt;p&gt;なんだか知らないが「Linux にウイルス対策ソフトは必要か？」などという頭の悪い議論があるそうで，しかも「必要ない」という人の主張は「Linux ユーザは Windows や macOS に比べて規模が小さいから狙われにくい」という，これまた頭が悪いとしか言いようがないものらしい。&lt;/p&gt;

&lt;p&gt;「ウイルス」という表現は古臭くて的を得ていないので，この記事では色々ひっくるめて malware (malicious software) という表現に統一させてもらうが，ぶっちゃけて言うなら使っている OS にかかわらず「&lt;strong&gt;ユーザレベルでは malware 対策はセキュリティ管理の中核ではない&lt;/strong&gt;」というのが多分正しい。&lt;/p&gt;

&lt;p&gt;じゃあ malware 対策は必要ないのかと言えば「さにあらず」で，しかしそういったものは外部化され不可視になっている。
今どきの言葉で言うなら “Security as a Service” とでもいうような状況である。
そしてそのプラットフォーム OS として Linux 等のセキュリティ要件はむしろ高まっていると言えるだろう。
今回 &lt;a href=&#34;https://www.clamav.net/&#34; title=&#34;ClamavNet&#34;&gt;ClamAV&lt;/a&gt; を触ってみて感じたことだが，一般ユーザにとって &lt;a href=&#34;https://www.clamav.net/&#34; title=&#34;ClamavNet&#34;&gt;ClamAV&lt;/a&gt; がちょっと残念な感じになっているのはサーバ用途に最適化されつつあるからではないかと思うのだ。&lt;/p&gt;

&lt;p&gt;セキュリティのトレンドは「防衛」中心から「監視」中心にシフトしていて，単純に malware をバラ撒いただけではすぐに検知され対策されてしまう。
故に攻撃側も時間をかけてでも密やかに確実にターゲットを追い詰める social engineering を駆使した各種ターゲティング攻撃へとシフトしている。&lt;/p&gt;

&lt;p&gt;Phishing メールやそれに含まれる malware 検知などはサービスプロバイダが（有料のものも含めて）やってくれるし， Web についても Phishing サイトやマイニング・コード等を含んだサイトはブラウザレベルでかなりいい感じにブロックできるようになりつつある&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:ps1&#34;&gt;&lt;a href=&#34;#fn:ps1&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;。
そういう意味で私にとって malware 対策ソフトは「うっかり転んだときのための少額保険」みたいなもので，それ以外ではあまり出しゃばって欲しくなかったりする。&lt;/p&gt;

&lt;p&gt;実際にそれまで使ってた Windows 7 でも “Microsoft Security Essentials” で必要十分な性能だったし &lt;a href=&#34;https://www.clamav.net/&#34; title=&#34;ClamavNet&#34;&gt;ClamAV&lt;/a&gt; でも同程度の性能を満たしていれば，今回はそれでよかったのだ。
それがこんなに面倒臭いとは思わなかった。&lt;/p&gt;

&lt;p&gt;かといって malware 対策ソフトそのものに金銭は払いたくないし&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:fd1&#34;&gt;&lt;a href=&#34;#fn:fd1&#34;&gt;4&lt;/a&gt;&lt;/sup&gt;，もうしばらく運用してから評価してみるですよ。&lt;/p&gt;

&lt;h2 id=&#34;toc_8&#34;&gt;ブックマーク&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.tecmint.com/best-antivirus-programs-for-linux/&#34;&gt;The 8 Best Free Anti-Virus Programs for Linux&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://news.mynavi.jp/article/20170420-a074/&#34;&gt;Linux向けアンチウイルスソフト8選 | マイナビニュース&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://clamav-jp.osdn.jp/jdoc/clamav.html&#34;&gt;Clam Antivirusに関するメモ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://help.ubuntu.com/community/ClamAV&#34;&gt;ClamAV - Community Help Wiki&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://hnakamur.github.io/blog/2018/05/21/setup-clamav-on-ubuntu-mate-18.04-lts/&#34;&gt;ClamAVをUbuntu MATE 18.04 LTSにセットアップ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://lab4ict.com/system/archives/934&#34;&gt;Ubuntu 18.04 LTS DesktopでClamAVによるウィルスチェックを実行 – LAB4ICT&lt;/a&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://wiki.archlinux.org/index.php/ClamAV&#34;&gt;ClamAV - ArchWiki&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://www.sophos.com/en-us/products/free-tools/sophos-antivirus-for-linux.aspx&#34;&gt;Free Linux Malware Scanner | Lightweight Agent for Linux Malware Detection and Removal | Sophos&lt;/a&gt; : &lt;a href=&#34;https://www.clamav.net/&#34; title=&#34;ClamavNet&#34;&gt;ClamAV&lt;/a&gt; がダメそうならこっちにする（笑）&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://qiita.com/gano/items/802519add83c524e3019&#34;&gt;Ubuntu16.04(さくらVPS)で１からcronの設定をし、pythonプログラムを定期実行する - Qiita&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;footnotes&#34;&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li id=&#34;fn:rs1&#34;&gt;サービスのリスタートには &lt;code&gt;sudo systemctl restart clamav-daemon.service&lt;/code&gt; とすればよい。
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:rs1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:uid1&#34;&gt;ユーザ ID が分からない場合は &lt;code&gt;id username&lt;/code&gt; とコマンドを打てば分かるだろう。
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:uid1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:ps1&#34;&gt;はっきり言ってフェイク・ニュースなんかより Phishing ページなどセキュリティ・リスクの高いコンテンツに対する監視の方にもっとリソースを割いてほしいのだけど。かといって中間車攻撃で暗号通信を覗き見るなんてのは論外だが。
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:ps1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:fd1&#34;&gt;Android 端末には &lt;a href=&#34;https://www.f-secure.com/en/home/products/freedome&#34;&gt;F-Secure 社の FREEDOME&lt;/a&gt; を入れている。 FREEDOME 自体は VPN ソフトだが malware 対策機能も付いていて追跡コードもある程度ブロックしてくれる優れもの。実はこれの Linux 版があれば買ってもよかったのだがなかったのだ。仮想ネットワークについては I2P を試してみるか，と思っていたりする。
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:fd1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</content>
	</entry><entry>
		<title>Go モジュールの依存関係を可視化するツール ggm v0.2.0 をリリースした</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/release/2019/05/ggm-0_2_0-is-released/" />
		<id>tag:text.Baldanders.info,2019-05-04:/release/2019/05/ggm-0_2_0-is-released/</id>
		<published>2019-05-04T09:09:55+00:00</published>
		<updated>2019-05-04T09:11:20+00:00</updated>
		<summary>前回作ったツールが思ったより有用なことに気がついて「これはちゃんとコードを書こう」と思い立った。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/spiegel/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">

&lt;p&gt;前回「&lt;a href=&#34;https://text.baldanders.info/release/2019/05/ggm/&#34;&gt;Go モジュールの依存関係を可視化するツールを作った&lt;/a&gt;」のだが，思ったより有用なことに気がついて「これはちゃんとコードを書こう」と思い立った。&lt;/p&gt;

&lt;p&gt;ちうわけで，リリースしました。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/spiegel-im-spiegel/ggm/releases/tag/v0.2.0&#34;&gt;Release v0.2.0 · spiegel-im-spiegel/ggm&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;今回はちゃんとバイナリも用意しているぞ（笑）&lt;/p&gt;

&lt;p&gt;使い方はこんな感じ。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ ggm -h
Usage:
  ggm [flags] [input file]

Flags:
  -c, --config string   Configuration file
      --debug           Debug flag
  -h, --help            help for ggm
  -v, --version         Output version of ggm&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&#34;https://text.baldanders.info/release/2019/05/ggm/&#34; title=&#34;Go モジュールの依存関係を可視化するツールを作った&#34;&gt;前回&lt;/a&gt;と異なるのは &lt;code&gt;-c&lt;/code&gt; オプションを付けたことか。
たとえば以下の内容で &lt;code&gt;ggm.toml&lt;/code&gt; というファイルを作って&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-toml&#34; data-lang=&#34;toml&#34;&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;node&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;nx&#34;&gt;fontname&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Inconsolata&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;以下のコマンドラインで DOT ファイルを生成すると&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ go mod graph | ggm -c ggm.toml
digraph G {
	ID = &amp;#34;G&amp;#34;;
	
	n1[fontname=&amp;#34;Inconsolata&amp;#34;,label=&amp;#34;github.com/spiegel-im-spiegel/ggm&amp;#34;];
	n2[fontname=&amp;#34;Inconsolata&amp;#34;,label=&amp;#34;github.com/BurntSushi/toml\nv0.3.1&amp;#34;];
	n3[fontname=&amp;#34;Inconsolata&amp;#34;,label=&amp;#34;github.com/emicklei/dot\nv0.9.3&amp;#34;];
	n4[fontname=&amp;#34;Inconsolata&amp;#34;,label=&amp;#34;github.com/spf13/cobra\nv0.0.3&amp;#34;];
	n5[fontname=&amp;#34;Inconsolata&amp;#34;,label=&amp;#34;github.com/spf13/pflag\nv1.0.3&amp;#34;];
	n6[fontname=&amp;#34;Inconsolata&amp;#34;,label=&amp;#34;github.com/spiegel-im-spiegel/gocli\nv0.9.5&amp;#34;];
	n7[fontname=&amp;#34;Inconsolata&amp;#34;,label=&amp;#34;golang.org/x/xerrors\nv0.0.0-20190410155217-1f06c39b4373&amp;#34;];
	n1-&amp;gt;n2;
	n1-&amp;gt;n3;
	n1-&amp;gt;n4;
	n1-&amp;gt;n5;
	n1-&amp;gt;n6;
	n1-&amp;gt;n7;
	
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;てな感じで &lt;code&gt;fontname&lt;/code&gt; 属性を仕込むことができる。
これを &lt;code&gt;dot&lt;/code&gt; コマンドに流し込むと&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ go mod graph | ggm -c ggm.toml | dot -Tpng -o ggm.png&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;ggm.png&#34;&gt;&lt;img src=&#34;./ggm.png&#34; srcset=&#34;./ggm.png 2380w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;ggm.png&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;ggm.png&#34;&gt;ggm.png&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;てな風にフォントを &lt;a href=&#34;https://www.levien.com/type/myfonts/inconsolata.html&#34;&gt;Inconsolata&lt;/a&gt; にすることができるのですよ（勿論あらかじめフォントがインストールされていることが条件ね）。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;-c&lt;/code&gt; オプションで指定するファイルは &lt;a href=&#34;https://github.com/toml-lang/toml&#34; title=&#34;toml-lang/toml: Tom&#39;s Obvious, Minimal Language&#34;&gt;TOML&lt;/a&gt; 形式で &lt;code&gt;node&lt;/code&gt; と &lt;code&gt;edge&lt;/code&gt; の属性を設定することができる。
ただし手抜き実装で属性名やその値の正しさについてはノーチェックなのでご注意を（つまり &lt;code&gt;key=value&lt;/code&gt; で表されるものなら何でも入る&lt;code&gt;w&lt;/code&gt;）。&lt;/p&gt;

&lt;p&gt;今回 &lt;a href=&#34;https://graphviz.gitlab.io/_pages/doc/info/lang.html&#34; title=&#34;The DOT Language&#34;&gt;DOT 言語&lt;/a&gt;用のビルダ・パッケージには &lt;a href=&#34;https://github.com/emicklei/dot&#34; title=&#34;emicklei/dot: Go package for writing descriptions using the Graphviz DOT language&#34;&gt;github.com/emicklei/dot&lt;/a&gt; を利用している。
シンプルな設計で（簡単な図であれば）使い勝手がよい。&lt;/p&gt;

&lt;p&gt;本当は本家の &lt;a href=&#34;https://golang.org/&#34; title=&#34;The Go Programming Language&#34;&gt;Go&lt;/a&gt; コンパイラが &lt;a href=&#34;https://graphviz.gitlab.io/_pages/doc/info/lang.html&#34; title=&#34;The DOT Language&#34;&gt;DOT 言語&lt;/a&gt;で吐いてくれればこんなの要らないんだけどねぇ。&lt;/p&gt;

&lt;h2 id=&#34;toc_0&#34;&gt;参考図書&lt;/h2&gt;

&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a class=&#34;item url&#34; href=&#34;https://www.amazon.co.jp/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9EGo-ADDISON-WESLEY-PROFESSIONAL-COMPUTING-Donovan/dp/4621300253?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=4621300253&#34;&gt;&lt;img src=&#34;https://images-fe.ssl-images-amazon.com/images/I/41meaSLNFfL._SL160_.jpg&#34; width=&#34;123&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl class=&#34;fn&#34;&gt;
    &lt;dt&gt;&lt;a href=&#34;https://www.amazon.co.jp/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9EGo-ADDISON-WESLEY-PROFESSIONAL-COMPUTING-Donovan/dp/4621300253?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=4621300253&#34;&gt;プログラミング言語Go (ADDISON-WESLEY PROFESSIONAL COMPUTING SERIES)&lt;/a&gt;&lt;/dt&gt;
    &lt;dd&gt;Alan A.A. Donovan, Brian W. Kernighan&lt;/dd&gt;
    &lt;dd&gt;柴田 芳樹 (翻訳)&lt;/dd&gt;
    &lt;dd&gt;丸善出版 2016-06-20&lt;/dd&gt;
    &lt;dd&gt;Book 単行本（ソフトカバー）&lt;/dd&gt;
    &lt;dd&gt;ASIN: 4621300253, EAN: 9784621300251&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;5&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;著者のひとりは（あの「バイブル」とも呼ばれる）通称 “K&amp;amp;R” の K のほうである。この本は Go 言語の教科書と言ってもいいだろう。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34; &gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2018-10-20&#34;&gt;2018-10-20&lt;/abbr&gt; (powered by &lt;a href=&#34;https://github.com/spiegel-im-spiegel/amazon-item&#34; &gt;amazon-item&lt;/a&gt; v0.2.0)&lt;/p&gt;
&lt;/div&gt;
</content>
	</entry>
</feed>
