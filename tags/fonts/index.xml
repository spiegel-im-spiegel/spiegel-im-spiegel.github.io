<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<feed xmlns="http://www.w3.org/2005/Atom" xmlns:cc="http://web.resource.org/cc/">
	<title>Fonts - text.Baldanders.info</title>
	<link rel="alternate" type="text/html" href="http://text.baldanders.info/tags/fonts/" />
	<link rel="self" type="application/atom+xml" href="http://text.baldanders.info/tags/fonts/index.xml" />
	<id>tag:text.Baldanders.info,2017-10-03:/tags</id>
	<updated>2017-10-03T20:10:56+09:00</updated>
	<subtitle>帰ってきた「しっぽのさきっちょ」</subtitle>
	<icon>http://text.baldanders.info//images/avatar.jpg</icon>
	<logo>http://text.baldanders.info//images/avatar.jpg</logo>
	<generator uri="https://gohugo.io/">Hugo 0.29</generator>

	
	<entry>
		<title>TeX 日本語環境で「源ノ角」フォントを使ってみた - remark</title>
		<link rel="alternate" type="text/html" href="http://text.baldanders.info/remark/2017/10/using-source-han-fonts-by-japanese-tex/" />
		<id>tag:text.Baldanders.info,2017-10-03:/remark/2017/10/using-source-han-fonts-by-japanese-tex/</id>
		<published>2017-10-03T20:10:56+09:00</published>
		<updated>2017-10-03T20:10:56+09:00</updated>
		<summary>第二弾は TeX で「源ノ角」フォントを使ってみる である。</summary>
		
			<author>
				<name>Spiegel</name>
				<uri>http://www.baldanders.info/spiegel/profile/</uri>
			</author>
			
	<link rel="cc:license" type="application/rdf+xml" href="http://creativecommons.org/licenses/by-sa/4.0/rdf" />


		
		<category term="remark" label="remark" scheme="http://text.baldanders.info/remark" />
		<content type="html" xml:lang="ja" xml:base="http://text.baldanders.info/">

&lt;p&gt;さて，&lt;a href=&#34;http://text.baldanders.info/remark/2017/09/install-tex-live-2017-for-windows/&#34;&gt;TeX Live 2017 インストール&lt;/a&gt;後の「$\mathrm{\TeX}$ で遊ぼう」第二弾は&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;$\mathrm{\TeX}$ で「源ノ角」フォントを使ってみる&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;である。&lt;/p&gt;

&lt;p&gt;「源ノ角」フォントとは「&lt;a href=&#34;https://github.com/adobe-fonts/source-han-sans&#34; title=&#34;adobe-fonts/source-han-sans: Source Han Sans | 思源黑体 | 思源黑體 | 源ノ角ゴシック | 본고딕&#34;&gt;源ノ角ゴシック&lt;/a&gt;（Source Han Sans）」および「&lt;a href=&#34;https://github.com/adobe-fonts/source-han-serif&#34; title=&#34;adobe-fonts/source-han-serif: Source Han Serif | 思源宋体 | 思源宋體 | 源ノ明朝 | 본명조&#34;&gt;源ノ明朝&lt;/a&gt;（Source Han Serif）」で構成される CJK 統一デザインの書体を指す。
「源ノ角」フォントは Adobe と Google が共同で開発していて，かつオープンソースで公開されている。
この成果の一部は Google により NOTO プロジェクトに取り込まれている。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.google.com/get/noto/&#34;&gt;Google Noto Fonts&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://developers-jp.googleblog.com/2014/07/noto.html&#34;&gt;Google Developers Japan: オープンソースの美しい Noto フォントファミリーに日本語、中国語、韓国語が加わりました。&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://developers-jp.googleblog.com/2017/04/noto-serif-cjk-is-here.html&#34;&gt;Google Developers Japan: Noto Serif CJK が登場！&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;いわゆる CJK 漢字圏の文字は漢字だけでも非常に数が多く ☂ や ☃ みたいな非漢字も合わせると想像するだけでも目眩がする。
開発に携われた方々には足を向けて寝られない（何処に足を向けたらいいのだろう&lt;code&gt;w&lt;/code&gt;）。
そして勿論，世の $\mathrm{\TeX}$nician たちがこれに指を咥えて見ているはずはないのだ。
なので私もその成果に便乗することにする。&lt;/p&gt;

&lt;p&gt;皆さん，ありがとう！&lt;/p&gt;

&lt;h2 id=&#34;install&#34;&gt;「源ノ角」フォントのインストール&lt;/h2&gt;

&lt;p&gt;早速インストールをはじめるが，&lt;a href=&#34;https://github.com/adobe-fonts/source-han-sans&#34; title=&#34;adobe-fonts/source-han-sans: Source Han Sans | 思源黑体 | 思源黑體 | 源ノ角ゴシック | 본고딕&#34;&gt;源ノ角ゴシック&lt;/a&gt;および&lt;a href=&#34;https://github.com/adobe-fonts/source-han-serif&#34; title=&#34;adobe-fonts/source-han-serif: Source Han Serif | 思源宋体 | 思源宋體 | 源ノ明朝 | 본명조&#34;&gt;源ノ明朝&lt;/a&gt;は GitHub で公開されている。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/adobe-fonts/source-han-sans&#34;&gt;adobe-fonts/source-han-sans: Source Han Sans | 思源黑体 | 思源黑體 | 源ノ角ゴシック | 본고딕&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/adobe-fonts/source-han-serif&#34;&gt;adobe-fonts/source-han-serif: Source Han Serif | 思源宋体 | 思源宋體 | 源ノ明朝 | 본명조&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;これらのリポジトリから最新リリース（zip または tar.gz ファイル）をダウンロードする。
1.6 から 2 GB ほどの巨大パッケージなのでダウンロードの際はご注意を。
取得したパッケージの内，今回使うのは &lt;code&gt;OTF/Japanese&lt;/code&gt; フォルダにある以下のファイルである。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/adobe-fonts/source-han-sans&#34; title=&#34;adobe-fonts/source-han-sans: Source Han Sans | 思源黑体 | 思源黑體 | 源ノ角ゴシック | 본고딕&#34;&gt;源ノ角ゴシック&lt;/a&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;SourceHanSans-ExtraLight.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SourceHanSans-Light.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SourceHanSans-Normal.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SourceHanSans-Regular.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SourceHanSans-Medium.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SourceHanSans-Bold.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SourceHanSans-Heavy.otf&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/adobe-fonts/source-han-serif&#34; title=&#34;adobe-fonts/source-han-serif: Source Han Serif | 思源宋体 | 思源宋體 | 源ノ明朝 | 본명조&#34;&gt;源ノ明朝&lt;/a&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;SourceHanSerif-ExtraLight.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SourceHanSerif-Light.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SourceHanSerif-Regular.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SourceHanSerif-Medium.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SourceHanSerif-SemiBold.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SourceHanSerif-Bold.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SourceHanSerif-Heavy.otf&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;それぞれのファイルの違いはウェイトの違いで，軽いものから昇順に並べている。
さらに各パッケージ内の &lt;code&gt;Resources&lt;/code&gt; フォルダにある以下の CMap ファイル&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:cmap1&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:cmap1&#34;&gt;1&lt;/a&gt;&lt;/sup&gt; も使用する。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/adobe-fonts/source-han-sans&#34; title=&#34;adobe-fonts/source-han-sans: Source Han Sans | 思源黑体 | 思源黑體 | 源ノ角ゴシック | 본고딕&#34;&gt;源ノ角ゴシック&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;UniSourceHanSansJP-UTF16-H&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/adobe-fonts/source-han-serif&#34; title=&#34;adobe-fonts/source-han-serif: Source Han Serif | 思源宋体 | 思源宋體 | 源ノ明朝 | 본명조&#34;&gt;源ノ明朝&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;UniSourceHanSerifJP-UTF16-H&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;これらのファイルを，以下のフォルダを作成して放り込む&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:fnt1&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:fnt1&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/adobe-fonts/source-han-sans&#34; title=&#34;adobe-fonts/source-han-sans: Source Han Sans | 思源黑体 | 思源黑體 | 源ノ角ゴシック | 본고딕&#34;&gt;源ノ角ゴシック&lt;/a&gt;： &lt;code&gt;{$TEXMFLOCAL}/fonts/opentype/adobe/sourcehansansjp/&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/adobe-fonts/source-han-serif&#34; title=&#34;adobe-fonts/source-han-serif: Source Han Serif | 思源宋体 | 思源宋體 | 源ノ明朝 | 본명조&#34;&gt;源ノ明朝&lt;/a&gt;： &lt;code&gt;{$TEXMFLOCAL}/fonts/opentype/adobe/sourcehanserifjp/&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;CMap ファイル： &lt;code&gt;{$TEXMFLOCAL}/fonts/cmap/sourcehanjp/&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ちなみに &lt;code&gt;$TEXMFLOCAL&lt;/code&gt; の場所は &lt;code&gt;kpsewhich&lt;/code&gt; コマンドで調べられる。
いつもの場所だね。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;s1f40&#34;&gt;$ kpsewhich -var-value=TEXMFLOCAL
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;C:/texlive/texmf-local&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;コピーできたら &lt;code&gt;mktexlsr&lt;/code&gt; コマンドを実行して &lt;code&gt;ls-R&lt;/code&gt; を更新しておくことを忘れずに。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;s1f40&#34;&gt;$ mktexlsr
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;mktexlsr: Updating C:/texlive/texmf-local/ls-R...
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;mktexlsr: Updated C:/texlive/texmf-local/ls-R.
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;mktexlsr: Updating C:/texlive/2017/texmf-config/ls-R...
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;mktexlsr: Updated C:/texlive/2017/texmf-config/ls-R.
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;mktexlsr: Updating C:/texlive/2017/texmf-var/ls-R...
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;mktexlsr: Updated C:/texlive/2017/texmf-var/ls-R.
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;mktexlsr: Updating C:/texlive/2017/texmf-dist/ls-R...
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;mktexlsr: Updated C:/texlive/2017/texmf-dist/ls-R.
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;mktexlsr: Done.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;これで「源ノ角」フォントのインストールは完了。
一応 &lt;code&gt;kpsewhich&lt;/code&gt; コマンドでインストールできたかどうか確認しておくとよい。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;s1f40&#34;&gt;$ kpsewhich SourceHanSerif-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;c:/texlive/texmf-local/fonts/opentype/adobe/sourcehanserifjp/SourceHanSerif-Regular.otf&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;h2 id=&#34;uplatex&#34;&gt;upLaTeX で「源ノ角」フォントを使ってみる&lt;/h2&gt;

&lt;p&gt;では文書ファイルを用意しよう。
こんな感じでどうだろうか。&lt;/p&gt;

&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;s1f40&#34;&gt;\documentclass[uplatex,a4paper]{jsarticle}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;s1f40&#34;&gt;\usepackage[deluxe]{otf}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;\begin{document}
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;{\mcfamily\ltseries ☂ は夜更け過ぎに ☃ へとかわるだろう。（明朝体・細字）}\par
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;{\mcfamily          ☂ は夜更け過ぎに ☃ へとかわるだろう。（明朝体・中字）}\par
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;{\mcfamily\bfseries ☂ は夜更け過ぎに ☃ へとかわるだろう。（明朝体・太字）}\par
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;{\gtfamily          ☂ は夜更け過ぎに ☃ へとかわるだろう。（ゴシック体・中字）}\par
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;{\gtfamily\bfseries ☂ は夜更け過ぎに ☃ へとかわるだろう。（ゴシック体・太字）}\par
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;{\gtfamily\ebseries ☂ は夜更け過ぎに ☃ へとかわるだろう。（ゴシック体・極太）}
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;森鷗外と内田百閒が髙島屋に行った。
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;\UTF{845B}飾区の\UTF{20BB7}野家  % 葛飾区の𠮷野家
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;\end{document}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;タイプセット処理は $\mathrm{up\LaTeX}$ を選択した。
$\mathrm{up\LaTeX}$ で処理したあと &lt;code&gt;dvipdfmx&lt;/code&gt; コマンドで PDF に変換しないといけないんだけど，「源ノ角」フォント用の map ファイルは &lt;a href=&#34;http://www.tug.org/texlive/&#34; title=&#34;TeX Live - TeX Users Group&#34;&gt;TeX Live&lt;/a&gt; 2017 には存在しないようなので，自前で用意しないといけない。
他の書体の map ファイルを参考に自作してみた（正しいかどうかわからないが）。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;s1f40&#34;&gt;% CID
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-cjml-h	Identity-H	SourceHanSerif-Light.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-cjml-v	Identity-V	SourceHanSerif-Light.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-cjmr-h	Identity-H	SourceHanSerif-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-cjmr-v	Identity-V	SourceHanSerif-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-cjmb-h	Identity-H	SourceHanSerif-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-cjmb-v	Identity-V	SourceHanSerif-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-cjgr-h	Identity-H	SourceHanSans-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-cjgr-v	Identity-V	SourceHanSans-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-cjgb-h	Identity-H	SourceHanSans-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-cjgb-v	Identity-V	SourceHanSans-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-cjge-h	Identity-H	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-cjge-v	Identity-V	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-cjmgr-h	Identity-H	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-cjmgr-v	Identity-V	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;% Unicode 90JIS
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujml-h	UniSourceHanSerifJP-UTF16-H	SourceHanSerif-Light.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujml-v	UniSourceHanSerifJP-UTF16-V	SourceHanSerif-Light.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujmr-h	UniSourceHanSerifJP-UTF16-H	SourceHanSerif-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujmr-v	UniSourceHanSerifJP-UTF16-V	SourceHanSerif-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujmb-h	UniSourceHanSerifJP-UTF16-H	SourceHanSerif-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujmb-v	UniSourceHanSerifJP-UTF16-V	SourceHanSerif-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujgr-h	UniSourceHanSansJP-UTF16-H	SourceHanSans-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujgr-v	UniSourceHanSansJP-UTF16-V	SourceHanSans-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujgb-h	UniSourceHanSansJP-UTF16-H	SourceHanSans-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujgb-v	UniSourceHanSansJP-UTF16-V	SourceHanSans-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujge-h	UniSourceHanSansJP-UTF16-H	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujge-v	UniSourceHanSansJP-UTF16-V	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujmgr-h	UniSourceHanSansJP-UTF16-H	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujmgr-v	UniSourceHanSansJP-UTF16-V	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;% Unicode JIS04
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujmln-h	UniJIS2004-UTF16-H	SourceHanSerif-Light.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujmln-v	UniJIS2004-UTF16-V	SourceHanSerif-Light.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujmrn-h	UniJIS2004-UTF16-H	SourceHanSerif-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujmrn-v	UniJIS2004-UTF16-V	SourceHanSerif-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujmbn-h	UniJIS2004-UTF16-H	SourceHanSerif-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujmbn-v	UniJIS2004-UTF16-V	SourceHanSerif-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujgrn-h	UniJIS2004-UTF16-H	SourceHanSans-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujgrn-v	UniJIS2004-UTF16-V	SourceHanSans-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujgbn-h	UniJIS2004-UTF16-H	SourceHanSans-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujgbn-v	UniJIS2004-UTF16-V	SourceHanSans-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujgen-h	UniJIS2004-UTF16-H	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujgen-v	UniJIS2004-UTF16-V	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujmgrn-h	UniJIS2004-UTF16-H	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;otf-ujmgrn-v	UniJIS2004-UTF16-V	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;% TEXT, 90JIS
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphminl-h	UniSourceHanSerifJP-UTF16-H	SourceHanSerif-Light.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphminl-v	UniSourceHanSerifJP-UTF16-V	SourceHanSerif-Light.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphminr-h	UniSourceHanSerifJP-UTF16-H	SourceHanSerif-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphminr-v	UniSourceHanSerifJP-UTF16-V	SourceHanSerif-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphminb-h	UniSourceHanSerifJP-UTF16-H	SourceHanSerif-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphminb-v	UniSourceHanSerifJP-UTF16-V	SourceHanSerif-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphgothr-h	UniSourceHanSansJP-UTF16-H	SourceHanSans-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphgothr-v	UniSourceHanSansJP-UTF16-V	SourceHanSans-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphgothb-h	UniSourceHanSansJP-UTF16-H	SourceHanSans-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphgothb-v	UniSourceHanSansJP-UTF16-V	SourceHanSans-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphgotheb-h	UniSourceHanSansJP-UTF16-H	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphgotheb-v	UniSourceHanSansJP-UTF16-V	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphmgothr-h	UniSourceHanSansJP-UTF16-H	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphmgothr-v	UniSourceHanSansJP-UTF16-V	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;% TEXT, JIS04
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphminln-h	UniJIS2004-UTF16-H	SourceHanSerif-Light.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphminln-v	UniJIS2004-UTF16-V	SourceHanSerif-Light.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphminrn-h	UniJIS2004-UTF16-H	SourceHanSerif-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphminrn-v	UniJIS2004-UTF16-V	SourceHanSerif-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphminbn-h	UniJIS2004-UTF16-H	SourceHanSerif-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphminbn-v	UniJIS2004-UTF16-V	SourceHanSerif-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphgothrn-h	UniJIS2004-UTF16-H	SourceHanSans-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphgothrn-v	UniJIS2004-UTF16-V	SourceHanSans-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphgothbn-h	UniJIS2004-UTF16-H	SourceHanSans-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphgothbn-v	UniJIS2004-UTF16-V	SourceHanSans-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphgothebn-h	UniJIS2004-UTF16-H	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphgothebn-v	UniJIS2004-UTF16-V	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphmgothrn-h	UniJIS2004-UTF16-H	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uphmgothrn-v	UniJIS2004-UTF16-V	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;urml	UniSourceHanSerifJP-UTF16-H	SourceHanSerif-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;urmlv	UniSourceHanSerifJP-UTF16-V	SourceHanSerif-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;ugbm	UniSourceHanSansJP-UTF16-H	SourceHanSans-Medium.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;ugbmv	UniSourceHanSansJP-UTF16-V	SourceHanSans-Medium.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uprml-h	UniSourceHanSerifJP-UTF16-H	SourceHanSerif-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uprml-v	UniSourceHanSerifJP-UTF16-V	SourceHanSerif-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;upgbm-h	UniSourceHanSansJP-UTF16-H	SourceHanSans-Medium.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;upgbm-v	UniSourceHanSansJP-UTF16-V	SourceHanSans-Medium.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;uprml-hq	UniJIS-UCS2-H	SourceHanSerif-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;upgbm-hq	UniJIS-UCS2-H	SourceHanSans-Medium.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;% TEXT, 90JIS
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hminl-h	H	SourceHanSerif-Light.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hminl-v	V	SourceHanSerif-Light.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hminr-h	H	SourceHanSerif-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hminr-v	V	SourceHanSerif-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hminb-h	H	SourceHanSerif-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hminb-v	V	SourceHanSerif-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hgothr-h	H	SourceHanSans-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hgothr-v	V	SourceHanSans-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hgothb-h	H	SourceHanSans-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hgothb-v	V	SourceHanSans-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hgotheb-h	H	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hgotheb-v	V	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hmgothr-h	H	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hmgothr-v	V	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;% TEXT, JIS04
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hminln-h	H	SourceHanSerif-Light.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hminln-v	V	SourceHanSerif-Light.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hminrn-h	H	SourceHanSerif-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hminrn-v	V	SourceHanSerif-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hminbn-h	H	SourceHanSerif-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hminbn-v	V	SourceHanSerif-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hgothrn-h	H	SourceHanSans-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hgothrn-v	V	SourceHanSans-Regular.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hgothbn-h	H	SourceHanSans-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hgothbn-v	V	SourceHanSans-Bold.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hgothebn-h	H	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hgothebn-v	V	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hmgothrn-h	H	SourceHanSans-Heavy.otf
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;hmgothrn-v	V	SourceHanSans-Heavy.otf&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;分かりにくいとは思うが，フォントの選択は以下のように対応付けている。&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;字体とウエイト&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;フォント名&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;明朝体・細字&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;SourceHanSerif-Light.otf&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;明朝体・中字&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;SourceHanSerif-Regular.otf&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;明朝体・太字&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;SourceHanSerif-Bold.otf&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;ゴシック体・中字&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;SourceHanSans-Regular.otf&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;ゴシック体・太字&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;SourceHanSans-Bold.otf&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;ゴシック体・極太&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;SourceHanSans-Heavy.otf&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;また &lt;code&gt;UniSourceHanSerifJP-UTF16-V&lt;/code&gt; や &lt;code&gt;UniSourceHanSansJP-UTF16-V&lt;/code&gt; という CMap ファイルは存在しないが，まぁ縦書きは使わないから，私。
縦書き用の CMap ファイルはネットを探したらあるかもしれない。
&lt;code&gt;UniJIS2004-UTF16-H&lt;/code&gt; や &lt;code&gt;UniJIS-UCS2-H&lt;/code&gt; は他のフォントの設定をそのまま流用してるけど，正しいのかどうかよく分からない。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;dvipdfmx&lt;/code&gt; コマンドで map ファイルを直接指定する必要があるため &lt;code&gt;.latexmkrc&lt;/code&gt; ファイルを以下のように設定した。&lt;/p&gt;

&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-perl&#34; data-lang=&#34;perl&#34;&gt;&lt;span class=&#34;s1770&#34;&gt;#!/usr/bin/env perl&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s7d0&#34;&gt;$latex&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;sfa0&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt; &lt;/span&gt;&lt;span class=&#34;sc1c&#34;&gt;&amp;#39;uplatex -synctex=1&amp;#39;&lt;/span&gt;&lt;span class=&#34;s1388&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s7d0&#34;&gt;$latex_silent&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt; &lt;/span&gt;&lt;span class=&#34;sfa0&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt; &lt;/span&gt;&lt;span class=&#34;sc1c&#34;&gt;&amp;#39;uplatex -synctex=1 -interaction=batchmode&amp;#39;&lt;/span&gt;&lt;span class=&#34;s1388&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s7d0&#34;&gt;$bibtex&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;sfa0&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt; &lt;/span&gt;&lt;span class=&#34;sc1c&#34;&gt;&amp;#39;upbibtex&amp;#39;&lt;/span&gt;&lt;span class=&#34;s1388&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s7d0&#34;&gt;$biber&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;sfa0&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt; &lt;/span&gt;&lt;span class=&#34;sc1c&#34;&gt;&amp;#39;biber --bblencoding=utf8 -u -U --output_safechars&amp;#39;&lt;/span&gt;&lt;span class=&#34;s1388&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;s1f40&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s7d0&#34;&gt;$dvipdf&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;sfa0&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt; &lt;/span&gt;&lt;span class=&#34;sc1c&#34;&gt;&amp;#39;dvipdfmx -z9 -V 4 -f sourcehanjp.map %O -o %D %S&amp;#39;&lt;/span&gt;&lt;span class=&#34;s1388&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s7d0&#34;&gt;$makeindex&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;sfa0&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt; &lt;/span&gt;&lt;span class=&#34;sc1c&#34;&gt;&amp;#39;mendex %O -o %D %S&amp;#39;&lt;/span&gt;&lt;span class=&#34;s1388&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s7d0&#34;&gt;$max_repeat&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;sfa0&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt; &lt;/span&gt;&lt;span class=&#34;sc80&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;s1388&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s7d0&#34;&gt;$pdf_mode&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;sfa0&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt; &lt;/span&gt;&lt;span class=&#34;sc80&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;s1388&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1770&#34;&gt;# generates pdf via dvipdfmx&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s7d0&#34;&gt;$pvc_view_file_via_temporary&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt; &lt;/span&gt;&lt;span class=&#34;sfa0&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt; &lt;/span&gt;&lt;span class=&#34;sc80&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;s1388&#34;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ようやく準備完了。
やっとビルドできるよ。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;s1f40&#34;&gt;$ latexmk otf-sample.tex&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;結果はこんな感じ。&lt;/p&gt;

&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://www.flickr.com/photos/spiegel/36799783933/&#34;&gt;&lt;img srcset=&#34;https://farm5.staticflickr.com/4480/36799783933_5636b7ff13.jpg 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;Output PDF by upLaTeX with Source Han Fonts (1)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://www.flickr.com/photos/spiegel/36799783933/&#34;&gt;Output PDF by upLaTeX with Source Han Fonts (1)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;ちなみに埋め込まれたフォントの状態は以下の通り。&lt;/p&gt;

&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://www.flickr.com/photos/spiegel/23617581598/&#34;&gt;&lt;img srcset=&#34;https://farm5.staticflickr.com/4445/23617581598_dabb14dddb_o.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;Output PDF by upLaTeX with Source Han Fonts (2)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://www.flickr.com/photos/spiegel/23617581598/&#34;&gt;Output PDF by upLaTeX with Source Han Fonts (2)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h2 id=&#34;lualatex&#34;&gt;LuaLaTeX で「源ノ角」フォントを使ってみる&lt;/h2&gt;

&lt;p&gt;さて，では同じことを $\mathrm{Lua\LaTeX}$-ja でやってみようと思う。&lt;/p&gt;

&lt;p&gt;さきほど&lt;a href=&#34;#install&#34;&gt;フォントファイルをインストールした&lt;/a&gt;が， $\mathrm{Lua\LaTeX}$ で使うにはそのままではダメで，以下のコマンドを実行しておく必要がある。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;s1f40&#34;&gt;$ luaotfload-tool --update&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;上手くいったかどうかは以下のコマンドで確認できる。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;s1f40&#34;&gt;$ luaotfload-tool --fuzzy --find=&amp;#34;sourcehanserif&amp;#34;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;luaotfload | resolve : Font &amp;#34;sourcehanserif&amp;#34; found!
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;luaotfload | resolve : Resolved file name &amp;#34;c:/texlive/texmf-local/fonts/opentype/adobe/sourcehanserifjp/sourcehanserif-regular.otf&amp;#34;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;では，文書ファイルを作ってみよう。&lt;/p&gt;

&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;s1f40&#34;&gt;\documentclass{ltjsarticle}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;s1f40&#34;&gt;\usepackage[sourcehan,deluxe]{luatexja-preset}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;s1f40&#34;&gt;\usepackage{luatexja-otf}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;\begin{document}
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;{\mcfamily\ltseries ☂ は夜更け過ぎに ☃ へとかわるだろう。（明朝体・細字）}\par
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;{\mcfamily          ☂ は夜更け過ぎに ☃ へとかわるだろう。（明朝体・中字）}\par
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;{\mcfamily\bfseries ☂ は夜更け過ぎに ☃ へとかわるだろう。（明朝体・太字）}\par
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;{\gtfamily          ☂ は夜更け過ぎに ☃ へとかわるだろう。（ゴシック体・中字）}\par
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;{\gtfamily\bfseries ☂ は夜更け過ぎに ☃ へとかわるだろう。（ゴシック体・太字）}\par
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;{\gtfamily\ebseries ☂ は夜更け過ぎに ☃ へとかわるだろう。（ゴシック体・極太）}
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;森鷗外と内田百閒が髙島屋に行った。
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;\UTF{845B}飾区の\UTF{20BB7}野家  % 葛飾区の𠮷野家
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;s1f40&#34;&gt;\end{document}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;code&gt;luatexja-preset&lt;/code&gt; パッケージでは「源ノ角」フォントを指定できる。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;s1f40&#34;&gt;\usepackage[sourcehan]{luatexja-preset}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;また &lt;code&gt;\UTF&lt;/code&gt; コマンドが使えるように &lt;code&gt;luatexja-otf&lt;/code&gt; パッケージを読み込んでいる。
いやぁ，すんごい楽ちん。&lt;/p&gt;

&lt;p&gt;タイプセットも前準備なしで簡単にできる（だだし，めがっさ遅い）。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;s1f40&#34;&gt;$ lualatex otf-sample.tex&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;結果は以下の通り。&lt;/p&gt;

&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://www.flickr.com/photos/spiegel/36800606433/&#34;&gt;&lt;img srcset=&#34;https://farm5.staticflickr.com/4489/36800606433_53eb6f2055.jpg 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;Output PDF by LuaLaTeX with Source Han Fonts (1)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://www.flickr.com/photos/spiegel/36800606433/&#34;&gt;Output PDF by LuaLaTeX with Source Han Fonts (1)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;んー。
ウェイトがさっきと違う？&lt;/p&gt;

&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://www.flickr.com/photos/spiegel/36800606553/&#34;&gt;&lt;img srcset=&#34;https://farm5.staticflickr.com/4502/36800606553_51b818871e_o.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;Output PDF by LuaLaTeX with Source Han Fonts (2)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://www.flickr.com/photos/spiegel/36800606553/&#34;&gt;Output PDF by LuaLaTeX with Source Han Fonts (2)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;いや，同じか。
まぁいいや。
「極太」なんてまず使わんし。&lt;/p&gt;

&lt;p&gt;他に気になることと言えば， $\mathrm{up\LaTeX}$ ＋ dvipdfmx のときもそうだったんだけど，「葛（U+845B）」の字形が JIS X 0213:2004 だよね。
どちらも &lt;code&gt;jis2004&lt;/code&gt; オプションは付けてないんだが。
やはり &lt;code&gt;jis2004&lt;/code&gt; オプションは相当特殊な気がする。
これからは JIS X 0213:2004 前提で考えて，むしろ &lt;code&gt;jis2000&lt;/code&gt; オプションを作ったほうがいいんじゃないだろうか。&lt;/p&gt;

&lt;p&gt;ま，それはともかく&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;時代は $\mathrm{Lua\TeX}$ で「源ノ角」フォント&lt;/strong&gt; ってことですね！&lt;/p&gt;

&lt;p&gt;ちなみに，&lt;a href=&#34;http://text.baldanders.info/remark/2017/10/lualatex-ja-on-cloud/&#34;&gt;前回&lt;/a&gt;紹介した &lt;a href=&#34;https://cloudlatex.io/&#34; title=&#34;Cloud LaTeX | Build your own LaTeX environment, in seconds&#34;&gt;Cloud LaTeX&lt;/a&gt; で同じことをしようとしたら「&lt;code&gt;sourcehan&lt;/code&gt; なんぞ知らん！」と怒られた（笑）&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/usr/local/texlive/2016/texmf-dist/tex/latex/fontspec/fontspec-luatex.sty
line 392
! LaTeX Error: Unknown option `sourcehan&#39; for package `fontspec-luatex&#39;.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;まぁしょうがないね。
&lt;a href=&#34;http://ipafont.ipa.go.jp/node26#ja&#34; title=&#34;IPAexフォント Ver.003.01(IPAexFont Ver.003.01) | IPAexフォント/IPAフォント&#34;&gt;IPAex&lt;/a&gt; が使えるのなら支障はないし。&lt;/p&gt;

&lt;h2 id=&#34;ブックマーク&#34;&gt;ブックマーク&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.typekit.com/alternate/source-han-sans-jp/&#34;&gt;The Typekit Blog | Source Han Sansの紹介：オープンソースのPan-CJK書体&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://source.typekit.com/source-han-serif/jp/&#34;&gt;源ノ明朝&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://jp.techcrunch.com/2016/10/08/20161006google-and-monotype-unveil-the-noto-projects-unified-font-for-all-languages/&#34;&gt;GoogleとMonotypeが全言語対応フォントのNotoを公開 | TechCrunch Japan&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://wired.jp/2017/04/08/noto-serif-cjk/&#34;&gt;日中韓に対応したグーグルの新フォント「Noto Serif CJK」は、なぜ生まれたか｜WIRED.jp&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://texwiki.texjp.org/?%E3%83%95%E3%82%A9%E3%83%B3%E3%83%88&#34;&gt;フォント - TeX Wiki&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://jb102.blogspot.jp/2017/04/11-luatex.html&#34;&gt;源ノ明朝/源ノ角ゴシックをLuaLaTeXで使用する (Windows)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://qiita.com/zr_tex8r/items/9dfeafecca2d091abd02&#34;&gt;upLaTeX文書で源ノ明朝／Noto Serif CJKを簡単に使う方法（最新のdvipdfmxとpxchfonを使用） - Qiita&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://internet.watch.impress.co.jp/www/column/ogata/index.htm&#34;&gt;小形克宏の「文字の海、ビットの舟」――文字コードが私たちに問いかけるもの&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;footnotes&#34;&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li id=&#34;fn:cmap1&#34;&gt;CMap とは Unicode 等の文字集合とフォントの CID (Character IDentifier) を対応付けるマッピング情報である。 Open Type フォントのフルセットは Unicode を含む複数の文字集合の字形を包括している。たとえば JIS X 0213 では「葛（U+845B）」の字について2000年版と現行の2004年版で字形が異なるという混乱があるが（厳密には例示字体で示される字の形が異なる。異体字のことではない）， Open Type フォント（のフルセット）はそういった差異も包括し CID で識別することができる。従って CMap は文字集合やそのバージョンごとに存在することになる。
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:cmap1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:fnt1&#34;&gt;&lt;code&gt;adobe&lt;/code&gt;, &lt;code&gt;sourcehansansjp&lt;/code&gt;, &lt;code&gt;sourcehanjp&lt;/code&gt; のフォルダ名には特に意味はなく，自分で管理しやすい名前にすればいいらしい。
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:fnt1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</content>
	</entry>
	
</feed>
