<feed xmlns="http://www.w3.org/2005/Atom" xmlns:cc="http://web.resource.org/cc/">
	<title>List of Samba [text.Baldanders.info]</title>
	<link rel="alternate" type="text/html" href="https://text.baldanders.info/tags/samba/" />
	<link rel="self" type="application/atom+xml" href="https://text.baldanders.info/tags/samba/index.xml" />
	<id>tag:text.Baldanders.info,2024-03-28:/tags</id>
	<updated>2024-03-28T22:59:51+09:00</updated>
	<subtitle>帰ってきた「しっぽのさきっちょ」</subtitle>
	<icon>https://text.baldanders.info/images/avatar.jpg</icon>
	<logo>https://text.baldanders.info/images/avatar.jpg</logo>

	<entry>
		<title>Chromebook を導入する 1</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2024/03/chromebook-1/" />
		<id>tag:text.Baldanders.info,2024-03-28:/remark/2024/03/chromebook-1/</id>
		<published>2024-03-28T13:59:51+00:00</published>
		<updated>2024-05-19T07:59:02+00:00</updated>
		<summary>「頑張ったご褒美」第2弾</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">&lt;p&gt;給与明細を見たら残業代が凄いことになってたのですよ。
ちうわけで「頑張ったご褒美」第2弾。
ついに Chromebook を導入することにした。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2024/03/chromebook-1/&#34;&gt;Chromebook を導入する 1&lt;/a&gt; ← イマココ&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2024/04/chromebook-2/&#34;&gt;Chromebook を導入する 2 — Linux サブシステム&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2024/04/chromebook-3/&#34;&gt;Chromebook を導入する 3 — GnuPG &amp;amp; OpenSSH&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2024/04/chromebook-4/&#34;&gt;Chromebook を導入する 4 — Flatpak で Firefox を導入する&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2024/04/chromebook-5/&#34;&gt;Chromebook を導入する 5 — APT で Firefox を導入する&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2024/05/chromebook-6/&#34;&gt;Chromebook を導入する 6 — Git &amp;amp; Go コンパイラ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2024/05/chromebook-7/&#34;&gt;Chromebook を導入する 7 — VS Code の導入&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;「頑張ったご褒美」にノートPCを物色中&lt;/h2&gt;
&lt;p&gt;私は（当時の）東芝の Dynabook が登場したばかりの頃にそれを持たされて，現地調整と称して客先に缶詰になったことが何度かあってノート PC にいいイメージがない。
（今で言うところの）ブラックの象徴だったり。
まぁ，でも，仕事以外のサイクリング等で出掛けた先で軽く調べ物とかできたらいいなぁ，とちょっと思い直した。
そんでノートPCの物色を始めたんだけど&amp;hellip;&lt;/p&gt;
&lt;p&gt;私がプライベートで使ってる&lt;a href=&#34;https://text.baldanders.info/remark/2022/10/messenger-bag/&#34; title=&#34;遅走り，早歩き&#34;&gt;メッセンジャーバッグ&lt;/a&gt;はサイズ小さめで13インチ以下のノートPCしか入らないのね。
なのでその線で探してみたんだけど，
15インチノートPCのほうが断然安いってどういうことやねん！ 進学・就職・異動の季節で各メーカーが安売りしてるみたいだけど，13インチノートPCは恩恵を受けられないようだ。
中古PCは前に酷い目にあったので買いたくないし。&lt;/p&gt;
&lt;p&gt;&amp;hellip;などとしばらく悩んで「そうだ！ Chromebook なら要件を満たすんじゃね？」と気がついた。
しかも想定よりだいぶ安上がりになるし（笑）&lt;/p&gt;
&lt;h2&gt;Chromebook / ChromeOS とは&lt;/h2&gt;
&lt;p&gt;今更だけど，念のために記しておく。&lt;/p&gt;
&lt;p&gt;Chromebook は ChromeOS を搭載したパソコンである。
日本円で数万円程度の廉価 PC として提供されていることが多い。&lt;/p&gt;
&lt;p&gt;ChromeOS は，もの凄く簡単に言うと， Chrome ブラウザを GUI とした OS である。
したがって，基本的に ChromeOS のアプリケーションは Chrome ブラウザの拡張機能として実装されている（&lt;a href=&#34;https://chromewebstore.google.com/&#34;&gt;Chrome ウェブストア&lt;/a&gt;から導入可能）。
ただし，近年の ChromeOS は Android と Linux のサブシステムを標準で装備している。&lt;/p&gt;
&lt;p&gt;つまり Chromebook では Chrome ベースのアプリと Andorid アプリと Linux のアプリケーションが動くわけだ。
これならネットワーク端末としては申し分ないだろう。&lt;/p&gt;
&lt;h2&gt;Chromebook を購入した&lt;/h2&gt;
&lt;p&gt;前述したように，今回は13インチ以下のノートPCという縛りがある。
あちこち探し回って疲れたので Amazon にあるものから選択することにした。
日和ったとも言う（笑）&lt;/p&gt;
&lt;p&gt;要件を満たす候補として &lt;a href=&#34;https://www.amazon.co.jp/gp/product/B0BKKF7JHV?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;ASUS 製&lt;/a&gt;と &lt;a href=&#34;https://www.amazon.co.jp/dp/B0CNSWLJFM?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;Lenovo 製&lt;/a&gt;の2つまで絞り込んだ。
&lt;a href=&#34;https://www.amazon.co.jp/dp/B0CNSWLJFM?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;Lenovo 製&lt;/a&gt;のほうが安くて軽くてストレージ容量が大きいのだが，私が ASUS のほうが好みなのとメモリ容量が大きいということで &lt;a href=&#34;https://www.amazon.co.jp/gp/product/B0BKKF7JHV?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;ASUS 製&lt;/a&gt;に決めた。
ストレージは後から調達できるからね&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;p&gt;というわけで到着。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;&lt;a href=&#34;https://www.flickr.com/photos/spiegel/53614190956/&#34;&gt;&lt;img src=&#34;./53614190956_f3a103a7a4_e.jpg&#34; srcset=&#34;./53614190956_f3a103a7a4_e.jpg 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;先月の汗と涙とストレスと（削られた）睡眠時間の対価 | Flickr&#34; loading=&#34;lazy&#34;&gt;&lt;/a&gt;&lt;figcaption&gt;&lt;div&gt;&lt;a href=&#34;https://www.flickr.com/photos/spiegel/53614190956/&#34;&gt;先月の汗と涙とストレスと（削られた）睡眠時間の対価 | Flickr&lt;/a&gt;&lt;/div&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;早速開梱してセットアップを始める。
以降は作業中の覚え書である。&lt;/p&gt;
&lt;h2&gt;ChromeVox ？&lt;/h2&gt;
&lt;p&gt;セットアップが始まって最初に ChromeVox を有効にするか訊かれる。
ChromeVox って何？&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://support.google.com/chromebook/answer/7031755?hl=ja&#34;&gt;組み込みのスクリーン リーダーを使用する - Chromebook ヘルプ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;んー。
どうやら視覚障害者のためのスクリーンリーダーらしい。
いや，それならそうとちゃんと説明してくれ。
分かんないからググったやんけ。&lt;/p&gt;
&lt;p&gt;ありがたいことに私は&lt;a href=&#34;https://text.baldanders.info/remark/2021/08/age-of-reading-glasses/&#34; title=&#34;老眼鏡の季節&#34;&gt;眼鏡があれば普通に見える&lt;/a&gt;ので，今回はスルーした。&lt;/p&gt;
&lt;h2&gt;PIN コードを設定する&lt;/h2&gt;
&lt;p&gt;そんなこんなでセットアップも無事完了して，色々と弄り始めたのだが，スクリーンロックからの復帰とか，ことあるごとに Google アカウントのパスワードを入れさせようとするのね。
いや，パスワードは覚えない主義なので，それじゃ困るわけさ。
せめて PIN コードの設定とかできないの？ と探してみたらあった。&lt;/p&gt;
&lt;p&gt;設定から「セキュリティとプライバシー」を選択し，さらに「ロック画面とログイン」を開く。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;&lt;a href=&#34;./setting-pin-code.png&#34;&gt;&lt;img src=&#34;./setting-pin-code.png&#34; srcset=&#34;./setting-pin-code.png 1100w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;ロック画面とログイン&#34; loading=&#34;lazy&#34;&gt;&lt;/a&gt;&lt;figcaption&gt;&lt;div&gt;&lt;a href=&#34;./setting-pin-code.png&#34;&gt;ロック画面とログイン&lt;/a&gt;&lt;/div&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;設定後の状態ですまん。&lt;/p&gt;
&lt;p&gt;あとで調べたら，最初のセットアップのときに PIN コードも設定させるみたいなのだが，そんな画面あったかな？ まぁ，いいや。
無事に PIN コードが設定できたのでよしとする。&lt;/p&gt;
&lt;h2&gt;Dropbox を Files アプリにマウントする&lt;/h2&gt;
&lt;p&gt;Chromebook に標準で入ってる「ファイル（Files）」アプリはかなり出来がよくて，最初から Google Drive がマウントされた状態になっている。
ただ，私の場合はクラウドストレージは Dropbox を常用してるのね。
調べてみたら Dropbox も Google Drive のように Files にマウントできるようだ&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://help.dropbox.com/ja-jp/integrations/google-files-app&#34;&gt;Chromebook の Files アプリに Dropbox を追加する - Dropbox ヘルプ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;といっても全然難しくなく Android アプリの Dropbox アプリを導入してサインインすればいいらしい。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://play.google.com/store/apps/details?id=com.dropbox.android&amp;amp;hl=en_US&#34;&gt;Dropbox: Secure Cloud Storage - Apps on Google Play&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;これで自動的に Files に Dropbox が表示される。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;&lt;a href=&#34;./dropbox-in-files.png&#34;&gt;&lt;img src=&#34;./dropbox-in-files.png&#34; srcset=&#34;./dropbox-in-files.png 1100w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;Dropbox をマウントする&#34; loading=&#34;lazy&#34;&gt;&lt;/a&gt;&lt;figcaption&gt;&lt;div&gt;&lt;a href=&#34;./dropbox-in-files.png&#34;&gt;Dropbox をマウントする&lt;/a&gt;&lt;/div&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;もし，いつまで待っても Dropbox が表示されないなら，一度再起動すると上手く行くことがある。&lt;/p&gt;
&lt;h2&gt;NAS 共有ディレクトリを Files アプリにマウントする&lt;/h2&gt;
&lt;p&gt;更に Files では SMB プロトコルで NAS の共有ディレクトリもマウントできるようだ。
設定から 詳細設定 → ファイル → ネットワークファイル共有 → ファイル共有を追加 と辿ると設定画面が表示される。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;&lt;a href=&#34;./shared-directory.png&#34;&gt;&lt;img src=&#34;./shared-directory.png&#34; srcset=&#34;./shared-directory.png 1100w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;ファイル共有を追加&#34; loading=&#34;lazy&#34;&gt;&lt;/a&gt;&lt;figcaption&gt;&lt;div&gt;&lt;a href=&#34;./shared-directory.png&#34;&gt;ファイル共有を追加&lt;/a&gt;&lt;/div&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;「ファイル共有 URL」に共有ディレクトリを &lt;code&gt;\\server\shared_directory&lt;/code&gt; または &lt;code&gt;smb://server/shared_directory&lt;/code&gt; 形式で指定し，ユーザ名とパスワードをセットする。&lt;/p&gt;
&lt;p&gt;ちなみに今回買った ASUS の Chromebook ではキーボード右上の &lt;span class=&#34;box&#34;&gt; ¥ &lt;/span&gt; キーと右下の &lt;span class=&#34;box&#34;&gt; &lt;code&gt;\&lt;/code&gt; &lt;/span&gt; キーに割り当てられている文字コードが正しく ¥ (&lt;code&gt;U+00A5&lt;/code&gt;) と &lt;code&gt;\&lt;/code&gt; (&lt;code&gt;U+005C&lt;/code&gt;) になっていた。
ちょっとしたことなんだけど時代を感じるねぇ。&lt;/p&gt;
&lt;h2&gt;Tailscale も設定できた&lt;/h2&gt;
&lt;p&gt;Andorid アプリの Tailscale アプリを導入することで tailscale にも対応できる。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://tailscale.com/kb/1267/install-chromebook&#34;&gt;Setting up Tailscale on a Chromebook · Tailscale Docs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://play.google.com/store/apps/details?id=com.tailscale.ipn&amp;amp;hl=en_US&#34;&gt;Tailscale - Apps on Google Play&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;当然ながらセットアップは &lt;a href=&#34;https://text.baldanders.info/remark/2021/10/tailscale-with-synology-nas/#android&#34; title=&#34;Android 端末に Tailscale をインストールする&#34;&gt;Android 版&lt;/a&gt;と同じ。
これで外から自宅 NAS に繋がるようになった。&lt;/p&gt;
&lt;p&gt;よーし，うむうむ，よーし。&lt;/p&gt;
&lt;h2&gt;その他のインストール&lt;/h2&gt;
&lt;p&gt;随時更新予定。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://play.google.com/store/apps/details?id=keepass2android.keepass2android&amp;amp;hl=en_US&#34;&gt;Keepass2Android Password Safe - Apps on Google Play&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;これで，最低限の環境は揃ったかな。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;&lt;a href=&#34;https://www.flickr.com/photos/spiegel/53613544342/&#34;&gt;&lt;img src=&#34;./53613544342_db09981a76_e.jpg&#34; srcset=&#34;./53613544342_db09981a76_e.jpg 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;とりあえず最低限のセットアップ完了 | Flickr&#34; loading=&#34;lazy&#34;&gt;&lt;/a&gt;&lt;figcaption&gt;&lt;div&gt;&lt;a href=&#34;https://www.flickr.com/photos/spiegel/53613544342/&#34;&gt;とりあえず最低限のセットアップ完了 | Flickr&lt;/a&gt;&lt;/div&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;自宅 Linux/Ubuntu 機と壁紙を合わせてみた。&lt;/p&gt;
&lt;p&gt;次回からいよいよ Linux サブシステムのセットアップを行う。&lt;/p&gt;
&lt;h2&gt;【2024-05-19 追記】 外部モニタを繋ぐ&lt;/h2&gt;
&lt;p&gt;最近よく利用する&lt;a href=&#34;https://enun.jp/&#34; title=&#34;enun（縁雲）・ホテル一体のワーキングスペース&#34;&gt;コワーキングスペース&lt;/a&gt;では24インチモニタを貸し出してくれるのだが，HDMI でしか繋がらないので USB-C から HDMI に変換する仕掛けが必要だった。&lt;/p&gt;
&lt;p&gt;というわけで，以下を購入した。&lt;/p&gt;
&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a href=&#34;https://www.amazon.co.jp/dp/B07KJWYQJW?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;&lt;img src=&#34;https://m.media-amazon.com/images/I/41eb8MUNhHL._SL160_.jpg&#34; width=&#34;118&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl&gt;
    &lt;dt class=&#34;item&#34;&gt;&lt;a class=&#34;fn url&#34; href=&#34;https://www.amazon.co.jp/dp/B07KJWYQJW?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;Anker PowerExpand&amp;#43; 7-in-1 USB-C PD メディア ハブ 85Wパススルー充電 Power Delivery USB-Cポート HDMI USB-Aポート&lt;/a&gt;&lt;/dt&gt;
    &lt;dd&gt;Anker&lt;/dd&gt;
    &lt;dd&gt;&lt;/dd&gt;
    &lt;dd&gt;B07KJWYQJW (ASIN), 0848061003871 (EAN), 848061003871 (UPC)&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;4&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;far fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;購入した Chromebook と周辺機器を繋ぐために購入。 USB-C は電源用（Power Delivery 対応）とデータ用の口がある。 HDMI の口もありモニタと繋ぐこともできる。 USB-DAC も繋がる。助かる。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34;&gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2024-05-06&#34;&gt;2024-05-06&lt;/abbr&gt; (powered by &lt;a href=&#34;https://affiliate.amazon.co.jp/assoc_credentials/home&#34;&gt;PA-APIv5&lt;/a&gt;)&lt;/p&gt;
&lt;/div&gt; &lt;!-- ANKER PowerExpand USB メディアハブ --&gt;
&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a href=&#34;https://www.amazon.co.jp/dp/B088R6SV4Z?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;&lt;img src=&#34;https://m.media-amazon.com/images/I/21FZeGqa-qL._SL160_.jpg&#34; width=&#34;128&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl&gt;
    &lt;dt class=&#34;item&#34;&gt;&lt;a class=&#34;fn url&#34; href=&#34;https://www.amazon.co.jp/dp/B088R6SV4Z?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;Anker PowerPort III 65W Pod (PD 充電器 USB-C) 【PPS規格対応/PD対応/PowerIQ 3.0 (Gen2) 搭載/PSE技術基準適合/折りたたみ式プラグ】MacBook Pro MacBook Air iPad Pro iPhone Galaxy Android各種 その他USB-C機器対応 (ホワイト)&lt;/a&gt;&lt;/dt&gt;
    &lt;dd&gt;Anker&lt;/dd&gt;
    &lt;dd&gt;&lt;/dd&gt;
    &lt;dd&gt;B088R6SV4Z (ASIN), 0194644143329 (EAN), 194644143329 (UPC)&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;4&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;far fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;外出用PCの充電器として購入。 Power Delivery 対応。 65W で一番小さそうなサイズを選択。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34;&gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2024-05-18&#34;&gt;2024-05-18&lt;/abbr&gt; (powered by &lt;a href=&#34;https://affiliate.amazon.co.jp/assoc_credentials/home&#34;&gt;PA-APIv5&lt;/a&gt;)&lt;/p&gt;
&lt;/div&gt; &lt;!-- ANKER 充電器 Power Delivery (PD) 対応。65W --&gt;
&lt;p&gt;これで Chromebook を充電しつつ外部モニタと接続できそうだ。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;&lt;a href=&#34;https://www.flickr.com/photos/spiegel/53730877016/&#34;&gt;&lt;img src=&#34;./53730877016_c9f7878316_e.jpg&#34; srcset=&#34;./53730877016_c9f7878316_e.jpg 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;外部モニタと繋がった | Flickr&#34; loading=&#34;lazy&#34;&gt;&lt;/a&gt;&lt;figcaption&gt;&lt;div&gt;&lt;a href=&#34;https://www.flickr.com/photos/spiegel/53730877016/&#34;&gt;外部モニタと繋がった | Flickr&lt;/a&gt;&lt;/div&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;よし，成功。
今回購入した Chromebook は USB-C の口が2つあるのだが，モニタと繋げれるのは片方のみのようだ。
覚えておこう。&lt;/p&gt;
&lt;h2&gt;ブックマーク&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://support.google.com/chromebook/answer/10474268?hl=ja&#34;&gt;画面のスクリーンショットを撮影または録画する - Chromebook ヘルプ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://note.com/minakonono/n/n30b173adc169&#34;&gt;Chromebookを購入しました｜Mina&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://did2memo.net/2020/10/19/chromebook-dropbox-app-setup/&#34;&gt;【Chromebook】Dropboxを利用する方法（ファイルアプリからDropboxフォルダを利用できるようにする／Dropboxフォルダが表示されない場合の対処）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.lifehacker.jp/article/2404chromebook-vs-laptop-how-to-choose/&#34;&gt;ChromebookとノートPC、どっちが買い？ 使い方で決まる最適解 | ライフハッカー・ジャパン&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;参考&lt;/h2&gt;
&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a href=&#34;https://www.amazon.co.jp/dp/B0BKKF7JHV?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;&lt;img src=&#34;https://m.media-amazon.com/images/I/41OOqwWbGBL._SL160_.jpg&#34; width=&#34;160&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl&gt;
    &lt;dt class=&#34;item&#34;&gt;&lt;a class=&#34;fn url&#34; href=&#34;https://www.amazon.co.jp/dp/B0BKKF7JHV?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;【Amazon.co.jp限定】 ASUS Chromebook クロームブック Flip CX1 11.6インチ 2-in-1 タッチスクリーン 日本語キーボード 重量1.32kg トランスペアレントシルバー CX1102FKA-MK0037&lt;/a&gt;&lt;/dt&gt;
    &lt;dd&gt;ASUS (Release 2022-11-04)&lt;/dd&gt;
    &lt;dd&gt;Personal Computers&lt;/dd&gt;
    &lt;dd&gt;B0BKKF7JHV (ASIN), 0195553939942 (EAN), 195553939942 (UPC)&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;4&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;far fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;ASUS 製 Chromebook。11.6インチディスプレイ，8GBメモリ，32GBストレージ。正直，ストレージはもう少し欲しかったがメモリ容量優先で選んだ。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34;&gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2024-03-27&#34;&gt;2024-03-27&lt;/abbr&gt; (powered by &lt;a href=&#34;https://affiliate.amazon.co.jp/assoc_credentials/home&#34;&gt;PA-APIv5&lt;/a&gt;)&lt;/p&gt;
&lt;/div&gt; &lt;!-- ASUS Chromebook --&gt;
&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a href=&#34;https://www.amazon.co.jp/dp/B0CH2X5LBX?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;&lt;img src=&#34;https://m.media-amazon.com/images/I/41Gbz-hLVTL._SL160_.jpg&#34; width=&#34;160&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl&gt;
    &lt;dt class=&#34;item&#34;&gt;&lt;a class=&#34;fn url&#34; href=&#34;https://www.amazon.co.jp/dp/B0CH2X5LBX?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;【 サンディスク 正規品 】 SanDisk microSDカード 128GB UHS-I Class10 10年間限定保証Ultra SDSQUAB-128G-GH3MA 新パッケージ&lt;/a&gt;&lt;/dt&gt;
    &lt;dd&gt;SanDisk (Release 2023-09-29)&lt;/dd&gt;
    &lt;dd&gt;Personal Computers&lt;/dd&gt;
    &lt;dd&gt;B0CH2X5LBX (ASIN), 0619659201579 (EAN), 619659201579 (UPC)&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;4&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;far fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;Chromebook の外部ストレージとして購入。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34;&gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2024-03-29&#34;&gt;2024-03-29&lt;/abbr&gt; (powered by &lt;a href=&#34;https://affiliate.amazon.co.jp/assoc_credentials/home&#34;&gt;PA-APIv5&lt;/a&gt;)&lt;/p&gt;
&lt;/div&gt; &lt;!-- micoroSD カード --&gt;
&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a href=&#34;https://www.amazon.co.jp/dp/B079MCPJGH?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;&lt;img src=&#34;https://m.media-amazon.com/images/I/41PXfQ8766L._SL160_.jpg&#34; width=&#34;156&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl&gt;
    &lt;dt class=&#34;item&#34;&gt;&lt;a class=&#34;fn url&#34; href=&#34;https://www.amazon.co.jp/dp/B079MCPJGH?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;CloudValley 0.6mm 超薄型 ウェブカメラカバー、メタルカメラカバー カメラ目隠し MacBook air・ノートパソコン・iMac・デスクトップ・PC・MacBook Pro・iPad・iPhone 8/7/6用、プライバシーウェブカメラプロテクション 【2本セット】ブラック&lt;/a&gt;&lt;/dt&gt;
    &lt;dd&gt;CloudValley&lt;/dd&gt;
    &lt;dd&gt;Personal Computers&lt;/dd&gt;
    &lt;dd&gt;B079MCPJGH (ASIN), 0654070887322 (EAN), 654070887322 (UPC)&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;4&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;far fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;ノートPCに見られるのが嫌なので目隠しした。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34;&gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2024-03-30&#34;&gt;2024-03-30&lt;/abbr&gt; (powered by &lt;a href=&#34;https://affiliate.amazon.co.jp/assoc_credentials/home&#34;&gt;PA-APIv5&lt;/a&gt;)&lt;/p&gt;
&lt;/div&gt; &lt;!-- カメラ 目隠し シャッター --&gt;
&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a href=&#34;https://www.amazon.co.jp/dp/B08LMYWKZD?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;&lt;img src=&#34;https://m.media-amazon.com/images/I/317ZXhs7GQL._SL160_.jpg&#34; width=&#34;160&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl&gt;
    &lt;dt class=&#34;item&#34;&gt;&lt;a class=&#34;fn url&#34; href=&#34;https://www.amazon.co.jp/dp/B08LMYWKZD?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;エレコム ワイヤレスマウス Bluetooth Slint M-TM10BBBU/EC 薄型 静音 4ボタン プレゼンモード機能付 Windows Mac Android iOS iPadOS FireOS対応 ネイビーブルー&lt;/a&gt;&lt;/dt&gt;
    &lt;dd&gt;エレコム(ELECOM) (Release 2020-11-24)&lt;/dd&gt;
    &lt;dd&gt;Personal Computers&lt;/dd&gt;
    &lt;dd&gt;B08LMYWKZD (ASIN), 4549550198189 (EAN)&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;4&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;far fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;静音マウスを使いだしたら普通のマウスがカチカチ煩いと感じるようになってしまい，仕方ないので Bluetooth 無線マウスも静音マウスに替えた。単三電池一本で駆動するの助かる。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34;&gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2024-04-13&#34;&gt;2024-04-13&lt;/abbr&gt; (powered by &lt;a href=&#34;https://affiliate.amazon.co.jp/assoc_credentials/home&#34;&gt;PA-APIv5&lt;/a&gt;)&lt;/p&gt;
&lt;/div&gt; &lt;!-- Bluetooth 無線静音マウス --&gt;
&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a href=&#34;https://www.amazon.co.jp/dp/B09BMPZ3BZ?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;&lt;img src=&#34;https://m.media-amazon.com/images/I/51Q5HoOI9xL._SL160_.jpg&#34; width=&#34;112&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl&gt;
    &lt;dt class=&#34;item&#34;&gt;&lt;a class=&#34;fn url&#34; href=&#34;https://www.amazon.co.jp/dp/B09BMPZ3BZ?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;Chromebook仕事術 最速で業務に生かす基本＋活用ワザ できるビジネスシリーズ&lt;/a&gt;&lt;/dt&gt;
    &lt;dd&gt;株式会社インサイトイメージ (著)&lt;/dd&gt;
    &lt;dd&gt;インプレス 2021-08-04 (Release 2021-08-04)&lt;/dd&gt;
    &lt;dd&gt;Kindle版&lt;/dd&gt;
    &lt;dd&gt;B09BMPZ3BZ (ASIN)&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;4&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;far fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;Chromebook の操作・設定の基本部分について一通り網羅している感じ。参考になった。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34;&gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2024-03-28&#34;&gt;2024-03-28&lt;/abbr&gt; (powered by &lt;a href=&#34;https://affiliate.amazon.co.jp/assoc_credentials/home&#34;&gt;PA-APIv5&lt;/a&gt;)&lt;/p&gt;
&lt;/div&gt; &lt;!-- Chromebook仕事術 --&gt;
&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a href=&#34;https://www.amazon.co.jp/dp/B08P54PQDB?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;&lt;img src=&#34;https://m.media-amazon.com/images/I/31yRFa0S-&amp;#43;L._SL160_.jpg&#34; width=&#34;160&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl&gt;
    &lt;dt class=&#34;item&#34;&gt;&lt;a class=&#34;fn url&#34; href=&#34;https://www.amazon.co.jp/dp/B08P54PQDB?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;[クローム] メッセンジャーバッグ SIMPLE MESSENGER/シンプル メッセンジャー BLACK (現行モデル) 12L 防水 メンズ&lt;/a&gt;&lt;/dt&gt;
    &lt;dd&gt;CHROME(クローム)&lt;/dd&gt;
    &lt;dd&gt;ウェア&amp;amp;シューズ&lt;/dd&gt;
    &lt;dd&gt;B08P54PQDB (ASIN), 0841916163973 (EAN), 841916163973 (UPC)&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;4&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;far fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;プライベートお出かけ用。たまたま安売りの時に購入できた。チャリンコ乗ってても背中がゆさゆさしない。大きすぎず丁度いいサイズ。鞄の蓋がマジックテープでちょっと煩いのが玉に瑕だが，概ね満足。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34;&gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2022-10-08&#34;&gt;2022-10-08&lt;/abbr&gt; (powered by &lt;a href=&#34;https://affiliate.amazon.co.jp/assoc_credentials/home&#34;&gt;PA-APIv5&lt;/a&gt;)&lt;/p&gt;
&lt;/div&gt; &lt;!-- メッセンジャーバッグ --&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;あとで調べたら，14インチノートPCであれば&lt;a href=&#34;https://www.asus.com/jp/laptops/for-home/chromebook/asus-chromebook-plus-cx34-cx3402/&#34; title=&#34;ASUS Chromebook Plus CX34 (CX3402) | Chromebook | 法人向けノートパソコン | ノートパソコン | ASUS日本&#34;&gt;ストレージ128GB の Chromebook モデル&lt;/a&gt;があった。ホンマに小さいPCって冷遇されてるのな。&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;
&lt;p&gt;あとで調べたら Box や OneDrive も Android アプリを使って Files にマウントできるらしい。今回は試さないが。&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</content>
	</entry><entry>
		<title>Ubuntu 21.10 へのアップグレード（本番）</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2021/11/upgrade-ubuntu-21_10-part-2/" />
		<id>tag:text.Baldanders.info,2021-11-06:/remark/2021/11/upgrade-ubuntu-21_10-part-2/</id>
		<published>2021-11-06T11:49:34+00:00</published>
		<updated>2021-11-13T01:33:39+00:00</updated>
		<summary>日本語入力は問題なし / mount.cifs で手こずる / GnuPG が古すぎる / OpenSSH と OpenSSL はこのままでいいか</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">&lt;p&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2021/10/upgrade-ubuntu-21_10/&#34; title=&#34;Ubuntu 21.10 へのアップグレードを試してみた&#34;&gt;前回&lt;/a&gt;の続き。&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.ubuntulinux.jp/News/ubuntu2110-ja-remix&#34; title=&#34;Ubuntu 21.10 日本語 Remix リリース | Ubuntu Japanese Team&#34;&gt;Ubuntu 21.10 日本語 Remix が登場&lt;/a&gt;したので，自宅のサブマシンに真っさらからインストールしてみたが，&lt;a href=&#34;https://text.baldanders.info/remark/2021/10/upgrade-ubuntu-21_10/&#34; title=&#34;Ubuntu 21.10 へのアップグレードを試してみた&#34;&gt;前回&lt;/a&gt;アレだった日本語周りも特に問題なく動いてる感じなので，いよいよメインマシンをアップグレードすることにした。&lt;/p&gt;
&lt;p&gt;アップグレード作業自体は滞りなく完了。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;日本語入力周りは問題なく動いている。 &lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; コミュニティのご尽力に感謝&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2021/10/upgrade-ubuntu-21_10/&#34; title=&#34;Ubuntu 21.10 へのアップグレードを試してみた&#34;&gt;前回&lt;/a&gt;書いたとおり Firefox は Snap 版になっていたが，こちらも問題なし。日本語フォント周りも壊れることなくちゃんと設定された&lt;/li&gt;
&lt;li&gt;Thunderbird が 91 系にアップグレードされている。今のところは特に問題なし&lt;/li&gt;
&lt;li&gt;LibreOffice が 7.2 系にアップグレードされている。 OpenPGP で暗号化したファイルもちゃんと開けるし，問題ないだろう&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://keepassxc.org/&#34; title=&#34;KeePassXC Password Manager&#34;&gt;KeePassXC&lt;/a&gt; は 21.10 リリース以降アップデートされてないため APT リポジトリを impish に切り替えれない（&lt;code&gt;apt update&lt;/code&gt; でワーニングが出る）しばらくは様子見か&lt;/li&gt;
&lt;li&gt;同じく &lt;a href=&#34;https://www.pgadmin.org/&#34; title=&#34;pgAdmin - PostgreSQL Tools&#34;&gt;pgAdmin4&lt;/a&gt; も 21.10 リリース以降アップデートされてないため APT リポジトリを impish に切り替えれない。こちらもしばらくは様子見&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Japanese Team の APT パッケージ・リポジトリは以下のコマンドで追加できる。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ sudo wget https://www.ubuntulinux.jp/ubuntu-jp-ppa-keyring.gpg -P /etc/apt/trusted.gpg.d/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ sudo wget https://www.ubuntulinux.jp/ubuntu-ja-archive-keyring.gpg -P /etc/apt/trusted.gpg.d/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ sudo wget https://www.ubuntulinux.jp/sources.list.d/impish.list -O /etc/apt/sources.list.d/ubuntu-ja.list
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;mount.cifs で手こずる&lt;/h2&gt;
&lt;p&gt;アップグレードして再起動したら NAS に接続できなくなったのには焦った。&lt;/p&gt;
&lt;p&gt;もしかしたら &lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; 21.04 以降で &lt;a href=&#34;https://kledgeb.blogspot.com/2021/04/ubuntu-2104-21-ubuntu-2104microsoft.html&#34; title=&#34;Ubuntu 21.04 その21 - Ubuntu 21.04登場・Microsoft Active Directoryとの連携やMicrosoft SQL Serverのサポート改善など - kledgeb&#34;&gt;Active Directory に対応&lt;/a&gt;したことが影響してるのかも知れないが， SMB でマウントする際の認証情報で &lt;code&gt;domain&lt;/code&gt; または &lt;code&gt;workgroup&lt;/code&gt; オプションでドメイン名またはワークグループ名を明示しないとダメぽいみたい。
でも，なんで前のバージョンで上手くいってたのか&amp;hellip;&lt;/p&gt;
&lt;p&gt;まぁ，でも，今は &lt;code&gt;/etc/fstab&lt;/code&gt; ファイルで設定するのは時代遅れみたいなので，見直しが必要かなぁ。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://forum.manjaro.org/t/root-tip-systemd-mount-unit-samples/1191&#34;&gt;[root tip] systemd mount unit samples - Tutorials - Manjaro Linux Forum&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;GnuPG が古すぎる&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://gnupg.org/&#34; title=&#34;The GNU Privacy Guard&#34;&gt;GnuPG&lt;/a&gt; は&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ gpg --version
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gpg (GnuPG) 2.2.20
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;libgcrypt 1.8.8
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Copyright (C) 2020 Free Software Foundation, Inc.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;License GPLv3+: GNU GPL version 3 or later &amp;lt;https://gnu.org/licenses/gpl.html&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;This is free software: you are free to change and redistribute it.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;There is NO WARRANTY, to the extent permitted by law.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Home: /home/username/.gnupg
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;サポートしているアルゴリズム:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;公開鍵: RSA, ELG, DSA, ECDH, ECDSA, EDDSA
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;暗号方式: IDEA, 3DES, CAST5, BLOWFISH, AES, AES192, AES256,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      TWOFISH, CAMELLIA128, CAMELLIA192, CAMELLIA256
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ハッシュ: SHA1, RIPEMD160, SHA256, SHA384, SHA512, SHA224
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;圧縮: 無圧縮, ZIP, ZLIB, BZIP2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;と，相変わらず古すぎる。
2.3 系にしないのは仕方ないとしても，せめて &lt;a href=&#34;https://text.baldanders.info/release/2021/10/gnupg-2_2_32-lts-is-released/&#34; title=&#34;GnuPG 2.2.32 (LTS) がリリースされた&#34;&gt;2.2.32&lt;/a&gt; 相当には上げておかないと拙いと思うのだが，その気配はないよね。&lt;/p&gt;
&lt;h2&gt;OpenSSH と OpenSSL はこのままでいいか&lt;/h2&gt;
&lt;p&gt;OpenSSH と OpenSSL は&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ssh -V
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;OpenSSH_8.4p1 Ubuntu-6ubuntu2, OpenSSL 1.1.1l  24 Aug 2021
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;となっている。
バックポート・パッチが当たっているはずなので，あまり気にしてない。
次の LTS バージョンである &lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; 22.04 では &lt;a href=&#34;https://kledgeb.blogspot.com/2021/10/ubuntu-2204-3-openssl-30.html&#34; title=&#34;Ubuntu 22.04 その3 - OpenSSL 3.0への移行計画 - kledgeb&#34;&gt;OpenSSL 3.0 に上げる&lt;/a&gt;らしいので，おとなしく待つことにしよう。&lt;/p&gt;
&lt;p&gt;やっぱ問題は &lt;a href=&#34;https://gnupg.org/&#34; title=&#34;The GNU Privacy Guard&#34;&gt;GnuPG&lt;/a&gt; だよな。
まぁ，サブマシンを真っさらの &lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; 機にできたので，これを使って &lt;a href=&#34;https://gnupg.org/&#34; title=&#34;The GNU Privacy Guard&#34;&gt;GnuPG&lt;/a&gt; 2.3 系の実験を始めるのもいいかも知れない。&lt;/p&gt;
&lt;h2&gt;ブックマーク&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://kledgeb.blogspot.com/2021/11/ubuntu-2110-34-ubuntu-2110-remix.html&#34;&gt;Ubuntu 21.10 その34 - Ubuntu 21.10 日本語 Remixがリリースされました・ディスクイメージのダウンロード - kledgeb&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2019/03/common-internet-file-system/&#34;&gt;CIFS 経由で NAS に接続する&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- eof --&gt;
</content>
	</entry><entry>
		<title>秋 NAS は俺に喰わせろ！</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2021/10/nas/" />
		<id>tag:text.Baldanders.info,2021-10-26:/remark/2021/10/nas/</id>
		<published>2021-10-26T14:50:36+00:00</published>
		<updated>2021-11-14T07:13:40+00:00</updated>
		<summary>金曜の夜にポチって中1日で届くとは思わざりき（笑）</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">&lt;p&gt;勤務先で LAN 上の NAS やクラウド・ストレージの構成を見直す動きが出ていて「そういや私が簡易 NAS を導入したのっていつだっけ？」と過去記事を漁ってみたら3年半も前だったよ。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2018/04/nas/&#34;&gt;NAS を導入した&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;その半年後に&lt;a href=&#34;https://text.baldanders.info/remark/2018/12/i-am-a-sunday-programmer/&#34; title=&#34;どうも，日曜プログラマの Spiegel です&#34;&gt;田舎に&lt;ruby&gt;&lt;rb&gt;帰郷&lt;/rb&gt;&lt;rp&gt; (&lt;/rp&gt;&lt;rt&gt;かえ&lt;/rt&gt;&lt;rp&gt;) &lt;/rp&gt;&lt;/ruby&gt;る羽目になった&lt;/a&gt;のだが，当時は Windows を捨てる準備に入ろうかというところで，バックアップと書き戻し用に（OS を跨いで）アクセスできる共有ストレージが欲しかったんだよね。&lt;/p&gt;
&lt;p&gt;導入して良かった点は LAN 上の NAS とクラウド・ストレージ・サービスを連携させることで，そこそこ安全で快適な環境を手に入れられたことだろう。
とはいえ RAID 0 すら組んでない簡易設備でこのまま運用を続けるのはもう限界だろうと思い直したわけだ。&lt;/p&gt;
&lt;p&gt;で，まぁ，あれこれ迷った挙句に買ったのは &lt;a href=&#34;https://www.synology.com/ja-jp/products/DS220j&#34; title=&#34;DS220j | Synology Inc.&#34;&gt;Synology DS220j&lt;/a&gt; ってやつ。
今回も&lt;a href=&#34;https://www.dospara.co.jp/&#34;&gt;ドスパラ&lt;/a&gt;さんのお世話になりました。
&lt;a href=&#34;https://www.dospara.co.jp/5shopping/detail_set.php?bg=&amp;amp;br=&amp;amp;sbr=&amp;amp;camp=1804&amp;amp;ft=synology&amp;amp;lf=2&#34; title=&#34;【HDD+ドライブケース】Synology NAS + 選べる W.D HDD 3点セット｜｜｜通販のドスパラ&#34;&gt;HDD 2基と3点セット&lt;/a&gt;になってるやつをポチった。&lt;/p&gt;
&lt;p&gt;本当はポチってから数日あけて来ることを想定してたんだけど，金曜の夜にポチって中1日で（松江みたいな片田舎まで）届くとは思わざりき（笑）&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;&lt;a href=&#34;https://www.flickr.com/photos/spiegel/51625630824/&#34;&gt;&lt;img src=&#34;./51625630824_e1ae072032_e.jpg&#34; srcset=&#34;./51625630824_e1ae072032_e.jpg 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;秋 NAS 来た！ | Flickr&#34; loading=&#34;lazy&#34;&gt;&lt;/a&gt;&lt;figcaption&gt;&lt;div&gt;&lt;a href=&#34;https://www.flickr.com/photos/spiegel/51625630824/&#34;&gt;秋 NAS 来た！ | Flickr&lt;/a&gt;&lt;/div&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;ありがたいことに「NAS 初心者ガイド」という日本語の冊子がついていた。
これのおかげでセットアップ自体は比較的スムーズにできた。
ブラウザで Web Assistant を開いたときに最初はうまく検出できなかったくらい（ブラウザを立ち上げ直したら上手くいった）かな？&lt;/p&gt;
&lt;h2&gt;RAID (Redundant Arrays of Inexpensive Disks)&lt;/h2&gt;
&lt;p&gt;RAID は SHR (Synology Hybrid RAID) にした。
RAID 1 とかだと ストレージの容量やメーカーを揃える必要があるが， SHR はその辺は柔軟に運用できるらしい。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://kb.synology.com/ja-jp/DSM/tutorial/What_is_Synology_Hybrid_RAID_SHR&#34;&gt;Synology Hybrid RAID（SHR）とは？ - Synology ナレッジセンター&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;QuickConnect は無効にした&lt;/h2&gt;
&lt;p&gt;最初は Synology アカウントを取得して QuickConnect も使ってたんだが，どうにも気持ち悪いので QuickConnect はいったん無効にした。
Synology アカウントは有効にしてるので，必要になったらまた復活させればいいだろう。&lt;/p&gt;
&lt;p&gt;VPN 接続は &lt;a href=&#34;https://www.synology.com/ja-jp/dsm/packages/Tailscale?os_ver=7.0&#34; title=&#34;Tailscale - アドオン パッケージ | Synology Inc.&#34;&gt;Tailscale&lt;/a&gt; を検討中&amp;hellip;&lt;/p&gt;
&lt;h2&gt;Ubuntu ファイルマネージャから SMB サービスに入れない&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; 標準のファイルマネージャ（&lt;code&gt;nautilus&lt;/code&gt;）は LAN 上の Windows 共有フォルダや &lt;a href=&#34;https://www.samba.org/&#34; title=&#34;Samba - opening windows to a wider world&#34;&gt;Samba&lt;/a&gt; サービスを自動的に検出・表示してくれる。
&lt;a href=&#34;https://www.synology.com/ja-jp/products/DS220j&#34; title=&#34;DS220j | Synology Inc.&#34;&gt;DS220j&lt;/a&gt; も SMB (Server Message Block) が使えるので Windows ネットワークと同じように表示されるんだけど，クリックしても何故か入れないのよね。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;&lt;a href=&#34;./samba-error.png&#34;&gt;&lt;img src=&#34;./samba-error.png&#34; srcset=&#34;./samba-error.png 626w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/a&gt;&lt;/figure&gt;
&lt;p&gt;なんやねん「無効な引数」て &lt;code&gt;orz&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;これは現在に至るも改善しない（理由がわからないので）。
ただし &lt;code&gt;mount.cifs&lt;/code&gt; でマウントはできるし &lt;code&gt;/etc/fstab&lt;/code&gt; ファイルへの記述もちゃんと効いたので実害はない。
多分ファイルマネージャ側の問題なんだろうなぁ。
CIFS 経由で NAS に接続する方法は以下の通り。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2019/03/common-internet-file-system/&#34;&gt;CIFS 経由で NAS に接続する&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ちなみに Android の &lt;a href=&#34;https://play.google.com/store/apps/details?id=com.skyjos.apps.fileexplorer&#34; title=&#34;File Explorer Pro - file manager and file transfer - Google Play&#34;&gt;FE File Explorer Pro&lt;/a&gt; からは普通に見れた。&lt;/p&gt;
&lt;h2&gt;Ubuntu から NFS サービスに入れない&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; に NFS クライアントを導入する。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ sudo apt install nfs-common
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;a href=&#34;https://www.synology.com/ja-jp/products/DS220j&#34; title=&#34;DS220j | Synology Inc.&#34;&gt;DS220j&lt;/a&gt; 側の NFS サービスを有効化して &lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; からアクセスしようとしたが上手くいかない。
まぁ，考えてみたら当たり前で Kerberos を使ってアカウントのマッピングでもするのならともかく，家庭内 LAN ごときでそこまでしないし，しないなら見えなくても仕方ない。&lt;/p&gt;
&lt;figure&gt;
&lt;blockquote cite=&#34;https://kb.synology.com/ja-jp/DSM/help/DSM/AdminCenter/file_share_privilege_nfs?version=7&#34;&gt;&lt;p&gt;&lt;strong&gt;セキュリティ フレーバー：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;特定のユーザー アカウントで NFS を介して共有フォルダにアクセスする場合：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;AUTH_SYS&lt;/strong&gt; セキュリティが導入されている場合：クライアントは NFS クライアントと Synology NAS で全く同じ UID（ユーザー識別子）と GID（グループ識別子）を持っていなければなりません。そうしなければ、クライアントが共有フォルダにアクセスするときに、&lt;strong&gt;「others」&lt;strong&gt;という許可が割り当てられます。権限が競合しないように、&lt;/strong&gt;[Squash]&lt;/strong&gt; から &lt;strong&gt;[全ユーザーを admin にマップ]&lt;/strong&gt; を選択するか、共有フォルダに｢Everyone｣権限を割り当てます。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Kerberos (krb5、krb5i、krb5p)&lt;/strong&gt; セキュリティが導入されている場合：&lt;strong&gt;[ファイル サービス]&lt;/strong&gt; &amp;gt; &lt;strong&gt;[NFS]&lt;/strong&gt; &amp;gt; &lt;strong&gt;[NFS サービスの有効化]&lt;/strong&gt; &amp;gt; &lt;strong&gt;[詳細設定]&lt;/strong&gt; &amp;gt; &lt;strong&gt;[Kerberos の設定]&lt;/strong&gt; の順にを選択して、NFS クライアントを特定のユーザーに割り当てなければなりません。または、相当するユーザー アカウントで Windows/LDAP ドメインに加わります。そうしなければ、クライアントが共有フォルダにアクセスするときに、「guest」という許可が割り当てられます。&lt;/li&gt;
&lt;li&gt;共有フォルダを作成する拡張デバイスのファイル システムが NTFS または FAT の場合は、&lt;strong&gt;[すべてのユーザーを admin にマップ]&lt;/strong&gt; オプションが強制的に適用されます。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Synology NAS に接続するために Kerberos セキュリティを使用するには、&lt;strong&gt;[ファイル サービス]&lt;/strong&gt; &amp;gt; &lt;strong&gt;[NFS]&lt;/strong&gt; &amp;gt; &lt;strong&gt;[NFS サービスの有効化]&lt;/strong&gt; &amp;gt; &lt;strong&gt;[詳細設定]&lt;/strong&gt; &amp;gt; &lt;strong&gt;[Kerberos の設定]&lt;/strong&gt; の順に選択して、Kerberos 認証が設定されていなければなりません。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figcaption&gt;&lt;div&gt;&lt;q&gt;&lt;a href=&#34;https://kb.synology.com/ja-jp/DSM/help/DSM/AdminCenter/file_share_privilege_nfs?version=7&#34;&gt;NFS 権限を割り当てる | DSM - Synology ナレッジセンター&lt;/a&gt;&lt;/q&gt;より&lt;/div&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;というわけで，今回は 権限を「カスタマイズ」して &lt;code&gt;Everyone&lt;/code&gt; 権限を追加・設定した。
複数人で使う場合は NFS は使わんほうがいいかもなぁ。&lt;/p&gt;
&lt;p&gt;ちなみに &lt;code&gt;/etc/fstab&lt;/code&gt; ファイルを使ってマウントする場合には&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sy-nas:/volumeX/homes/username /home/username/nas-home nfs rsize=8192,wsize=8192,timeo=14,intr 0 0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;などとすればよい。&lt;/p&gt;
&lt;h2&gt;Cloud Sync&lt;/h2&gt;
&lt;p&gt;パッケージ・センターから &lt;a href=&#34;https://www.synology.com/ja-jp/dsm/feature/cloud_sync&#34; title=&#34;Cloud Sync | Synology Inc.&#34;&gt;Cloud Sync&lt;/a&gt; をインストールしてクラウド・ストレージと連携できるようにした。&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.synology.com/ja-jp/dsm/feature/cloud_sync&#34; title=&#34;Cloud Sync | Synology Inc.&#34;&gt;Cloud Sync&lt;/a&gt; は Google Drive, Dropbox, Box, Microsoft OneDrive あるいは Azure Storage, Google Cloud Storage, S3 storage といったメジャー・サービスはもちろん，一般的な WebDAV とも連携できるらしい。&lt;/p&gt;
&lt;p&gt;さらに &lt;a href=&#34;https://www.synology.com/ja-jp/dsm/feature/cloud_sync&#34; title=&#34;Cloud Sync | Synology Inc.&#34;&gt;Cloud Sync&lt;/a&gt; では&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;&lt;a href=&#34;./cloud-storage-encrypt.png&#34;&gt;&lt;img src=&#34;./cloud-storage-encrypt.png&#34; srcset=&#34;./cloud-storage-encrypt.png 630w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/a&gt;&lt;/figure&gt;
&lt;p&gt;てな感じに同期データの暗号化ができる。
具体的には &lt;a href=&#34;https://www.synology.com/ja-jp/dsm/feature/cloud_sync&#34; title=&#34;Cloud Sync | Synology Inc.&#34;&gt;Cloud Sync&lt;/a&gt; からアップロードする際に暗号化された状態でアップロードされる。
元々クラウド・ストレージ側に置いてあるファイルは暗号化の対象にならない。
暗号化ファイルは NAS 側では復号された状態で格納されており，クラウド・ストレージ側で暗号化されているか否かに関係なく透過的に扱うことができる。&lt;/p&gt;
&lt;p&gt;クラウド・ストレージって便利で使い勝手がいいけど，他人のデータを覗き見る痴漢野郎がいるぢゃん。
Google とか &lt;a href=&#34;https://text.baldanders.info/remark/2021/08/apples-mass-surveillance-plans/&#34;&gt;Apple&lt;/a&gt; とか。
だから積極的には使わないようにしてたんだけど，これで踏ん切りがついたわ。&lt;/p&gt;
&lt;p&gt;物置用のクラウド・ストレージ・サービスとして Google Drive をデータ暗号化した上で利用することにした。
これに伴い &lt;a href=&#34;https://one.google.com/&#34;&gt;Google One&lt;/a&gt; の&lt;a href=&#34;https://one.google.com/about/plans&#34; title=&#34;プランと料金設定 - Google One&#34;&gt;有料プラン&lt;/a&gt;へアップグレードした。&lt;/p&gt;
&lt;p&gt;運用中の各種クラウド・ストレージ・サービスに置いてあるファイルを整理しないとな。&lt;/p&gt;
&lt;h2&gt;Git Server と SSH&lt;/h2&gt;
&lt;p&gt;パッケージ・センターで &lt;a href=&#34;https://www.synology.com/ja-jp/dsm/packages/Git?os_ver=7.0&#34; title=&#34;Git Server - アドオン パッケージ | Synology Inc.&#34;&gt;Git Server&lt;/a&gt; を見つけたのでインストールしてみたのだが&amp;hellip;&lt;/p&gt;
&lt;p&gt;どうやら SSH ベースのサーバのようだが&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://kb.synology.com/ja-jp/DSM/help/Git/git?version=7&#34;&gt;Git Server - Synology ナレッジセンター&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;そもそも &lt;a href=&#34;https://www.synology.com/ja-jp/products/DS220j&#34; title=&#34;DS220j | Synology Inc.&#34;&gt;DS220j&lt;/a&gt; は管理者権限を持つアカウントしか SSH を使えないようになっている。
なので &lt;a href=&#34;https://www.synology.com/ja-jp/dsm/packages/Git?os_ver=7.0&#34; title=&#34;Git Server - アドオン パッケージ | Synology Inc.&#34;&gt;Git Server&lt;/a&gt; へのアクセス専用にグループとユーザを作成し，専用の共有フォルダを設定する必要がある。&lt;/p&gt;
&lt;p&gt;更に言うとユーザ・ホーム・サービスを有効にしておく必要がある。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;&lt;a href=&#34;./user-home-service.png&#34;&gt;&lt;img src=&#34;./user-home-service.png&#34; srcset=&#34;./user-home-service.png 642w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/a&gt;&lt;/figure&gt;
&lt;p&gt;これがないと公開鍵認証ができないらしい。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://qiita.com/shimizumasaru/items/56474d98e723ea1b5ae3&#34;&gt;Synology DiskStation で SSH 接続を公開鍵認証方式にする - Qiita&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;まぁ，ぼちぼち進めるか。&lt;/p&gt;
&lt;h3&gt;【2021-10-30 追記】 Synology SSH に公開鍵認証でログインする&lt;/h3&gt;
&lt;p&gt;まずはおとなしくパスワード認証で入る。
前節で述べたように Git Server 用に専用のユーザとグループを作ってログイン可能な状態にすること（今回はユーザ：グループ名を &lt;code&gt;git:git&lt;/code&gt; とした&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;）。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ssh git@sy-nas
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git@sy-nas&amp;#39;s password: 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ログイン直後のホーム・ディレクトリはこんな感じ。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ pwd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/var/services/homes/git
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ll
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;drwxrwxrwx+ 2 git  users 4096 Oct 30 00:00 .
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;drwxrwxrwx+ 9 root root  4096 Oct 30 00:00 ..
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;このままでは拙いので，ホーム・ディレクトリのパーミッションを変更する。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chmod 755 /var/services/homes/git
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;次にホーム・ディレクトリ直下に &lt;code&gt;.ssh&lt;/code&gt; ディレクトリを作成する。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ mkdir .ssh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ll
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;drwxr-xr-x  3 git  users 4096 Oct 30 00:00 .
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;drwxrwxrwx+ 9 root root  4096 Oct 30 00:00 ..
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;drwxr-xr-x  2 git  users 4096 Oct 30 00:00 .ssh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;この &lt;code&gt;.ssh&lt;/code&gt; ディレクトリ直下に &lt;code&gt;authorized_keys&lt;/code&gt; ファイルを作り SSH 公開鍵を登録する。
ちなみに公開鍵は ECC 鍵が使える。
ECC 鍵を作ってサーバに登録する方法は以下の通り。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2020/06/upgrade-openssh-key/&#34;&gt;OpenSSH 鍵をアップグレードする&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;また SSH 鍵を GnuPG で作成・管理する方法は以下を参考にどうぞ。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/openpgp/ssh-key-management-with-gnupg/&#34;&gt;OpenSSH の認証鍵を GunPG で作成・管理する&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;.ssh&lt;/code&gt; ディレクトリおよび &lt;code&gt;.ssh/authorized_keys&lt;/code&gt; ファイルのパーミッションに注意。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ chmod 700 ~/.ssh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ chmod 600 ~/.ssh/authorized_keys
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;これで適当なターミナルを立ち上げて&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ssh git@sy-nas
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;でパスワード認証ではなく公開鍵認証が動き出したら成功である&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;（作業中の SSH セッションは維持しておくこと。しくじってアクセスできなくなったら困るからね）。&lt;/p&gt;
&lt;h3&gt;【2021-10-30 追記】 試しにリポジトリを作ってみる&lt;/h3&gt;
&lt;p&gt;Git Server 用に専用の共有フォルダを作る。
今回は &lt;code&gt;gitrepos&lt;/code&gt; という名前で共有フォルダを作った。
前節の &lt;code&gt;git&lt;/code&gt; ユーザで読み書きできるようにしておくこと（他のユーザはアクセスできなくてよい）。&lt;/p&gt;
&lt;p&gt;さっそく &lt;code&gt;gitrepos&lt;/code&gt; 共有フォルダに入ってみる。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ssh git@sy-nas
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cd /volume1/gitrepos/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ sudo chown git:git /volume1/gitrepos
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ chmod 755 /volume1/gitrepos
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;たぶん必須ではないが気持ち悪いので，所有者とパーミッションを変更して &lt;code&gt;git&lt;/code&gt; ユーザ専用にした。
では，適当なベア・リポジトリを作ってみよう。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ mkdir hello-repos
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cd hello-repos/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ git init --bare
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Initialized empty Git repository in /volume1/gitrepos/hello-repos/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;これで空のベア・リポジトリができた。
リモートから SSH 接続でリポジトリを clone するには&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ git clone ssh://git@sy-nas/volume1/gitrepos/hello-repos
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Cloning into &amp;#39;hello-repos&amp;#39;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;warning: You appear to have cloned an empty repository.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;とすればよい。&lt;/p&gt;
&lt;h2&gt;次は Tailscale か？&lt;/h2&gt;
&lt;p&gt;これは次の休みにでもやってみることにしよう。
もともと &lt;a href=&#34;https://tailscale.com/&#34; title=&#34;Tailscale · Best VPN Service for Secure Networks&#34;&gt;Tailscale&lt;/a&gt; は興味があってやってみようとは思っていたのだ。&lt;/p&gt;
&lt;div class=&#34;box&#34;&gt;&lt;strong&gt;【2021-10-31 追記】&lt;/strong&gt; &lt;a href=&#34;https://text.baldanders.info/remark/2021/10/tailscale-with-synology-nas/&#34;&gt;記事&lt;/a&gt;にしました。&lt;/div&gt;
&lt;h2&gt;ブックマーク&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://community.synology.com/jpn/forum/2/post/6&#34;&gt;RAIDの構成を「SHR」から「RAID 1」へ変更できますか？ | Synology Community&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://news.mynavi.jp/kikaku/20181221-741225/&#34;&gt;知らないと損! Synology社員が教えるNASの裏ワザ【前編】セキュリティーと信頼性を高める | マイナビニュース&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://dc.watch.impress.co.jp/docs/review/special/1209064.html&#34;&gt;特別企画：知っておきたい！NAS購入から活用までの疑問あれこれ - デジカメ Watch&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.itmedia.co.jp/pcuser/articles/1603/18/news096.html&#34;&gt;NASを使ったほうがいい人、使わないほうがいい人：Synologyで始めるNAS生活（1/3 ページ） - ITmedia PC USER&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://arakoki70.com/?p=2317&#34;&gt;Synology アカウントの取得 - アラコキからの Raspberry Pi 電子工作&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.digitalocean.com/community/tutorials/how-to-set-up-an-nfs-mount-on-ubuntu-20-04-ja&#34;&gt;Ubuntu 20.04にNFSマウントをセットアップする方法 | DigitalOcean&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://dc.watch.impress.co.jp/docs/review/special/1325567.html&#34;&gt;特別企画：NASに保存した写真データを効率的に管理…「Synology Photos」先行レビュー - デジカメ Watch&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;参考&lt;/h2&gt;
&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a href=&#34;https://www.amazon.co.jp/dp/B0855LMP81?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;&lt;img src=&#34;https://m.media-amazon.com/images/I/31Jy8IwFHwL._SL160_.jpg&#34; width=&#34;160&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl&gt;
    &lt;dt class=&#34;item&#34;&gt;&lt;a class=&#34;fn url&#34; href=&#34;https://www.amazon.co.jp/dp/B0855LMP81?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;Synology NASキット 2ベイ DS220j クアッドコアCPU 512MBメモリ搭載 ライトユーザー向け 国内正規代理店品 電話サポート対応品 DiskStation&lt;/a&gt;&lt;/dt&gt;
    &lt;dd&gt;Synology (Release 2020-03-12)&lt;/dd&gt;
    &lt;dd&gt;Personal Computers&lt;/dd&gt;
    &lt;dd&gt;B0855LMP81 (ASIN), 4537694279369 (EAN), 0846504003440 (EAN), 846504003440 (UPC)&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;4&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;far fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;&lt;a href=&#34;https://www.dospara.co.jp/&#34;&gt;ドスパラ&lt;/a&gt;で HDD 2基と3点セットで購入。家庭内 LAN で使うなら必要十分な性能。各種クラウド・ストレージ・サービスと連携可能。 Tailscale を含む各種 VPN と組み合わせることも可能。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34;&gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2021-10-26&#34;&gt;2021-10-26&lt;/abbr&gt; (powered by &lt;a href=&#34;https://affiliate.amazon.co.jp/assoc_credentials/home&#34;&gt;PA-APIv5&lt;/a&gt;)&lt;/p&gt;
&lt;/div&gt; &lt;!-- Synology DS220j --&gt;
&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a href=&#34;https://www.amazon.co.jp/dp/B08V8LNR2H?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;&lt;img src=&#34;https://m.media-amazon.com/images/I/41&amp;#43;wOkdJItL._SL160_.jpg&#34; width=&#34;160&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl&gt;
    &lt;dt class=&#34;item&#34;&gt;&lt;a class=&#34;fn url&#34; href=&#34;https://www.amazon.co.jp/dp/B08V8LNR2H?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;Western Digital ウエスタンデジタル 内蔵 HDD WD Red Plus NAS RAID (CMR) 3.5インチ WD40EFZX-EC 【国内正規代理店品】&lt;/a&gt;&lt;/dt&gt;
    &lt;dd&gt;ウエスタンデジタル(Western Digital) (Release 2021-02-05)&lt;/dd&gt;
    &lt;dd&gt;Personal Computers&lt;/dd&gt;
    &lt;dd&gt;B08V8LNR2H (ASIN), 4988755057738 (EAN)&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;4&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;far fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;&lt;a href=&#34;https://www.synology.com/ja-jp/products/DS220j&#34;&gt;Synology DS220j&lt;/a&gt; と併せて購入。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34;&gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2021-10-26&#34;&gt;2021-10-26&lt;/abbr&gt; (powered by &lt;a href=&#34;https://affiliate.amazon.co.jp/assoc_credentials/home&#34;&gt;PA-APIv5&lt;/a&gt;)&lt;/p&gt;
&lt;/div&gt; &lt;!-- HDD WD Red Plus --&gt;
&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a href=&#34;https://www.amazon.co.jp/dp/B09GS5ZCHN?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;&lt;img src=&#34;https://m.media-amazon.com/images/I/51FF8hiCp8L._SL160_.jpg&#34; width=&#34;160&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl&gt;
    &lt;dt class=&#34;item&#34;&gt;&lt;a class=&#34;fn url&#34; href=&#34;https://www.amazon.co.jp/dp/B09GS5ZCHN?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;Voice of Angel&lt;/a&gt;&lt;/dt&gt;
    &lt;dd&gt;太田貴子 (メインアーティスト)&lt;/dd&gt;
    &lt;dd&gt;SOLID RECORDS 2021-10-20 (Release 2021-10-20)&lt;/dd&gt;
    &lt;dd&gt;MP3 ダウンロード&lt;/dd&gt;
    &lt;dd&gt;B09GS5ZCHN (ASIN)&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;5&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;「太田貴子」としては31年ぶりのアルバムらしい。仕事中にヘヴィローテーションしてます。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34;&gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2021-10-26&#34;&gt;2021-10-26&lt;/abbr&gt; (powered by &lt;a href=&#34;https://affiliate.amazon.co.jp/assoc_credentials/home&#34;&gt;PA-APIv5&lt;/a&gt;)&lt;/p&gt;
&lt;/div&gt; &lt;!-- Voice of Angel (太田貴子) --&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;Git Server 用に作成したユーザを &lt;code&gt;administrators&lt;/code&gt; グループにも所属させて管理者権限を付与すること。&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;
&lt;p&gt;複数ユーザで Git Server にアクセスしたいなら &lt;code&gt;.ssh/authorized_keys&lt;/code&gt; ファイルに必要な数だけ公開鍵を登録する。&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</content>
	</entry><entry>
		<title>CIFS 経由で NAS に接続する</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2019/03/common-internet-file-system/" />
		<id>tag:text.Baldanders.info,2019-03-31:/remark/2019/03/common-internet-file-system/</id>
		<published>2019-03-31T11:24:45+00:00</published>
		<updated>2021-11-06T09:40:19+00:00</updated>
		<summary>今回は CIFS (Common Internet File System) クライアントを使って NAS に接続を試みる。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">&lt;p&gt;&lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; から&lt;a href=&#34;https://text.baldanders.info/remark/2018/04/nas/&#34; title=&#34;NAS を導入した&#34;&gt;自宅の簡易 NAS&lt;/a&gt; に接続することを考える。&lt;/p&gt;
&lt;p&gt;相手の NAS には &lt;a href=&#34;https://www.samba.org/&#34; title=&#34;Samba - opening windows to a wider world&#34;&gt;Samba&lt;/a&gt; サーバとして接続できることは分かっているので，こちらは対応するクライアント・ツールを用意すればいいわけだ。&lt;/p&gt;
&lt;p&gt;というわけで今回は CIFS (Common Internet File System) クライアントを使って接続を試みる。&lt;/p&gt;
&lt;h2&gt;CIFS クライアントの導入&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; であれば APT (Advanced Package Tool) で導入できる。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ sudo apt install cifs-utils smbclient
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;念のため動作確認しておこう。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ mount.cifs -V
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mount.cifs version: 6.11
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;バージョンは 6.11 か（2021-11-06 Ubuntu 21.10 にて）。&lt;/p&gt;
&lt;h2&gt;事前準備（2019-04-03 追記）&lt;/h2&gt;
&lt;p&gt;実際に作業に入る前にいくつか事前設定をしておく。&lt;/p&gt;
&lt;h3&gt;ホスト名の解決&lt;/h3&gt;
&lt;p&gt;IP アドレス指定のままでもいいのだが，もし LAN 内で NAS の名前解決が出来ないなら &lt;code&gt;/etc/hosts&lt;/code&gt; ファイルで名前を定義しておくといいだろう。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;10.0.0.100  nas01
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;Samba グループを作成する&lt;/h3&gt;
&lt;p&gt;共有ディレクトリをマウントできるグループを作成する。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ sudo groupadd samba
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;さらに&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ sudo visudo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;で &lt;code&gt;sudo&lt;/code&gt; 用の設定ファイルを開き以下の行を追加する。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;%samba  ALL=(ALL) /bin/mount,/bin/umount,/sbin/mount.cifs,/sbin/umount.cifs
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;これで &lt;code&gt;samba&lt;/code&gt; グループに追加したユーザは自身のホーム・ディレクトリ以下に NAS の共有ディレクトリをマウントできる。
さっそく追加しておこう。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ sudo adduser username samba
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;これで準備完了。&lt;/p&gt;
&lt;h2&gt;一時的な接続&lt;/h2&gt;
&lt;p&gt;まずマウント先のディレクトリを作成する（ディレクトリの場所や名前は他と被らなければなんでもいい）。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ mkdir ~/nas
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;この &lt;code&gt;~/nas&lt;/code&gt; ディレクトリに対して以下のコマンドを実行する。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo mount -t cifs //nas01/shared ~/nas -o username=sambauser,noexec,nosuid,nodev
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[sudo] username のパスワード: 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Password for sambauser@//nas01/shared:  ********
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;これで &lt;code&gt;~/nas&lt;/code&gt; ディレクトリに対して共有ディレクトリ &lt;code&gt;//nas01/shared&lt;/code&gt; を一時的にマウントできる。
マウント時に指定できる主なパラメータ（値がある場合は &lt;code&gt;param=value&lt;/code&gt; 形式で指定）は以下の通り&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;パラメータ名&lt;/th&gt;
          &lt;th&gt;既定値&lt;/th&gt;
          &lt;th&gt;内容&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;username&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;root&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;接続先のユーザ名&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;password&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
          &lt;td&gt;接続先ユーザのパスワード。指定しない場合は接続時に訊いてくる&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;domain&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
          &lt;td&gt;接続先のドメイン名（必要な場合）&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;workgroup&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
          &lt;td&gt;接続先のワークグループ名（必要な場合）&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;credentials&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
          &lt;td&gt;接続情報が書かれたファイル（詳しくは後述する）&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;uid&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;root&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;共有ディレクトリ・ファイルの（見かけの）オーナー名&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;gid&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;root&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;共有ディレクトリ・ファイルの（見かけの）グループ名&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;file_mode&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;0755&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;共有ファイルの（見かけの）ファイルモード&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;dir_mode&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;0755&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;共有ディレクトリの（見かけの）ディレクトリモード&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;vers&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;3.0&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;SMB プロトコル・バージョン（&lt;code&gt;1.0&lt;/code&gt;/&lt;code&gt;2.0&lt;/code&gt;/&lt;code&gt;3.0&lt;/code&gt;/&lt;code&gt;3.1.1&lt;/code&gt;）&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;sec&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;ntlmssp&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;セキュリティ・モード (&lt;code&gt;none&lt;/code&gt;/&lt;code&gt;krb5&lt;/code&gt;/&lt;code&gt;krb5i&lt;/code&gt;/&lt;code&gt;ntlm&lt;/code&gt;/&lt;code&gt;ntlmi&lt;/code&gt;/&lt;code&gt;ntlmv2&lt;/code&gt;/&lt;code&gt;ntlmv2i&lt;/code&gt;/&lt;code&gt;ntlmssp&lt;/code&gt;/&lt;code&gt;ntlmsspi&lt;/code&gt;)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;noexec&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;―&lt;/td&gt;
          &lt;td&gt;共有ディレクトリ上のファイルの実行をさせない&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;nosuid&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;―&lt;/td&gt;
          &lt;td&gt;共有ディレクトリ・ファイルの SUID ビットを認識しない&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;nodev&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;―&lt;/td&gt;
          &lt;td&gt;共有ディレクトリ上のデバイスファイルを作用させない&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;ro&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;―&lt;/td&gt;
          &lt;td&gt;読み込み専用でマウントする&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;rw&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;―&lt;/td&gt;
          &lt;td&gt;読み書き可でマウントする&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;コマンドラインでマウントする際は絶対に &lt;code&gt;password&lt;/code&gt; オプションを付けないこと（履歴に残っちゃうからね）。
あるいは以下の内容の接続情報ファイル &lt;code&gt;~/.nascred&lt;/code&gt; を作って（ファイル名は適当）&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;sambauser&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;password_string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;domain&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;domainname&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ファイルモードを &lt;code&gt;0400&lt;/code&gt; に設定して他ユーザから見られないようにし&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ sudo chamod 0400 ~/.nascred
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;credentials&lt;/code&gt; オプションで指定してマウントする。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo mount -t cifs //nas01/shared ~/nas -o credentials=~/.nascred,noexec,nosuid,nodev
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;他ユーザから見えなくてもパスワードを平文で保存するのはちょっと&amp;hellip; という人は &lt;code&gt;password&lt;/code&gt; の指定行を外してしまえばコマンド実行時にパスワードを訊いてくる。&lt;/p&gt;
&lt;p&gt;マウントを解除するには&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ sudo umount ~/nas
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;で OK。&lt;/p&gt;
&lt;div class=&#34;box&#34;&gt;&lt;p&gt;&lt;strong&gt;【2021-11-06 追記】&lt;/strong&gt;
ドメインではなくワークグループを構成している NAS の場合は&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;sambauser&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;password_string&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;workgroup&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;WORKGROUP&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;などとワークグループ名を指定する。&lt;/p&gt;
&lt;/div&gt;
&lt;h2&gt;/etc/fstab を使って起動時にマウントする&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;/etc/fstab&lt;/code&gt; ファイルに以下の行を追加することで起動時に共有ファイルをマウントできる。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# &amp;lt;file system&amp;gt; &amp;lt;mount point&amp;gt;      &amp;lt;type&amp;gt; &amp;lt;options&amp;gt;                                                 &amp;lt;dump&amp;gt; &amp;lt;pass&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;//nas01/shared  /home/username/nas cifs   _netdev,credentials=/home/username/.nascred,noexec,nosuid 0      0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ちなみに &lt;code&gt;_netdev&lt;/code&gt; はネットワークの設定が終わったあとにマウントするよう指示するオプションである（先頭のアンダーバーを忘れずに）。&lt;/p&gt;
&lt;p&gt;起動時のマウントではないが以下の2つのオプションを追加する手もある。&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;パラメータ名&lt;/th&gt;
          &lt;th&gt;内容&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;noauto&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;起動時にはマウントを行わない&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;user&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;一般ユーザもマウントできる&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;# &amp;lt;file system&amp;gt; &amp;lt;mount point&amp;gt;      &amp;lt;type&amp;gt; &amp;lt;options&amp;gt;                                                     &amp;lt;dump&amp;gt; &amp;lt;pass&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;//nas01/shared  /home/username/nas cifs   noauto,user,credentials=/home/username/.nascred,noexec,nosuid 0      0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;これなら管理者モードでなくともログイン後に任意のタイミングで&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ mount ~/nas
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;という感じにコマンドラインを少し簡略化してマウントできる（&lt;code&gt;umount&lt;/code&gt; も同様）。&lt;/p&gt;
&lt;p&gt;よし。
これで次に進める。
次は &lt;a href=&#34;https://gnupg.org/&#34; title=&#34;The GNU Privacy Guard&#34;&gt;GnuPG&lt;/a&gt; かな。&lt;/p&gt;
&lt;h2&gt;ブックマーク&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.samba.gr.jp/project/translation/3.5/htmldocs/manpages-3/mount.cifs.8.html&#34;&gt;mount.cifs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://help.ubuntu.com/community/Samba/SambaClientGuide&#34;&gt;Samba/SambaClientGuide - Community Help Wiki&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.profaim.jp/tools/soft/linux/mnt_cifs.php&#34;&gt;mountコマンドでCIFSをファイル共有 - profaim.jp&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://qiita.com/kakinaguru_zo/items/af0122f79af0aa0913b7&#34;&gt;mount.cifsに付けるオプション - Qiita&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://qiita.com/mdstoy/items/54925cdcbca6d558b666&#34;&gt;Ubuntu から Windows の共有フォルダをマウントして利用する - Qiita&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://qiita.com/You_name_is_YU/items/85ffbffee744f6f494ed&#34;&gt;samba-client／cifs-utilsを使ってWindowsの共有フォルダをマウントする - Qiita&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://qiita.com/office-itou/items/0f8df0c5f8c7022b7fad&#34;&gt;Windows 10 に cifs 接続する - Qiita&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.atmarkit.co.jp/ait/articles/1502/13/news042.html&#34;&gt;Linuxはサンバ（Samba）で踊る――WindowsとLinuxのファイル共有のいま (1/2)：その知識、ホントに正しい？ Windowsにまつわる都市伝説（25） - ＠IT&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://wiki.archlinux.jp/index.php/Fstab&#34;&gt;fstab - ArchWiki&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;参考図書&lt;/h2&gt;
&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a href=&#34;https://www.amazon.co.jp/dp/B01CXL8NL6?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;&lt;img src=&#34;https://m.media-amazon.com/images/I/51zK0JJz6ZL._SL160_.jpg&#34; width=&#34;112&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl&gt;
    &lt;dt class=&#34;item&#34;&gt;&lt;a class=&#34;fn url&#34; href=&#34;https://www.amazon.co.jp/dp/B01CXL8NL6?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;【改訂新版】サーバ構築の実例がわかるSamba［実践］入門&lt;/a&gt;&lt;/dt&gt;
    &lt;dd&gt;髙橋基信 (著)&lt;/dd&gt;
    &lt;dd&gt;技術評論社 2016-03-04 (Release 2016-03-04)&lt;/dd&gt;
    &lt;dd&gt;Kindle版&lt;/dd&gt;
    &lt;dd&gt;B01CXL8NL6 (ASIN)&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;Samba4/Windows10 対応。昔に比べたら Samba もずいぶん変わったんだねぇ。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34;&gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2019-03-31&#34;&gt;2019-03-31&lt;/abbr&gt; (powered by &lt;a href=&#34;https://affiliate.amazon.co.jp/assoc_credentials/home&#34;&gt;PA-APIv5&lt;/a&gt;)&lt;/p&gt;
&lt;/div&gt; &lt;!-- 【改訂新版】サーバ構築の実例がわかるSamba［実践］入門 --&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;オプションの詳細は &lt;code&gt;man mount.cifs&lt;/code&gt; でマニュアルを参照するとよい。&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</content>
	</entry><entry>
		<title>NAS を導入した</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2018/04/nas/" />
		<id>tag:text.Baldanders.info,2018-04-30:/remark/2018/04/nas/</id>
		<published>2018-04-30T06:32:40+00:00</published>
		<updated>2020-01-05T11:59:50+00:00</updated>
		<summary>Win7 のサポートが切れる2020年までに Windows は捨てる予定なので，今回の NAS 導入はその前準備というところである。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">&lt;p&gt;GW に突入して最初の作業は NAS (Network-Attached Storage) の導入だった。
つっても，今までパソコンの「外付けハードディスク」として使っていたものを家庭内 LAN 上で使えるようにしただけなのだが。
ストレージは増設して 2TB に。
つか，安い簡易 NAS に件の外付け HDD を組み込んだという方が正しいかな。&lt;/p&gt;
&lt;p&gt;大昔は職場で減価償却の終わった古い PC を安く譲ってもらって Linux をぶち込んでたりしたのだが，そういうのもすっかり面倒くさくなって（今は PC を捨てるのにもお金かかるしねぇ），というかサーバ立てて実験するならクラウド・サービスを使うほうが早い。
実験用としても自宅でフルスクラッチでサーバを組むメリットはなくなっている（ラズパイ等で遊ぶのならありだろうが）。&lt;/p&gt;
&lt;p&gt;とりあえず Windows 7 と Android 携帯端末から &lt;a href=&#34;https://www.samba.org/&#34; title=&#34;Samba - opening windows to a wider world&#34;&gt;Samba&lt;/a&gt; 経由で NAS にアクセスできることは確認したので問題ないかな。
日本語ファイル名のモノがかなりあって心配したのだが，最近のは優秀なんだねぇ。
アクセス制御を含む各種設定も Web ブラウザでできるし。
Box や Dropbox といったクラウドストレージとも連携できるし。&lt;/p&gt;
&lt;p&gt;Win7 のサポートが切れる2020年までに Windows は捨てる予定なので&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;，今回の NAS 導入はその前準備というところである。
ここのところの Windows 関連の脆弱性情報を見るに Microsoft は既に Win7 にリソースを割いてない（割けない）印象を受ける。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://forest.watch.impress.co.jp/docs/news/1114999.html&#34;&gt;「KB4099950」が公開、3月パッチでWindows 7のネットワーク設定が失われる問題を修正 - 窓の杜&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://japan.zdnet.com/article/35118231/&#34;&gt;IEに脆弱性、ゼロデイ攻撃に悪用と指摘 - ZDNet Japan&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ひょっとして予定を前倒ししたほうがいいかも。&lt;/p&gt;
&lt;h2&gt;ブックマーク&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://play.google.com/store/apps/details?id=com.skyjos.apps.fileexplorer&#34;&gt;File Explorer Pro - file manager and file transfer - Google Play&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;参考図書&lt;/h2&gt;
&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a href=&#34;https://www.amazon.co.jp/dp/B079YJS1J1?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;&lt;img src=&#34;https://m.media-amazon.com/images/I/51CPvtuv&amp;#43;wL._SL160_.jpg&#34; width=&#34;123&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl&gt;
    &lt;dt class=&#34;item&#34;&gt;&lt;a class=&#34;fn url&#34; href=&#34;https://www.amazon.co.jp/dp/B079YJS1J1?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34;&gt;［試して理解］Linuxのしくみ ～実験と図解で学ぶOSとハードウェアの基礎知識&lt;/a&gt;&lt;/dt&gt;
    &lt;dd&gt;武内 覚 (著)&lt;/dd&gt;
    &lt;dd&gt;技術評論社 2018-02-23 (Release 2018-02-23)&lt;/dd&gt;
    &lt;dd&gt;Kindle版&lt;/dd&gt;
    &lt;dd&gt;B079YJS1J1 (ASIN)&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;4&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;far fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;コンテナ全盛のこの時代にかなり硬派な内容の Linux 解説書。コンピュータの教科書としても使えそう。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34;&gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2019-01-07&#34;&gt;2019-01-07&lt;/abbr&gt; (powered by &lt;a href=&#34;https://affiliate.amazon.co.jp/assoc_credentials/home&#34;&gt;PA-APIv5&lt;/a&gt;)&lt;/p&gt;
&lt;/div&gt; &lt;!-- ［試して理解］Linuxのしくみ --&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;Windows を捨てる理由は個人的な（Win8 以降に馴染めない）ものなので，今後も Windows を使い続けたいなら，なるべく早く Windows 10 に移行することを強くお勧めする。なお Windows はメジャー・バージョンを「アップグレード」する際にトラブルが起きやすいので，この際マシンごと買い換えるほうがいいと思う。&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</content>
	</entry>
</feed>
