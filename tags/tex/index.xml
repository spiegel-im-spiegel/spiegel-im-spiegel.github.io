<feed xmlns="http://www.w3.org/2005/Atom" xmlns:cc="http://web.resource.org/cc/">
	<title>List of tex - text.Baldanders.info</title>
	<link rel="alternate" type="text/html" href="https://text.baldanders.info/tags/tex/" />
	<link rel="self" type="application/atom+xml" href="https://text.baldanders.info/tags/tex/index.xml" />
	<id>tag:text.Baldanders.info,2019-09-28:/tags</id>
	<updated>2019-09-28T18:29:26+09:00</updated>
	<subtitle>帰ってきた「しっぽのさきっちょ」</subtitle>
	<icon>https://text.baldanders.info/images/avatar.jpg</icon>
	<logo>https://text.baldanders.info/images/avatar.jpg</logo>

	<entry>
		<title>MathJax v3 がリリースされていた</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/release/2019/09/mathjax-v3-is-released/" />
		<id>tag:text.Baldanders.info,2019-09-28:/release/2019/09/mathjax-v3-is-released/</id>
		<published>2019-09-28T09:29:26+00:00</published>
		<updated>2019-09-28T13:21:42+00:00</updated>
		<summary>v2.7.x までとはだいぶ変わったので注意。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">&lt;p&gt;いや，確かに8月末にはリリースするって予告されてたけどさ。
その後のアナウンスがないから気づかなかったよ。&lt;/p&gt;
&lt;p&gt;ちうわけで &lt;a href=&#34;https://www.mathjax.org/&#34; title=&#34;MathJax | Beautiful math in all browsers.&#34;&gt;MathJax&lt;/a&gt; v3.0.0 がリリースされていた。
よーやくベータが取れたよ（笑）&lt;/p&gt;
&lt;p&gt;ドキュメントも v3 に対応しているようだ。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://docs.mathjax.org/en/latest/&#34;&gt;MathJax Documentation — MathJax 3.0 documentation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Web ページで &lt;a href=&#34;https://www.mathjax.org/&#34; title=&#34;MathJax | Beautiful math in all browsers.&#34;&gt;MathJax&lt;/a&gt; を使えるようにするには以下のコードを記述する。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;MathJax&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;...&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://polyfill.io/v3/polyfill.min.js?features=es6&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;MathJax-script&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;async&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;a href=&#34;https://www.mathjax.org/&#34; title=&#34;MathJax | Beautiful math in all browsers.&#34;&gt;MathJax&lt;/a&gt; v3 の特定のバージョンを指定するには&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nx&#34;&gt;MathJax&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;...&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://polyfill.io/v3/polyfill.min.js?features=es6&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;MathJax-script&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;async&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://cdn.jsdelivr.net/npm/mathjax@3.0.0/es5/tex-mml-chtml.js&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;などとする。&lt;/p&gt;
&lt;p&gt;ちなみに IE (Internet Explorer) はサポートから外れるようだ。
まぁ IE は Web ではもう「要らない子」だからね。&lt;/p&gt;
&lt;h2&gt;&lt;a href=&#34;https://www.mathjax.org/&#34; title=&#34;MathJax | Beautiful math in all browsers.&#34;&gt;MathJax&lt;/a&gt; v3 の設定&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;MathJax = { ... };&lt;/code&gt; の部分には &lt;a href=&#34;https://www.mathjax.org/&#34; title=&#34;MathJax | Beautiful math in all browsers.&#34;&gt;MathJax&lt;/a&gt; の設定を記述する。
v2.7.x までとはフォーマットが異なるので注意。&lt;/p&gt;
&lt;p&gt;主な設定項目は以下の通り。&lt;/p&gt;
&lt;h3&gt;&lt;a href=&#34;https://docs.mathjax.org/en/latest/options/input/tex.html&#34; title=&#34;TeX Input Processor Options — MathJax 3.0 documentation&#34;&gt;TeX Input Processor Options&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;設定項目と既定値は以下の通り。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;nx&#34;&gt;MathJax&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nx&#34;&gt;tex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;packages&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;base&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;        &lt;span class=&#34;c1&#34;&gt;// extensions to use
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;inlineMath&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;              &lt;span class=&#34;c1&#34;&gt;// start/end delimiter pairs for in-line math
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;\\(&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;\\)&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;displayMath&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;             &lt;span class=&#34;c1&#34;&gt;// start/end delimiter pairs for display math
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;$$&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;$$&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;\\[&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;\\]&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;processEscapes&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;      &lt;span class=&#34;c1&#34;&gt;// use \$ to produce a literal dollar sign
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;processEnvironments&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// process \begin{xxx}...\end{xxx} outside math mode
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;processRefs&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;         &lt;span class=&#34;c1&#34;&gt;// process \ref{...} outside of math mode
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;digits&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;sr&#34;&gt;/^(?:[0-9]+(?:\{,\}[0-9]{3})*(?:\.[0-9]*)?|\.[0-9]+)/&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
                               &lt;span class=&#34;c1&#34;&gt;// pattern for recognizing numbers
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;tags&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;none&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;              &lt;span class=&#34;c1&#34;&gt;// or &amp;#39;ams&amp;#39; or &amp;#39;all&amp;#39;
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;tagSide&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;right&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;          &lt;span class=&#34;c1&#34;&gt;// side for \tag macros
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;tagIndent&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;0.8em&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;        &lt;span class=&#34;c1&#34;&gt;// amount to indent tags
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;useLabelIds&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;         &lt;span class=&#34;c1&#34;&gt;// use label name rather than tag for ids
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;multlineWidth&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;85%&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;      &lt;span class=&#34;c1&#34;&gt;// width of multline environment
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;maxMacros&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;           &lt;span class=&#34;c1&#34;&gt;// maximum number of macro substitutions per expression
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;maxBuffer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1024&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;       &lt;span class=&#34;c1&#34;&gt;// maximum size for the internal TeX string (5K)
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;baseURL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;                   &lt;span class=&#34;c1&#34;&gt;// URL for use with links to tags (when there is a &amp;lt;base&amp;gt; tag in effect)
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;       &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;document&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;getElementsByTagName&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;base&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;length&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;?&lt;/span&gt;
        &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;document&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;location&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;replace&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sr&#34;&gt;/#.*$/&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;インライン数式を囲む記号として &lt;code&gt;$ .. $&lt;/code&gt; を有効にするには &lt;code&gt;inlineMath&lt;/code&gt; 項目を以下のように変更する。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;nx&#34;&gt;inlineMath&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;$&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;$&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;\\(&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;\\)&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;別行立て数式に対して自動採番を行うには &lt;code&gt;tags&lt;/code&gt; 項目に &lt;code&gt;ams&lt;/code&gt; または &lt;code&gt;all&lt;/code&gt; をセットする。&lt;/p&gt;
&lt;p&gt;自作のマクロを組み込む際には &lt;code&gt;macro&lt;/code&gt; 項目をセットする。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;nx&#34;&gt;macros&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nx&#34;&gt;ssqrt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;\\sqrt{\\smash[b]{\\mathstrut #1}}&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;&lt;a href=&#34;https://docs.mathjax.org/en/latest/options/output/chtml.html&#34; title=&#34;CommonHTML Output Processor Options — MathJax 3.0 documentation&#34;&gt;CommonHTML Output Processor Options&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;設定項目と既定値は以下の通り。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;nx&#34;&gt;MathJax&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nx&#34;&gt;chtml&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;scale&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;                      &lt;span class=&#34;c1&#34;&gt;// global scaling factor for all expressions
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;minScale&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;.5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;                  &lt;span class=&#34;c1&#34;&gt;// smallest scaling factor to use
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;matchFontHeight&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;         &lt;span class=&#34;c1&#34;&gt;// true to match ex-height of surrounding font
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;mtextInheritFont&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;       &lt;span class=&#34;c1&#34;&gt;// true to make mtext elements use surrounding font
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;merrorInheritFont&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;       &lt;span class=&#34;c1&#34;&gt;// true to make merror text use surrounding font
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;mathmlSpacing&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;          &lt;span class=&#34;c1&#34;&gt;// true for MathML spacing rules, false for TeX rules
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;skipAttributes&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;            &lt;span class=&#34;c1&#34;&gt;// RFDa and other attributes NOT to copy to the output
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;exFactor&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;.5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;                  &lt;span class=&#34;c1&#34;&gt;// default size of ex in em units
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;displayAlign&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;center&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;        &lt;span class=&#34;c1&#34;&gt;// default for indentalign when set to &amp;#39;auto&amp;#39;
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;displayIndent&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;             &lt;span class=&#34;c1&#34;&gt;// default for indentshift when set to &amp;#39;auto&amp;#39;
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;日本語の文章に数式を埋め込む場合，文字サイズのバランスがよくないので &lt;code&gt;matchFontHeight&lt;/code&gt; 項目を &lt;code&gt;false&lt;/code&gt; にする。&lt;/p&gt;
&lt;p&gt;別行立て数式を左寄せで表示するには &lt;code&gt;displayAlign&lt;/code&gt; 項目を &lt;code&gt;left&lt;/code&gt; にする。
併せて &lt;code&gt;displayIndent&lt;/code&gt; 項目でインデント幅もセットするとよい。&lt;/p&gt;
&lt;h3&gt;拡張パッケージを組み込む&lt;/h3&gt;
&lt;p&gt;たとえば &lt;code&gt;color&lt;/code&gt; という拡張パッケージを組み込むには以下のように記述する。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;nx&#34;&gt;MathJax&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nx&#34;&gt;loader&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;load&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;[tex]/color&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;nx&#34;&gt;tex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;packages&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;[+]&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;color&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ただし現時点で使えそうなパッケージはなさそう。
&lt;a href=&#34;https://ctan.org/pkg/mathcomp&#34; title=&#34;CTAN: Package mathcomp&#34;&gt;mathcomp&lt;/a&gt; があるといいのに。&lt;/p&gt;
&lt;p&gt;v2.7.x で外部パッケージだったものの一部は標準で組み込まれているようだ。
たとえば &lt;code&gt;mhchem.js&lt;/code&gt; は明示的に組み込まなくても&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;経済成長と $\ce{CO2}$ 排出量は比例しなくなっている。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;経済成長と $\ce{CO2}$ 排出量は比例しなくなっている&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;てな感じに書くことができる。&lt;/p&gt;
&lt;h3&gt;このサイトの設定内容&lt;/h3&gt;
&lt;p&gt;このサイトの設定内容は今のところ以下の通り。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;nx&#34;&gt;MathJax&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nx&#34;&gt;tex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;inlineMath&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;$&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;$&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;\\(&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;\\)&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;processEscapes&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;tags&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ams&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;macros&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;nx&#34;&gt;ssqrt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;\\sqrt{\\smash[b]{\\mathstrut #1}}&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;nx&#34;&gt;tcdegree&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;\\unicode{xb0}&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;nx&#34;&gt;tccelsius&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;\\unicode{x2103}&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;nx&#34;&gt;tcperthousand&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;\\unicode{x2030}&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;nx&#34;&gt;tcmu&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;\\unicode{x3bc}&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;nx&#34;&gt;tcohm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;\\unicode{x3a9}&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;nx&#34;&gt;chtml&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;matchFontHeight&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;displayAlign&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;left&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;displayIndent&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;2em&amp;#34;&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;a href=&#34;https://www.mathjax.org/&#34; title=&#34;MathJax | Beautiful math in all browsers.&#34;&gt;MathJax&lt;/a&gt; v3 では利用できる Web フォントは1種類のみで他のフォントを選択することができない。
これは将来バージョンで改善するらしい。
Web フォントのサポートが組み込まればまた紹介することもあるだろう。&lt;/p&gt;
&lt;h2&gt;ブックマーク&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2017/09/getting-started-mathjax-1/&#34;&gt;ちょこっと MathJax&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;参考図書&lt;/h2&gt;
&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a class=&#34;item url&#34; href=&#34;https://www.amazon.co.jp/%E6%94%B9%E8%A8%82%E7%AC%AC7%E7%89%88-LaTeX2%CE%B5%E7%BE%8E%E6%96%87%E6%9B%B8%E4%BD%9C%E6%88%90%E5%85%A5%E9%96%80-%E5%A5%A5%E6%9D%91-%E6%99%B4%E5%BD%A6/dp/4774187054?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=4774187054&#34;&gt;&lt;img src=&#34;https://images-fe.ssl-images-amazon.com/images/I/51E5K7B53aL._SL160_.jpg&#34; width=&#34;127&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl class=&#34;fn&#34;&gt;
    &lt;dt&gt;&lt;a href=&#34;https://www.amazon.co.jp/%E6%94%B9%E8%A8%82%E7%AC%AC7%E7%89%88-LaTeX2%CE%B5%E7%BE%8E%E6%96%87%E6%9B%B8%E4%BD%9C%E6%88%90%E5%85%A5%E9%96%80-%E5%A5%A5%E6%9D%91-%E6%99%B4%E5%BD%A6/dp/4774187054?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=4774187054&#34;&gt;[改訂第7版]LaTeX2ε美文書作成入門&lt;/a&gt;&lt;/dt&gt;
    &lt;dd&gt;奥村 晴彦, 黒木 裕介&lt;/dd&gt;
    &lt;dd&gt;技術評論社 2017-01-24&lt;/dd&gt;
    &lt;dd&gt;大型本&lt;/dd&gt;
    &lt;dd&gt;4774187054 (ASIN), 9784774187051 (EAN)&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;4&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;far fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;ついに第7版が登場。紙の本で買って常に側に置いておくのが吉。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34;&gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2017-09-27&#34;&gt;2017-09-27&lt;/abbr&gt; (powered by &lt;a href=&#34;https://affiliate.amazon.co.jp/assoc_credentials/home&#34;&gt;PA-API&lt;/a&gt;)&lt;/p&gt;
&lt;/div&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;「&lt;a href=&#34;http://wired.jp/2017/03/29/global-carbon-emissions/&#34; title=&#34;経済成長とCO2排出量は「比例しなくなっている」：IEA報告書｜WIRED.jp&#34;&gt;経済成長とCO2排出量は「比例しなくなっている」：IEA報告書&lt;/a&gt;」より。 &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
	</entry><entry>
		<title>TeX Live 2018 から 2019 へのアップグレード</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2019/06/upgrade-texlive-from-2018-to-2019/" />
		<id>tag:text.Baldanders.info,2019-06-09:/remark/2019/06/upgrade-texlive-from-2018-to-2019/</id>
		<published>2019-06-09T05:58:35+00:00</published>
		<updated>2019-06-09T10:40:04+00:00</updated>
		<summary> 以前に Windows で2018年版にアップグレードしたが，やり方はだいたい同じ。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">&lt;p&gt;そろそろ2019年版のアナウンスが出てるかなぁ，と思って &lt;a href=&#34;http://www.tug.org/texlive/&#34; title=&#34;TeX Live - TeX Users Group&#34;&gt;TeX Live&lt;/a&gt; のサイトへ見に行ったら&lt;/p&gt;
&lt;figure lang=&#34;en&#34;&gt;
&lt;blockquote&gt;
&lt;q&gt;Current release: TeX Live 2019 is &lt;a href=&#34;http://www.tug.org/texlive/acquire.html&#34;&gt;available over the Internet&lt;/a&gt; and &lt;a href=&#34;http://www.tug.org/texlive/acquire-dvd.html&#34;&gt;on DVD&lt;/a&gt;. It was released on 29 April 2019, and &lt;a href=&#34;http://www.tug.org/texlive/pkginstall.html&#34;&gt;ongoing updates are available&lt;/a&gt;.&lt;/q&gt;
&lt;/blockquote&gt;
&lt;figcaption&gt;via &lt;q&gt;&lt;a href=&#34;http://www.tug.org/texlive/&#34;&gt;TeX Live - TeX Users Group&lt;/a&gt;&lt;/q&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;とか書いてくさるですよ。&lt;/p&gt;
&lt;p&gt;はっ？ 私が&lt;a href=&#34;https://text.baldanders.info/remark/2019/04/install-texlive-in-ubuntu/&#34; title=&#34;TeX Live を Ubuntu に（APT を使わずに）導入する&#34;&gt;2018年版をインストールしたのって4月末&lt;/a&gt;なんだけど。&lt;/p&gt;
&lt;p&gt;試しに &lt;code&gt;tlmgr update&lt;/code&gt; してみたら&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sudo tlmgr update --self --all

tlmgr: Remote repository is newer than local (2018 &amp;lt; 2019)
Cross release updates are only supported with
  update-tlmgr-latest(.sh/.exe) --update
Please see https://tug.org/texlive/upgrade.html for details.
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;とか言われた。
以前と表示が変わっている。
タッチの差でアップグレードされたということか &lt;code&gt;orz&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;しょうがない。
&lt;a href=&#34;http://www.tug.org/texlive/upgrade.html&#34; title=&#34;Upgrade - TeX Live - TeX Users Group&#34;&gt;アップグレード&lt;/a&gt;を行おう。
以前に &lt;a href=&#34;https://text.baldanders.info/remark/2018/09/upgrade-texlive-from-2017-to-2018/&#34;&gt;Windows で2018年版にアップグレード&lt;/a&gt;したが，やり方はだいたい同じ。&lt;/p&gt;
&lt;p&gt;そうそう。
今回のアップグレードは APT を使わず &lt;code&gt;install-tl&lt;/code&gt; でインストールされていることが前提ね。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2019/04/install-texlive-in-ubuntu/&#34;&gt;TeX Live を Ubuntu に（APT を使わずに）導入する&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;前準備&lt;/h2&gt;
&lt;p&gt;まず &lt;a href=&#34;http://www.tug.org/texlive/&#34; title=&#34;TeX Live - TeX Users Group&#34;&gt;TeX Live&lt;/a&gt; のインストール先ディレクトリを &lt;code&gt;/usr/local/texlive&lt;/code&gt; として話を進める（普通にインストールすればそうなってる筈）。
このディレクトリの中身はこんな感じになっているだろう。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ ls -F /usr/local/texlive
2018/  texmf-local/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;最初に &lt;code&gt;2018/&lt;/code&gt; ディレクトリをコピーしよう。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ cd /usr/local/texlive
$ sudo cp -a 2018 2019
$ sudo rm 2019/tlpkg/backups/*
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;このあと &lt;code&gt;update-tlmgr&lt;/code&gt; を使ってアップグレードを行うのだが，権限のコントロールが上手くないみたいなので &lt;code&gt;2019/&lt;/code&gt; フォルダ以下のオーナーを一時的に自ユーザに書き換えておく。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo chown -R username:username 2019
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;次にパス設定の削除を行う。
&lt;code&gt;tlmgr path add&lt;/code&gt; コマンドでパス設定をしている場合は&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo tlmgr path remove
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;で設定を消しておく。&lt;/p&gt;
&lt;p&gt;環境変数 &lt;code&gt;PATH&lt;/code&gt; や &lt;code&gt;MANPATH&lt;/code&gt; 等を設定している場合はその設定を変更しておく。
たとえば  &lt;code&gt;/etc/profile.d/&lt;/code&gt; ディレクトリに以下の内容を書いたファイル &lt;code&gt;texlive-paths.sh&lt;/code&gt; を置いている場合&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# shellcheck shell=sh&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Expand $PATH to include the directory where TeX Live applications go.&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;texlive_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/usr/local/texlive/2018&amp;#34;&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;texlive_bin_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;texlive_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/bin/x86_64-linux&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PATH&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;##*&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;texlive_bin_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; -a -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PATH&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;##*&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;texlive_bin_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;MANPATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;MANPATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;:&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;texlive_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;/texmf-dist/doc/man
    &lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;INFOPATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;INFOPATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;:&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;texlive_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;/texmf-dist/doc/info
    &lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;:&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;texlive_bin_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;2018&lt;/code&gt; の部分を &lt;code&gt;2019&lt;/code&gt; に置き換える。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# shellcheck shell=sh&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Expand $PATH to include the directory where TeX Live applications go.&lt;/span&gt;
&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;texlive_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/usr/local/texlive/2019&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;texlive_bin_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;texlive_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/bin/x86_64-linux&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PATH&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;##*&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;texlive_bin_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; -a -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PATH&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;##*&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;texlive_bin_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;* &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;MANPATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;MANPATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;:&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;texlive_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;/texmf-dist/doc/man
    &lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;INFOPATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;INFOPATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;:&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;texlive_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;/texmf-dist/doc/info
    &lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;:&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;texlive_bin_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;最後に &lt;code&gt;~/.texlive2018/&lt;/code&gt; ディレクトリがあれば &lt;code&gt;~/.texlive2019/&lt;/code&gt; にコピーすればいいかな。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;% cd ~
$ cp -a .texlive2018 .texlive2019
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;2019年版へのアップグレード&lt;/h2&gt;
&lt;p&gt;ほいじゃまぁ，アップグレードしますかね。&lt;/p&gt;
&lt;p&gt;まずは &lt;code&gt;update-tlmgr&lt;/code&gt; による &lt;code&gt;tlmgr&lt;/code&gt; のアップグレードから&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ cd /usr/local/texlive/2019
$ wget http://mirror.ctan.org/systems/texlive/tlnet/update-tlmgr-latest.sh
$ sh update-tlmgr-latest.sh -- --upgrade
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;tlmgr&lt;/code&gt; の動作確認をしておこう。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ tlmgr version
tlmgr revision 51217 (2019-05-24 23:47:41 +0200)
tlmgr using installation: /usr/local/texlive/2019
TeX Live (http://tug.org/texlive) version 2019
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;よしよし。&lt;/p&gt;
&lt;p&gt;次はアップグレードした &lt;code&gt;tlmgr&lt;/code&gt; でアップデートを行う。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ tlmgr option repository http://mirror.ctan.org/systems/texlive/tlnet
tlmgr: setting default package repository to http://mirror.ctan.org/systems/texlive/tlnet

$ tlmgr update --self --all
tlmgr: package repository http://ftp.jaist.ac.jp/pub/CTAN/systems/texlive/tlnet (verified)
tlmgr: saving backups to /usr/local/texlive/2019/tlpkg/backups
...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;手元の環境では520個ほど更新された。&lt;/p&gt;
&lt;p&gt;$\mathrm{Lua\TeX}$ を使う場合はフォントキャッシュのアップデートも忘れずに。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ luaotfload-tool -fu
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;最後に &lt;code&gt;/usr/local/texlive/2019&lt;/code&gt; ディレクトリ以下のオーナーを &lt;code&gt;root&lt;/code&gt; に戻す。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ cd /usr/local/texlive
$ sudo chown -R root:root 2019
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;更にパス設定（&lt;code&gt;/usr/local/bin/&lt;/code&gt; 等へシンボリック・リンクを張る）を行うなら&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo /usr/local/texlive/2019/bin/x86_64-linux/tlmgr path add
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;とする。&lt;/p&gt;
&lt;h2&gt;動作確認&lt;/h2&gt;
&lt;p&gt;ちょろんと動作確認しておこう。
$\mathrm{Lua\LaTeX}$ でね。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ lualatex -v
This is LuaTeX, Version 1.10.0 (TeX Live 2019)

Execute  &amp;#39;luatex --credits&amp;#39;  for credits and version details.

There is NO warranty. Redistribution of this software is covered by
the terms of the GNU General Public License, version 2 or (at your option)
any later version. For more information about these matters, see the file
named COPYING and the LuaTeX source.

LuaTeX is Copyright 2019 Taco Hoekwater and the LuaTeX Team.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;以下のタイプセットも試してみる。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2017/10/writing-code-with-lualatex/&#34;&gt;LuaLaTeX でコードを書いてみる&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;結果はこんな感じ。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;./typesetting-by-lualatex.png&#34;&gt;&lt;img src=&#34;./typesetting-by-lualatex.png&#34; srcset=&#34;./typesetting-by-lualatex.png 1388w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/figure&gt;
&lt;p&gt;よーし，うむうむ，よーし。&lt;/p&gt;
&lt;h2&gt;ブックマーク&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://acetaminophen.hatenablog.com/entry/tl2019-01&#34;&gt;TeX Live 2019 注目ポイントまとめ (1) - Acetaminophen’s diary&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://acetaminophen.hatenablog.com/entry/tl2019-02&#34;&gt;TeX Live 2019 注目ポイントまとめ (2) - Acetaminophen’s diary&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;参考図書&lt;/h2&gt;
&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a class=&#34;item url&#34; href=&#34;https://www.amazon.co.jp/%E6%94%B9%E8%A8%82%E7%AC%AC7%E7%89%88-LaTeX2%CE%B5%E7%BE%8E%E6%96%87%E6%9B%B8%E4%BD%9C%E6%88%90%E5%85%A5%E9%96%80-%E5%A5%A5%E6%9D%91-%E6%99%B4%E5%BD%A6/dp/4774187054?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=4774187054&#34;&gt;&lt;img src=&#34;https://images-fe.ssl-images-amazon.com/images/I/51E5K7B53aL._SL160_.jpg&#34; width=&#34;127&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl class=&#34;fn&#34;&gt;
    &lt;dt&gt;&lt;a href=&#34;https://www.amazon.co.jp/%E6%94%B9%E8%A8%82%E7%AC%AC7%E7%89%88-LaTeX2%CE%B5%E7%BE%8E%E6%96%87%E6%9B%B8%E4%BD%9C%E6%88%90%E5%85%A5%E9%96%80-%E5%A5%A5%E6%9D%91-%E6%99%B4%E5%BD%A6/dp/4774187054?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=4774187054&#34;&gt;[改訂第7版]LaTeX2ε美文書作成入門&lt;/a&gt;&lt;/dt&gt;
	&lt;dd&gt;奥村 晴彦, 黒木 裕介&lt;/dd&gt;
    &lt;dd&gt;技術評論社 2017-01-24&lt;/dd&gt;
    &lt;dd&gt;Book 大型本&lt;/dd&gt;
    &lt;dd&gt;ASIN: 4774187054, EAN: 9784774187051&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;4&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;far fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;ついに第7版が登場。紙の本で買って常に側に置いておくのが吉。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34; &gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2017-09-27&#34;&gt;2017-09-27&lt;/abbr&gt; (powered by &lt;a href=&#34;https://github.com/spiegel-im-spiegel/amazon-item&#34; &gt;amazon-item&lt;/a&gt; v0.2.0)&lt;/p&gt;
&lt;/div&gt;
</content>
	</entry><entry>
		<title>TeX Live を Ubuntu に（APT を使わずに）導入する</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2019/04/install-texlive-in-ubuntu/" />
		<id>tag:text.Baldanders.info,2019-04-30:/remark/2019/04/install-texlive-in-ubuntu/</id>
		<published>2019-04-30T08:49:27+00:00</published>
		<updated>2020-01-03T06:05:57+00:00</updated>
		<summary>Windows と異なり，設定用の各コマンドは管理者権限（sudo）で起動する点に気をつける必要がある。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">&lt;p&gt;&lt;a href=&#34;https://www.ubuntu.com/&#34; title=&#34;The leading operating system for PCs, IoT devices, servers and the cloud | Ubuntu&#34;&gt;Ubuntu&lt;/a&gt; 環境に &lt;a href=&#34;http://www.tug.org/texlive/&#34; title=&#34;TeX Live - TeX Users Group&#34;&gt;TeX Live&lt;/a&gt; を導入するには APT (Advanced Package Tool) を使う方法と &lt;a href=&#34;http://www.tug.org/texlive/&#34; title=&#34;TeX Live - TeX Users Group&#34;&gt;TeX Live&lt;/a&gt; が提供する &lt;code&gt;install-tl&lt;/code&gt; を使う方法がある。&lt;/p&gt;
&lt;figure&gt;
&lt;blockquote&gt;
&lt;q&gt;前者の場合は，他のパッケージと同様に統一的な管理ができますが，ディストリビューションによっては提供されているパッケージのバージョンが古いことがあります．後者の場合は，パッケージ管理システムによる管理からは外れてしまいますが，tlmgr を使って最新の状態にアップデートし続けることが可能です．&lt;/q&gt;
&lt;/blockquote&gt;
&lt;figcaption&gt;via &lt;q&gt;&lt;a href=&#34;https://texwiki.texjp.org/?Linux&#34;&gt;Linux - TeX Wiki&lt;/a&gt;&lt;/q&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;なかなか悩ましい選択だが，今回は &lt;code&gt;install-tl&lt;/code&gt; を使って導入と運用をしてみよう。
なお，対象は &lt;a href=&#34;http://www.tug.org/texlive/&#34; title=&#34;TeX Live - TeX Users Group&#34;&gt;TeX Live&lt;/a&gt; 2018 で（2019 はまだリリースされていない）。&lt;/p&gt;
&lt;h2&gt;&lt;a href=&#34;http://www.tug.org/texlive/&#34; title=&#34;TeX Live - TeX Users Group&#34;&gt;TeX Live&lt;/a&gt; 2018 のインストール&lt;/h2&gt;
&lt;p&gt;今回は初めてのインストールなので関係ないが，以前の環境があれば削除しておく。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ rm -rf /usr/local/texlive/2018
$ rm -rf ~/.texlive2018
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ダウンロードページから &lt;code&gt;install-tl-unx.tar.gz&lt;/code&gt; をダウンロードし中身を展開する。
その後 &lt;code&gt;install-tl&lt;/code&gt; を管理者権限で起動する。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ tar xvf install-tl-unx.tar.gz

$ ls install-tl*
install-tl-unx.tar.gz

install-tl-20190227:
LICENSE.CTAN  LICENSE.TL  install-tl  release-texlive.txt  texmf-dist  tlpkg

$ cd install-tl-20190227

$ sudo ./install-tl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ミラーサイトのリポジトリを使うなら&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo ./install-tl --repository http://mirror.ctan.org/systems/texlive/tlnet/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;とするらしい（後で気がついた）。&lt;/p&gt;
&lt;p&gt;起動直後の画面はこんな感じ。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;======================&amp;gt; TeX Live installation procedure &amp;lt;=====================

======&amp;gt;   Letters/digits in &amp;lt;angle brackets&amp;gt; indicate   &amp;lt;=======
======&amp;gt;   menu items for actions or customizations      &amp;lt;=======

 Detected platform: GNU/Linux on x86_64
 
 &amp;lt;B&amp;gt; set binary platforms: 1 out of 17

 &amp;lt;S&amp;gt; set installation scheme: scheme-full

 &amp;lt;C&amp;gt; set installation collections:
     40 collections out of 41, disk space required: 5806 MB

 &amp;lt;D&amp;gt; set directories:
   TEXDIR (the main TeX directory):
     !! default location: /usr/local/texlive/2018
     !! is not writable or not allowed, please select a different one!
   TEXMFLOCAL (directory for site-wide local files):
     /usr/local/texlive/texmf-local
   TEXMFSYSVAR (directory for variable and automatically generated data):
     /usr/local/texlive/2018/texmf-var
   TEXMFSYSCONFIG (directory for local config):
     /usr/local/texlive/2018/texmf-config
   TEXMFVAR (personal directory for variable and automatically generated data):
     ~/.texlive2018/texmf-var
   TEXMFCONFIG (personal directory for local config):
     ~/.texlive2018/texmf-config
   TEXMFHOME (directory for user-specific files):
     ~/texmf

 &amp;lt;O&amp;gt; options:
   [ ] use letter size instead of A4 by default
   [X] allow execution of restricted list of programs via \write18
   [X] create all format files
   [X] install macro/font doc tree
   [X] install macro/font source tree
   [ ] create symlinks to standard directories

 &amp;lt;V&amp;gt; set up for portable installation

Actions:
 &amp;lt;I&amp;gt; start installation to hard disk
 &amp;lt;P&amp;gt; save installation profile to &amp;#39;texlive.profile&amp;#39; and exit
 &amp;lt;H&amp;gt; help
 &amp;lt;Q&amp;gt; quit

Enter command: 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;オプション等を見て問題なければ &lt;code&gt;I&lt;/code&gt; を入力してインストールを開始する。
おそらく既定のままで大丈夫。&lt;/p&gt;
&lt;p&gt;さてここからは長いのでしばらく放置で大丈夫だろう。
今回は（&lt;a href=&#34;https://text.baldanders.info/remark/2017/09/install-tex-live-2017-for-windows/&#34; title=&#34;そうだ， TeX Live 2017 をインストールしよう！&#34;&gt;前回の経験&lt;/a&gt;を活かし）寝る直前にインストーラを仕掛けた。
私はやればできる子なのだ（自画自賛）。&lt;/p&gt;
&lt;p&gt;インストールが無事に完了すれば最後に以下のメッセージが表示される。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;Welcome to TeX Live!


See /usr/local/texlive/2018/index.html for links to documentation.
The TeX Live web site (https://tug.org/texlive/) contains any updates and
corrections. TeX Live is a joint project of the TeX user groups around the
world; please consider supporting it by joining the group best for you. The
list of groups is available on the web at https://tug.org/usergroups.html.


Add /usr/local/texlive/2018/texmf-dist/doc/man to MANPATH.
Add /usr/local/texlive/2018/texmf-dist/doc/info to INFOPATH.
Most importantly, add /usr/local/texlive/2018/bin/x86_64-linux
to your PATH for current and future sessions.
Logfile: /usr/local/texlive/2018/install-tl.log
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;パス設定&lt;/h2&gt;
&lt;p&gt;パス設定については手動で行ってもいいのだが &lt;code&gt;tlmgr&lt;/code&gt; コマンドを使うほうが簡単である。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo /usr/local/texlive/2018/bin/x86_64-linux/tlmgr path add
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;具体的には &lt;code&gt;/usr/local/texlive/2018/&lt;/code&gt; 以下の各種ファイルに対して &lt;code&gt;/usr/local/bin/&lt;/code&gt; 等へシンボリック・リンクを張っているらしい。
逆にリンクを削除する場合は&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo tlmgr path remove
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;とすれば安全に処理できる。&lt;/p&gt;
&lt;div class=&#34;box&#34;&gt;&lt;h3&gt;環境変数の指定&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;http://www.tug.org/texlive/&#34; title=&#34;TeX Live - TeX Users Group&#34;&gt;TeX Live&lt;/a&gt; は1年毎にアップグレードされるし，その度にリンクを切った張ったは微妙に嫌だったので， &lt;code&gt;/etc/profile.d/&lt;/code&gt; ディレクトリに以下の内容を書いたファイル &lt;code&gt;texlive-paths.sh&lt;/code&gt; を置いてみた（ファイル名は適当）。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# shellcheck shell=sh&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Expand $PATH to include the directory where TeX Live applications go.&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;texlive_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/usr/local/texlive/2018&amp;#34;&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;texlive_bin_path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;texlive_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/bin/x86_64-linux&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PATH&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;##*&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;texlive_bin_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; -a -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PATH&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;##*&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;texlive_bin_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;MANPATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;MANPATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;:&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;texlive_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;/texmf-dist/doc/man
    &lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;INFOPATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;INFOPATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;:&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;texlive_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;/texmf-dist/doc/info
    &lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;:&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;texlive_bin_path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ログイン時にこのファイルが実行され環境変数がセットされる。
この方法の欠点は管理者権限での実行時にはパスが通らないため&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo tlmgr version
sudo: tlmgr: コマンドが見つかりません
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;と言われてしまう点だろう。
普段使いなら問題ないんだけどね。
結局，シンボリック・リンクを張ったほうがいいみたい。&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.tug.org/texlive/&#34; title=&#34;TeX Live - TeX Users Group&#34;&gt;TeX Live&lt;/a&gt; を削除する際は &lt;code&gt;tlmgr path remove&lt;/code&gt; でリンクを削除するのを忘れずに。&lt;/p&gt;
&lt;/div&gt;
&lt;h2&gt;&lt;a href=&#34;http://www.tug.org/texlive/&#34; title=&#34;TeX Live - TeX Users Group&#34;&gt;TeX Live&lt;/a&gt; をアップデートしようとしたが&amp;hellip;&lt;/h2&gt;
&lt;p&gt;まずは参照するリポジトリを指定をしておこう。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo tlmgr option repository http://mirror.ctan.org/systems/texlive/tlnet
tlmgr: setting default package repository to http://mirror.ctan.org/systems/texlive/tlnet
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;このあと &lt;code&gt;tlmgr&lt;/code&gt; でアップデートを行おうとしたが&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo tlmgr update --self --all
TeX Live 2018 is frozen forever and will no
longer be updated.  This happens in preparation for a new release.

If you&amp;#39;re interested in helping to pretest the new release (when
pretests are available), please read https://tug.org/texlive/pretest.html.
Otherwise, just wait, and the new release will be ready in due time.
tlmgr: package repository http://ctan.math.washington.edu/tex-archive/systems/texlive/tlnet (verified)
tlmgr: saving backups to /usr/local/texlive/2018/tlpkg/backups
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;と言われてしまった。
そうか。
夏には 2019 が出るから現行版の更新は既に凍結されているのか。
迂闊だった &lt;code&gt;orz&lt;/code&gt;&lt;/p&gt;
&lt;h2&gt;各種設定変更&lt;/h2&gt;
&lt;p&gt;Windows と異なり，設定用の各コマンドは管理者権限（&lt;code&gt;sudo&lt;/code&gt;）で起動する点に気をつける必要がある。&lt;/p&gt;
&lt;h3&gt;自動実行可能な外部コマンドの指定&lt;/h3&gt;
&lt;p&gt;まずは &lt;code&gt;shell_escape_commands&lt;/code&gt; の値を変更する。
インストール直後は&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ kpsewhich -var-value=shell_escape_commands
bibtex,bibtex8,extractbb,gregorio,kpsewhich,makeindex,repstopdf,texosquery-jre8,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;となっているので &lt;code&gt;/usr/ocal/texlive/texmf-local/web2c/texmf.cnf&lt;/code&gt; ファイルを作成し以下を記述する。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;shell_escape_commands = \
bibtex,bibtex8,pbibtex,jbibtex,\
extractbb,\
gregorio,\
kpsewhich,\
makeindex,mendex,\
repstopdf,epspdf,\
texosquery-jre8,\
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;これで &lt;code&gt;shell_escape_commands&lt;/code&gt; の値が上書きされて&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ kpsewhich -var-value=shell_escape_commands
bibtex,bibtex8,pbibtex,jbibtex,extractbb,gregorio,kpsewhich,makeindex,mendex,repstopdf,epspdf,texosquery-jre8,
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;となる。&lt;/p&gt;
&lt;p&gt;設定を変更したら &lt;code&gt;mktexlsr&lt;/code&gt; で状態を更新しておくこと。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ sudo mktexlsr
mktexlsr: Updating /usr/local/texlive/2018/texmf-config/ls-R... 
mktexlsr: Updating /usr/local/texlive/2018/texmf-dist/ls-R... 
mktexlsr: Updating /usr/local/texlive/2018/texmf-var/ls-R... 
mktexlsr: Updating /usr/local/texlive/texmf-local/ls-R... 
mktexlsr: Done.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;日本語フォントの埋め込み設定&lt;/h3&gt;
&lt;p&gt;日本語フォントの埋め込み設定はどうなってるんだろうと思ったが&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ kanji-config-updmap status
CURRENT family for ja: ipaex
Standby family : ipa
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ありゃりゃ， IPA フォントしかないのか。
そりゃそうか。
Linux だもんな。&lt;/p&gt;
&lt;p&gt;ちなみに日本語フォントの埋め込みを行わない（非推奨）場合は&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ kanji-config-updmap --user nofont
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;とする。
変更結果は &lt;code&gt;~/.texlive2018/&lt;/code&gt; ディレクトリに反映される。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;--user&lt;/code&gt; ではなく &lt;code&gt;--sys&lt;/code&gt; オプションをつけてシステム全体の設定を変更する場合は管理者権限で起動すること&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;p&gt;そういえば &lt;a href=&#34;https://ipafont.ipa.go.jp/&#34; title=&#34;IPAexフォント/IPAフォント | IPAフォントのダウンロードサイトです&#34;&gt;IPAex&lt;/a&gt; フォントの Ver.004.01 がリリースされている。
あの&lt;a href=&#34;https://text.baldanders.info/remark/2017/12/character-of-the-new-era-name/&#34; title=&#34;新元号「文字」という技術的負債&#34;&gt;負の遺産&lt;/a&gt;のひとつ「元号の合成文字」である「令和（U+32FF “SQUARE ERA NAME REIWA”）」が追加されている。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://ipafont.ipa.go.jp/node21&#34;&gt;リリースノート(Release Note) | IPAexフォント/IPAフォント&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://forest.watch.impress.co.jp/docs/news/1182604.html&#34;&gt;情報処理推進機構、新元号“令和”の合字に対応した「IPAexフォント」v004.01を公開 - 窓の杜&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;とりあえず &lt;code&gt;/usr/local/texlive/2018/texmf-dist/fonts/truetype/public/ipaex&lt;/code&gt; ディレクトリにあるフォントファイルを差し替えればいいかな。
たぶん 2019 かその次の 2020 あたりで正式にアップデートされるだろう。&lt;/p&gt;
&lt;p&gt;その他フォントの設定については以下の拙文を参照のこと。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2017/10/using-source-han-fonts-by-japanese-tex/&#34;&gt;TeX 日本語環境で「源ノ」フォントを使ってみた&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2017/10/math-fonts/&#34;&gt;数式用フォントで遊ぶ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;試しに何かタイプセットしてみる&lt;/h2&gt;
&lt;p&gt;ちうわけでいつものあの文書ですね。
20世紀な内容でゴメン。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/spiegel-im-spiegel/charset_document&#34;&gt;spiegel-im-spiegel/charset_document: 「文字コードとその実装」 upLaTeX ドキュメント&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$ latexmk charset.tex
...
Latexmk: All targets (charset.pdf charset.dvi) are up-to-date
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;よし。
ちゃんと動いた。
Lunux 環境でも問題なさそうだな。
ついでに PDF/A への変換もやっておこう。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ ps2pdf14 -dPDFA -dPDFACompatibilityPolicy=1 -sProcessColorModel=DeviceCMYK charset.pdf charset-pdfa.pdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;これもちゃんと動いた。
フォントも正しく埋め込まれているようだ。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;./font-property.png&#34;&gt;&lt;img src=&#34;./font-property.png&#34; srcset=&#34;./font-property.png 570w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/figure&gt;
&lt;p&gt;もうひとつ， $\mathrm{Lua\LaTeX}$ で以下のタイプセットも試してみる。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2017/10/writing-code-with-lualatex/&#34;&gt;LuaLaTeX でコードを書いてみる&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;結果はこんな感じ。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;./output.png&#34;&gt;&lt;img src=&#34;./output.png&#34; srcset=&#34;./output.png 686w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;&#34;&gt;&lt;/a&gt;&lt;/figure&gt;
&lt;p&gt;よーし，うむうむ，よーし。&lt;/p&gt;
&lt;h2&gt;ブックマーク&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://www.tug.org/texlive/quickinstall.html&#34;&gt;Quick install - TeX Live - TeX Users Group&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;http://xartaky.hatenablog.jp/entry/2016-12-27-texlive-on-ubuntu&#34;&gt;Ubuntu 16.04 に TeX Live を入れる - 毎日もくもく&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2017/09/install-tex-live-2017-for-windows/&#34;&gt;そうだ， TeX Live 2017 (for Windows) をインストールしよう！&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;参考図書&lt;/h2&gt;
&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a class=&#34;item url&#34; href=&#34;https://www.amazon.co.jp/%E6%94%B9%E8%A8%82%E7%AC%AC7%E7%89%88-LaTeX2%CE%B5%E7%BE%8E%E6%96%87%E6%9B%B8%E4%BD%9C%E6%88%90%E5%85%A5%E9%96%80-%E5%A5%A5%E6%9D%91-%E6%99%B4%E5%BD%A6/dp/4774187054?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=4774187054&#34;&gt;&lt;img src=&#34;https://images-fe.ssl-images-amazon.com/images/I/51E5K7B53aL._SL160_.jpg&#34; width=&#34;127&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl class=&#34;fn&#34;&gt;
    &lt;dt&gt;&lt;a href=&#34;https://www.amazon.co.jp/%E6%94%B9%E8%A8%82%E7%AC%AC7%E7%89%88-LaTeX2%CE%B5%E7%BE%8E%E6%96%87%E6%9B%B8%E4%BD%9C%E6%88%90%E5%85%A5%E9%96%80-%E5%A5%A5%E6%9D%91-%E6%99%B4%E5%BD%A6/dp/4774187054?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=4774187054&#34;&gt;[改訂第7版]LaTeX2ε美文書作成入門&lt;/a&gt;&lt;/dt&gt;
	&lt;dd&gt;奥村 晴彦, 黒木 裕介&lt;/dd&gt;
    &lt;dd&gt;技術評論社 2017-01-24&lt;/dd&gt;
    &lt;dd&gt;Book 大型本&lt;/dd&gt;
    &lt;dd&gt;ASIN: 4774187054, EAN: 9784774187051&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;4&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;far fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;ついに第7版が登場。紙の本で買って常に側に置いておくのが吉。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34; &gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2017-09-27&#34;&gt;2017-09-27&lt;/abbr&gt; (powered by &lt;a href=&#34;https://github.com/spiegel-im-spiegel/amazon-item&#34; &gt;amazon-item&lt;/a&gt; v0.2.0)&lt;/p&gt;
&lt;/div&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;code&gt;kanji-config-updmap-sys&lt;/code&gt; コマンドでも同様。つか &lt;code&gt;kanji-config-updmap-sys&lt;/code&gt; コマンドは内部で &lt;code&gt;kanji-config-updmap --sys&lt;/code&gt; を起動しているだけなんだけど。 &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
	</entry><entry>
		<title>LaTeX で履歴書を書こう</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2018/11/resume-in-latex/" />
		<id>tag:text.Baldanders.info,2018-11-12:/remark/2018/11/resume-in-latex/</id>
		<published>2018-11-12T08:07:15+00:00</published>
		<updated>2019-05-05T02:50:26+00:00</updated>
		<summary>履歴書を LaTeX で書くことのメリットは入力ファイル自体がデータベースとして機能することなのよ。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">&lt;p&gt;久しぶりに履歴書を書くことになって，&lt;a href=&#34;http://www.dma.jim.osaka-u.ac.jp/view?u=2103&#34; title=&#34;研究者詳細 - 宮本 友介&#34;&gt;宮本友介&lt;/a&gt;さん作の「&lt;a href=&#34;http://koko15.hus.osaka-u.ac.jp/~yusuke/archive/rireki/&#34;&gt;JIS 規格 履歴書 LaTeX クラスファイル&lt;/a&gt;」の最新版を取ってこようとしたら，ページが無くなったのか URL が変わったのか, unreachable なのですよ。
これってもうメンテされてないってことなのか？ うーん。
しょうがないので別のスタイルファイルにしよう。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.tamacom.com/rireki-j.html&#34;&gt;履歴書スタイルファイル&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/shigio/rireki-style&#34;&gt;GitHub - shigio/rireki-style: Style file for writing resume.&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;FreeBSD ライセンスで公開されているので安心して利用できる。
サンプル用に &lt;code&gt;rireki.tex&lt;/code&gt; が同梱されているのでこれを参考に項目を埋めていけばよい。
顔写真は 縦:横＝4:3 比率の画像データを指定する。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;\顔写真{photo.jpg}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;README.md&lt;/code&gt; には EPS 形式の画像ファイルを使えってあるけど JPEG でも無問題。&lt;/p&gt;
&lt;p&gt;タイプセット手順は以下の通り。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ platex rireki
$ dvipdfmx -z9 -p jisb5 rireki.dvi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;そうそう。
入力は UTF-8 なのでご注意を。
いや，まぁ，このご時世に ISO-2022-JP とか Shift-JIS とか「捨て」だと思うけど。&lt;/p&gt;
&lt;p&gt;入力が UTF-8 なら &lt;code&gt;uplatex&lt;/code&gt; で処理したいよね。
&lt;code&gt;rireki.tex&lt;/code&gt; のプリアンブルには&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-latex&#34; data-lang=&#34;latex&#34;&gt;&lt;span class=&#34;k&#34;&gt;\documentclass&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;jarticle&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;と書かれているので，これを&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-latex&#34; data-lang=&#34;latex&#34;&gt;&lt;span class=&#34;k&#34;&gt;\documentclass&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;[uplatex]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;jsarticle&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;と書き換えれば &lt;code&gt;uplatex&lt;/code&gt; で処理できる。
用紙は &lt;code&gt;rireki.sty&lt;/code&gt; 内部で B5 に指定されているので &lt;code&gt;\documentclass&lt;/code&gt; で指定する必要はない。&lt;/p&gt;
&lt;p&gt;ちなみに $\mathrm{Lua\LaTeX}$ で処理しようと&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-latex&#34; data-lang=&#34;latex&#34;&gt;&lt;span class=&#34;k&#34;&gt;\documentclass&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;ltjsarticle&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;と書き換えて &lt;code&gt;lualatex&lt;/code&gt; コマンドを叩いてみたんだけど，途中でメモリ不足？ でコケてしまった。
うーん。&lt;/p&gt;
&lt;p&gt;$\mathrm{\LaTeX}$ 環境なんか用意できねーよ，って方は &lt;a href=&#34;https://cloudlatex.io/&#34; title=&#34;Cloud LaTeX | Build your own LaTeX environment, in seconds&#34;&gt;Cloud LaTeX&lt;/a&gt; を利用する手もある。&lt;/p&gt;
&lt;p&gt;履歴書を $\mathrm{\LaTeX}$ で書くことのメリットは，もちろん出力が綺麗なこともあるけど，入力テキストが構造化されているためデータベースとして機能し得ることなのよ。
そういう意味じゃ&lt;a href=&#34;http://www.dma.jim.osaka-u.ac.jp/view?u=2103&#34; title=&#34;研究者詳細 - 宮本 友介&#34;&gt;宮本友介&lt;/a&gt;さん作のクラスファイルのほうが（データベースとして）よくできてたんだけど今回のスタイルでも十分つかえる。&lt;/p&gt;
&lt;p&gt;履歴書を手書きで要求するという企業が今だにあるらしいが $\mathrm{\LaTeX}$ で出力したものを見て手書きで清書すればよい。
ホント馬鹿らしいよね。&lt;/p&gt;
&lt;p&gt;履歴書の用紙も文房具屋で買う必要などない。
顔写真だけ貼り付けたブランクの入力ファイルを用意してタイプセットしたものを必要なだけ印刷・コピーすればいいのだ。
自宅にプリンタがない人は&lt;a href=&#34;http://www.printing.ne.jp/&#34;&gt;ネットプリント&lt;/a&gt;のようなサービスを利用すればいいだろう。
私はゼロ年代中頃までに自宅のプリンタは捨てた。&lt;/p&gt;
&lt;p&gt;試しにブランクの履歴書データを上げておく。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;./blank.tex&#34;&gt;&lt;code&gt;blank.tex&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;./blank.pdf&#34;&gt;&lt;code&gt;blank.pdf&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;出力した PDF ファイルについて見開きにしたい場合もあるだろう（印刷時など）。
この場合は以下のページで紹介しているやり方が参考になる。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://doratex.hatenablog.jp/entry/20160610/1465560005&#34;&gt;pdfTeX による見開きPDFの結合・分割 - TeX Alchemist Online&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;上の &lt;code&gt;blank.pdf&lt;/code&gt; を見開き処理したものを以下に挙げておく。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;./blank-2up.tex&#34;&gt;&lt;code&gt;blank-2up.tex&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;./blank-2up.pdf&#34;&gt;&lt;code&gt;blank-2up.pdf&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;楽しくお仕事しましょう。&lt;/p&gt;
&lt;h2&gt;ブックマーク&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://texwiki.texjp.org/?%E5%AD%A6%E4%BC%9A%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E7%AD%89&#34;&gt;学会スタイル等 - TeX Wiki&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.yamamo10.jp/~yamamoto/comp/latex/dvipdfmx/dvipdfmx.html&#34;&gt;LaTeX pdf変換(dvipdfmx)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www2.japanriver.or.jp/search_kasen/search_help/refer_year.htm&#34;&gt;西暦・元号対照表&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;参考図書&lt;/h2&gt;
&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a class=&#34;item url&#34; href=&#34;https://www.amazon.co.jp/%E6%94%B9%E8%A8%82%E7%AC%AC7%E7%89%88-LaTeX2%CE%B5%E7%BE%8E%E6%96%87%E6%9B%B8%E4%BD%9C%E6%88%90%E5%85%A5%E9%96%80-%E5%A5%A5%E6%9D%91-%E6%99%B4%E5%BD%A6/dp/4774187054?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=4774187054&#34;&gt;&lt;img src=&#34;https://images-fe.ssl-images-amazon.com/images/I/51E5K7B53aL._SL160_.jpg&#34; width=&#34;127&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl class=&#34;fn&#34;&gt;
    &lt;dt&gt;&lt;a href=&#34;https://www.amazon.co.jp/%E6%94%B9%E8%A8%82%E7%AC%AC7%E7%89%88-LaTeX2%CE%B5%E7%BE%8E%E6%96%87%E6%9B%B8%E4%BD%9C%E6%88%90%E5%85%A5%E9%96%80-%E5%A5%A5%E6%9D%91-%E6%99%B4%E5%BD%A6/dp/4774187054?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=4774187054&#34;&gt;[改訂第7版]LaTeX2ε美文書作成入門&lt;/a&gt;&lt;/dt&gt;
	&lt;dd&gt;奥村 晴彦, 黒木 裕介&lt;/dd&gt;
    &lt;dd&gt;技術評論社 2017-01-24&lt;/dd&gt;
    &lt;dd&gt;Book 大型本&lt;/dd&gt;
    &lt;dd&gt;ASIN: 4774187054, EAN: 9784774187051&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;4&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;far fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;ついに第7版が登場。紙の本で買って常に側に置いておくのが吉。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34; &gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2017-09-27&#34;&gt;2017-09-27&lt;/abbr&gt; (powered by &lt;a href=&#34;https://github.com/spiegel-im-spiegel/amazon-item&#34; &gt;amazon-item&lt;/a&gt; v0.2.0)&lt;/p&gt;
&lt;/div&gt;
</content>
	</entry><entry>
		<title>TeX Live 2017 から 2018 へのアップグレード</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2018/09/upgrade-texlive-from-2017-to-2018/" />
		<id>tag:text.Baldanders.info,2018-09-24:/remark/2018/09/upgrade-texlive-from-2017-to-2018/</id>
		<published>2018-09-24T08:24:14+00:00</published>
		<updated>2019-07-09T13:58:21+00:00</updated>
		<summary>今回は update-tlmgr コマンドを使って2017年版から2018年版へアップグレードする方法を考える。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">&lt;p&gt;更新が滞っております。
ごめんペコン。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2017/09/install-tex-live-2017-for-windows/&#34;&gt;そうだ， TeX Live 2017 (for Windows) をインストールしよう！&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;1年前に &lt;a href=&#34;http://www.tug.org/texlive/&#34; title=&#34;TeX Live - TeX Users Group&#34;&gt;TeX Live&lt;/a&gt; 2017 をインストールしたのだけど，現在の最新は &lt;a href=&#34;http://www.tug.org/texlive/&#34; title=&#34;TeX Live - TeX Users Group&#34;&gt;TeX Live&lt;/a&gt; 2018 であり，2017年版のリポジトリは既にメンテナンスされていないようである。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ tlmgr update --self --all
tlmgr.pl: Remote repository is newer than local (2017 &amp;lt; 2018)
Cross release updates are only supported with
  update-tlmgr-latest(.sh/.exe) --update
Please see https://tug.org/texlive/upgrade.html for details.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;したがって2018年版（&lt;a href=&#34;http://www.tug.org/texlive/&#34; title=&#34;TeX Live - TeX Users Group&#34;&gt;TeX Live&lt;/a&gt; 2018）にアップグレードする必要がある。&lt;/p&gt;
&lt;p&gt;手っ取り早くやるなら最新版のインストーラを取ってきて実行すればいいのだが（かなり巨大），今回は &lt;code&gt;update-tlmgr&lt;/code&gt; コマンドを使って2017年版から2018年版へアップグレードする方法を考える。&lt;/p&gt;
&lt;p&gt;詳しくは以下のリンク先を参照していただくとして，この記事では，ごく簡単にやり方を紹介する。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://tug.org/texlive/upgrade.html&#34;&gt;Upgrade - TeX Live - TeX Users Group&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;まずは前提条件&lt;/h2&gt;
&lt;p&gt;以前インストールした &lt;a href=&#34;http://www.tug.org/texlive/&#34; title=&#34;TeX Live - TeX Users Group&#34;&gt;TeX Live&lt;/a&gt; 2017 のインストール先フォルダを &lt;code&gt;/usr/local/texlive/2017/&lt;/code&gt; とする。
Windows 環境であれば &lt;code&gt;C:\texlive\2017\&lt;/code&gt; などとなっているかもしれない。
適宜読み替えてほしい。&lt;/p&gt;
&lt;h2&gt;2018年版環境の作成&lt;/h2&gt;
&lt;p&gt;2018年版の環境を作るにはまず &lt;code&gt;/usr/local/texlive/2017/&lt;/code&gt; フォルダをまるっとコピーする。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ cd /usr/local/texlive
$ cp -a 2017 2018
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;これで2018年版用に &lt;code&gt;/usr/local/texlive/2018&lt;/code&gt; フォルダが作成されたはずである。
またストレージの節約のために &lt;code&gt;2018/&lt;/code&gt; フォルダ以下の &lt;code&gt;tlpkg/backups/&lt;/code&gt; フォルダ内のファイルを削除しておくとよい。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ cd 2018/tlpkg/backups
$ rm *
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;2018年版環境への切り替え&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;http://www.tug.org/texlive/&#34; title=&#34;TeX Live - TeX Users Group&#34;&gt;TeX Live&lt;/a&gt; へのパスを2018年版に切り替える。
具体的には &lt;code&gt;$PATH&lt;/code&gt; 環境変数の &lt;code&gt;/usr/local/texlive/2017/bin&lt;/code&gt; 部分を &lt;code&gt;/usr/local/texlive/&lt;/code&gt;&lt;strong&gt;2018&lt;/strong&gt;&lt;code&gt;/bin&lt;/code&gt;に変更する（環境変数変更後の反映を忘れずに）。&lt;/p&gt;
&lt;p&gt;Windows 版ではパス構成がちょっと違っていて， &lt;code&gt;C:\texlive\2017\bin\win32&lt;/code&gt; のようになっている。
同じく &lt;code&gt;2017&lt;/code&gt; → &lt;code&gt;2018&lt;/code&gt; と変更すればよい。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.atmarkit.co.jp/ait/articles/1805/11/news035.html&#34;&gt;Windows 10でPath環境変数を設定／編集する：Tech TIPS - ＠IT&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;code&gt;update-tlmgr&lt;/code&gt; による環境のアップグレード&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;http://www.tug.org/texlive/&#34; title=&#34;TeX Live - TeX Users Group&#34;&gt;TeX Live&lt;/a&gt; の配布サイト内のページ &lt;a href=&#34;http://mirror.ctan.org/systems/texlive/tlnet/&#34;&gt;http://mirror.ctan.org/systems/texlive/tlnet/&lt;/a&gt; へアクセスして &lt;code&gt;update-tlmgr-latest.sh&lt;/code&gt; をダウンロードして実行する（管理者権限での実行が必要な場合があるので注意）。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ cd /usr/local/texlive/2018
$ wget http://mirror.ctan.org/systems/texlive/tlnet/update-tlmgr-latest.sh
$ sh update-tlmgr-latest.sh - --upgrade
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ちなみに Windows 版では &lt;code&gt;update-tlmgr-latest.exe&lt;/code&gt; をダウンロードして実行すればいいようだ&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;h2&gt;各ファイルのアップデート&lt;/h2&gt;
&lt;p&gt;ここまでできたら &lt;code&gt;tlmgr&lt;/code&gt; コマンドで最新版にアップデートできるようになる（管理者権限での実行が必要な場合があるので注意）。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ tlmgr update --self --all
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;手元の Windows 環境では700個ほど更新された。
あまり使わないからアップデートもサボりがち。&lt;/p&gt;
&lt;p&gt;$\mathrm{Lua\TeX}$ を使う場合はフォントキャッシュのアップデートも忘れずに。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ luaotfload-tool -fu
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ちょろんと動作確認。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ luatex -v
This is LuaTeX, Version 1.07.0 (TeX Live 2018/W32TeX)

Execute  &amp;#39;luatex --credits&amp;#39;  for credits and version details.

There is NO warranty. Redistribution of this software is covered by
the terms of the GNU General Public License, version 2 or (at your option)
any later version. For more information about these matters, see the file
named COPYING and the LuaTeX source.

LuaTeX is Copyright 2018 Taco Hoekwater and the LuaTeX Team.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;よーし，うむうむ，よーし。&lt;/p&gt;
&lt;p&gt;あとは実際にタイプセットを行って問題ないなら2017年版は削除してしまっていいだろう。&lt;/p&gt;
&lt;h2&gt;【おまけの注意喚起】 Ghostscript の脆弱性に注意&lt;/h2&gt;
&lt;p&gt;Ghostscript 9.23 およびそれ以前には任意のコマンドを実行する脆弱性が存在する。
該当するバージョンを使用している方は &lt;a href=&#34;https://www.ghostscript.com/doc/9.24/News.htm&#34;&gt;9.24&lt;/a&gt; 以降へアップデートを。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.kb.cert.org/vuls/id/332928&#34;&gt;Vulnerability Note VU#332928 - Ghostscript contains multiple -dSAFER sandbox bypass vulnerabilities&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.jpcert.or.jp/at/2018/at180035.html&#34;&gt;Ghostscript の -dSAFER オプションの脆弱性に関する注意喚起&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;アップデートは計画的に。&lt;/p&gt;
&lt;h2&gt;ブックマーク&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://texwiki.texjp.org/&#34;&gt;TeX Wiki&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://texwiki.texjp.org/?TeX%20Live&#34;&gt;TeX Live - TeX Wiki&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://texwiki.texjp.org/?tlmgr&#34;&gt;tlmgr - TeX Wiki&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2019/06/upgrade-texlive-from-2018-to-2019/&#34;&gt;TeX Live 2018 から 2019 へのアップグレード&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;books&#34;&gt;参考図書&lt;/h2&gt;
&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a class=&#34;item url&#34; href=&#34;https://www.amazon.co.jp/%E6%94%B9%E8%A8%82%E7%AC%AC7%E7%89%88-LaTeX2%CE%B5%E7%BE%8E%E6%96%87%E6%9B%B8%E4%BD%9C%E6%88%90%E5%85%A5%E9%96%80-%E5%A5%A5%E6%9D%91-%E6%99%B4%E5%BD%A6/dp/4774187054?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=4774187054&#34;&gt;&lt;img src=&#34;https://images-fe.ssl-images-amazon.com/images/I/51E5K7B53aL._SL160_.jpg&#34; width=&#34;127&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl class=&#34;fn&#34;&gt;
    &lt;dt&gt;&lt;a href=&#34;https://www.amazon.co.jp/%E6%94%B9%E8%A8%82%E7%AC%AC7%E7%89%88-LaTeX2%CE%B5%E7%BE%8E%E6%96%87%E6%9B%B8%E4%BD%9C%E6%88%90%E5%85%A5%E9%96%80-%E5%A5%A5%E6%9D%91-%E6%99%B4%E5%BD%A6/dp/4774187054?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=4774187054&#34;&gt;[改訂第7版]LaTeX2ε美文書作成入門&lt;/a&gt;&lt;/dt&gt;
	&lt;dd&gt;奥村 晴彦, 黒木 裕介&lt;/dd&gt;
    &lt;dd&gt;技術評論社 2017-01-24&lt;/dd&gt;
    &lt;dd&gt;Book 大型本&lt;/dd&gt;
    &lt;dd&gt;ASIN: 4774187054, EAN: 9784774187051&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;4&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;far fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;ついに第7版が登場。紙の本で買って常に側に置いておくのが吉。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34; &gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2017-09-27&#34;&gt;2017-09-27&lt;/abbr&gt; (powered by &lt;a href=&#34;https://github.com/spiegel-im-spiegel/amazon-item&#34; &gt;amazon-item&lt;/a&gt; v0.2.0)&lt;/p&gt;
&lt;/div&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;Windows 版は対応してないような記述が見られたが &lt;code&gt;update-tlmgr-latest.exe&lt;/code&gt; でいけそうな気がするぅ。なお Windows 64bit 用のモジュールについてはインストーラが用意されていないので，「&lt;a href=&#34;https://text.baldanders.info/remark/2017/09/install-tex-live-2017-for-windows/&#34;&gt;そうだ， TeX Live 2017 (for Windows) をインストールしよう！&lt;/a&gt;」の後半部分を参考に手動でインストールすること。 &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
	</entry><entry>
		<title>ちょこっと MathJax 番外編： mathcomp パッケージの代替え</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2017/12/mathcomp-in-mathjax/" />
		<id>tag:text.Baldanders.info,2017-12-22:/remark/2017/12/mathcomp-in-mathjax/</id>
		<published>2017-12-22T10:15:52+00:00</published>
		<updated>2019-10-09T10:27:13+00:00</updated>
		<summary>MathJax では \tcdegree コマンドを持っていないようだ。ググってみたら「Unicode を使え」という身も蓋もない回答が見つかった。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">&lt;p&gt;今回は横道に外れて小ネタでいきます。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2017/09/getting-started-mathjax-1/&#34;&gt;ちょこっと MathJax： 初期設定&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2017/09/getting-started-mathjax-2/&#34;&gt;ちょこっと MathJax： 基本的な数式表現&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2017/10/getting-started-mathjax-3/&#34;&gt;ちょこっと MathJax： インライン数式と別行立て数式&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2017/12/mathcomp-in-mathjax/&#34;&gt;ちょこっと MathJax 番外編： mathcomp パッケージの代替え&lt;/a&gt; ← イマココ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;たとえば&lt;/p&gt;
&lt;div class=&#34;box&#34;&gt;
直角は ±90°。
&lt;/div&gt;
&lt;p&gt;をインライン数式で書くことを考える。&lt;/p&gt;
&lt;p&gt;昔の $\mathrm{\LaTeX}$ は「°」に相当する記号がなく， &lt;code&gt;90^{\circ}&lt;/code&gt; などと表記していた。
すなわち&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;直角は $\pm90^{\circ}$。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;と書いて&lt;/p&gt;
&lt;div class=&#34;box&#34;&gt;
直角は $\pm90^{\circ}$。
&lt;/div&gt;
&lt;p&gt;と表示させていたわけだ。
しかし &lt;code&gt;\circ&lt;/code&gt; ($\circ$) は角度を表す記号ではなく $+$ や $-$ と同じ2項演算子の記号である。
そこで今は &lt;a href=&#34;https://ctan.org/pkg/mathcomp&#34; title=&#34;https://ctan.org/pkg/mathcomp&#34;&gt;mathcomp&lt;/a&gt; パッケージの &lt;code&gt;\tcdegree&lt;/code&gt; コマンドを使って&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;直角は $\pm90\tcdegree$。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;とするのが正しいそうだ&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;p&gt;ところが &lt;a href=&#34;https://www.mathjax.org/&#34;&gt;MathJax&lt;/a&gt; では &lt;code&gt;\tcdegree&lt;/code&gt; コマンドを持っていないようで，上の記述ではエラーになる。
&lt;a href=&#34;https://www.mathjax.org/&#34;&gt;MathJax&lt;/a&gt; の&lt;a href=&#34;https://docs.mathjax.org/en/latest/input/tex/extensions/&#34; title=&#34;The TeX/LaTeX Extension List — MathJax 3.0 documentation&#34;&gt;機能拡張&lt;/a&gt;でもそれらしいものは見当たらず，誰かが公開してるってわけでもないっぽい。&lt;/p&gt;
&lt;p&gt;みんなどうやってるんだ？&lt;/p&gt;
&lt;p&gt;ググってみたら「Unicode の「°」文字を使うか &lt;code&gt;\unicode{xb0}&lt;/code&gt; で指定しろ」という身も蓋もない回答が見つかった。
どうもそれしかないらしい&amp;hellip; sigh&lt;/p&gt;
&lt;p&gt;そこで $\mathrm{\LaTeX}$ との互換性を保つため&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;nx&#34;&gt;MathJax&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nx&#34;&gt;tex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;macros&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;nx&#34;&gt;tcdegree&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;\\unicode{xb0}&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;という感じでマクロを組んでみた。
これで，以下のように表示可能になる。&lt;/p&gt;
&lt;div class=&#34;box&#34;&gt;
直角は $\pm90\tcdegree$。
&lt;/div&gt;
&lt;p&gt;&lt;a href=&#34;https://ctan.org/pkg/mathcomp&#34; title=&#34;https://ctan.org/pkg/mathcomp&#34;&gt;mathcomp&lt;/a&gt; パッケージで使える記号はかなりあるのだが，私がよく使いそうなもののみ以下に挙げる。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;Macros&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;$\mathrm{\LaTeX}$ Format&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;Output&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;tcdegree: [&#39;\\unicode{xb0}&#39;]&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;$35\tcdegree$&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;$35\tcdegree$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;tccelsius: [&#39;\\unicode{x2103}&#39;]&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;$35\,\tccelsius$&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;$35,\tccelsius$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;tcperthousand: [&#39;\\unicode{x2030}&#39;]&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;$35\,\tcperthousand$&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;$35,\tcperthousand$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;tcmu: [&#39;\\unicode{x3bc}&#39;]&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;$35\,\tcmu\mathrm{s}$&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;$35,\tcmu\mathrm{s}$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;tcohm: [&#39;\\unicode{x3a9}&#39;]&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;$35\,\tcohm$&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;$35,\tcohm$&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;\tccelsius&lt;/code&gt; は &lt;code&gt;\tcdegree\mathrm{C}&lt;/code&gt; でもいける（&lt;code&gt;$35\,\tcdegree\mathrm{C}$&lt;/code&gt; →  $35,\tcdegree\mathrm{C}$）。これなら華氏にも応用できる（&lt;code&gt;$35\,\tcdegree\mathrm{F}$&lt;/code&gt; →  $35,\tcdegree\mathrm{F}$）&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\tcmu&lt;/code&gt; は &lt;code&gt;\symup{\mu}&lt;/code&gt; みたいにしたいのだが &lt;code&gt;\symup&lt;/code&gt; コマンドに相当するものが &lt;a href=&#34;https://www.mathjax.org/&#34;&gt;MathJax&lt;/a&gt; にないっぽい&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\tcohm&lt;/code&gt; は &lt;code&gt;\Omega&lt;/code&gt; と等価，というかフォントのバランスを考えると &lt;code&gt;\Omega&lt;/code&gt; を使ったほうがいいと思う（&lt;code&gt;$35\,\Omega$&lt;/code&gt; →  $35,\Omega$）&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;ブックマーク&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://texwiki.texjp.org/?siunitx&#34;&gt;siunitx - TeX Wiki&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;books&#34;&gt;参考図書&lt;/h2&gt;
&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a class=&#34;item url&#34; href=&#34;https://www.amazon.co.jp/dp/4774187054?tag=baldandersinf-22&amp;linkCode=ogi&amp;th=1&amp;psc=1&#34;&gt;&lt;img src=&#34;https://m.media-amazon.com/images/I/51E5K7B53aL._SL160_.jpg&#34; width=&#34;127&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl class=&#34;fn&#34;&gt;
    &lt;dt&gt;&lt;a href=&#34;https://www.amazon.co.jp/dp/4774187054?tag=baldandersinf-22&amp;linkCode=ogi&amp;th=1&amp;psc=1&#34;&gt;[改訂第7版]LaTeX2ε美文書作成入門&lt;/a&gt;&lt;/dt&gt;
    &lt;dd&gt;奥村 晴彦 (著), 黒木 裕介 (著)&lt;/dd&gt;
    &lt;dd&gt;技術評論社 2017-01-24&lt;/dd&gt;
    &lt;dd&gt;大型本&lt;/dd&gt;
    &lt;dd&gt;4774187054 (ASIN), 9784774187051 (EAN), 4774187054 (ISBN)&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;4&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;far fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;ついに第7版が登場。紙の本で買って常に側に置いておくのが吉。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34;&gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2017-09-27&#34;&gt;2017-09-27&lt;/abbr&gt; (powered by &lt;a href=&#34;https://affiliate.amazon.co.jp/assoc_credentials/home&#34;&gt;PA-APIv5&lt;/a&gt;)&lt;/p&gt;
&lt;/div&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;他の方法としては &lt;a href=&#34;https://ctan.org/pkg/siunitx&#34; title=&#34;CTAN: Package siunitx&#34;&gt;siunitx&lt;/a&gt; パッケージを使って &lt;code&gt;\ang{90}&lt;/code&gt; のように記述する手がある。 &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
	</entry><entry>
		<title>ちょこっと MathJax： インライン数式と別行立て数式</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2017/10/getting-started-mathjax-3/" />
		<id>tag:text.Baldanders.info,2017-10-27:/remark/2017/10/getting-started-mathjax-3/</id>
		<published>2017-10-27T08:24:58+00:00</published>
		<updated>2019-10-09T10:27:13+00:00</updated>
		<summary>MathJax の数式の表示には2種類ある。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">&lt;p&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2017/09/getting-started-mathjax-2/&#34; title=&#34;ちょこっと MathJax： 基本的な数式表現&#34;&gt;前回&lt;/a&gt;からだいぶ間があいたけど，そろそろ続きを。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2017/09/getting-started-mathjax-1/&#34;&gt;ちょこっと MathJax： 初期設定&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2017/09/getting-started-mathjax-2/&#34;&gt;ちょこっと MathJax： 基本的な数式表現&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2017/10/getting-started-mathjax-3/&#34;&gt;ちょこっと MathJax： インライン数式と別行立て数式&lt;/a&gt; ← イマココ&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2017/12/mathcomp-in-mathjax/&#34;&gt;ちょこっと MathJax 番外編： mathcomp パッケージの代替え&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;インライン数式と別行立て数式&lt;/h2&gt;
&lt;p&gt;さて，&lt;a href=&#34;https://text.baldanders.info/remark/2017/09/getting-started-mathjax-1/&#34; title=&#34;ちょこっと MathJax： 初期設定&#34;&gt;初期設定&lt;/a&gt;の回でも少し言及したが，&lt;a href=&#34;https://www.mathjax.org/&#34;&gt;MathJax&lt;/a&gt; の数式の表示には2種類ある。
まず本文に埋め込まれる形で表示される数式。
これを「インライン数式（in-line math）」と呼ぶ。
インライン数式は &lt;code&gt;\(...\)&lt;/code&gt; で囲んで記述する。&lt;/p&gt;
&lt;p&gt;たとえば&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;エネルギーと質量には &lt;span class=&#34;s&#34;&gt;\(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;E&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;mc&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;\)&lt;/span&gt; の関係がある。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;と記述すると&lt;/p&gt;
&lt;div class=&#34;box&#34;&gt;
エネルギーと質量には \(E=mc^2\) の関係がある。
&lt;/div&gt;
&lt;p&gt;のように表示される。&lt;/p&gt;
&lt;p&gt;もうひとつは本文とは行を改めて表示される数式。
これを「別行立て数式（displayed equations）」と呼ぶ&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;。
別行立て数式は &lt;code&gt;$$...$$&lt;/code&gt; または &lt;code&gt;\[...\]&lt;/code&gt; で囲んで記述する。&lt;/p&gt;
&lt;p&gt;たとえば&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;エネルギーと質量には &lt;span class=&#34;sb&#34;&gt;\[&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;E&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;mc&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;\]&lt;/span&gt; の関係がある。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;と記述すると&lt;/p&gt;
&lt;div class=&#34;box&#34;&gt;
エネルギーと質量には \[E=mc^2\] の関係がある。
&lt;/div&gt;
&lt;p&gt;のように表示される。&lt;/p&gt;
&lt;p&gt;$\mathrm{\LaTeX}$ ではインライン数式については &lt;code&gt;\(...\)&lt;/code&gt; ではなく &lt;code&gt;$...$&lt;/code&gt; を使う。
なので設定をいじって &lt;code&gt;$...$&lt;/code&gt; を有効にしてしまおう。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;nx&#34;&gt;MathJax&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nx&#34;&gt;tex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;inlineMath&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;$&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;$&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;\\(&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;\\)&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;processEscapes&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// use \$ to produce a literal dollar sign (true is default)
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;設定について詳しくは&lt;a href=&#34;https://text.baldanders.info/remark/2017/09/getting-started-mathjax-1/&#34; title=&#34;ちょこっと MathJax： 初期設定&#34;&gt;初期設定&lt;/a&gt;の回を参照のこと&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;h2&gt;Textstyle と Displaystyle&lt;/h2&gt;
&lt;p&gt;先程の例で挙げた数式 $E=mc^2$ ではインライン数式と別行立て数式表示に（表示位置以外は）さしたる違いは見られないが，数式によっては表示が明らかに異なる場合がある。
たとえば &lt;code&gt;\sum_{k=1}^n a_k&lt;/code&gt; という記述について，インライン数式なら&lt;/p&gt;
&lt;div class=&#34;box&#34;&gt;
たとえば $\sum_{k=1}^n a_k$ という記述について
&lt;/div&gt;
&lt;p&gt;となるが，別行立て数式では&lt;/p&gt;
&lt;div class=&#34;box&#34;&gt;
たとえば \[\sum_{k=1}^n a_k\] という記述について
&lt;/div&gt;
&lt;p&gt;となる。&lt;/p&gt;
&lt;p&gt;インライン数式では，できるだけ数式が本文からはみ出ないように自動的に調節してくれているのである。
これを意図的に変えるには &lt;code&gt;\textstyle&lt;/code&gt;, &lt;code&gt;\displaystyle&lt;/code&gt;, &lt;code&gt;\limits&lt;/code&gt;, &lt;code&gt;\nolimits&lt;/code&gt; といったコマンドを使う。
以下に各コマンドを使った場合の表示の違いを挙げる。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;$\mathrm{TeX}$ 記法&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;表示&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;\textstyle\sum_{k=1}^n a_k&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;$\textstyle\sum_{k=1}^n a_k$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;\displaystyle\sum_{k=1}^n a_k&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;$\displaystyle\sum_{k=1}^n a_k$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;\textstyle\sum\limits_{k=1}^n a_k&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;$\textstyle\sum\limits_{k=1}^n a_k$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;\displaystyle\sum\nolimits_{k=1}^n a_k&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;$\displaystyle\sum\nolimits_{k=1}^n a_k$&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;分数表記&lt;/h2&gt;
&lt;p&gt;もうひとつ。
インライン数式と別行立て数式で気をつけるべきなのが分数の表記である。
たとえば &lt;code&gt;y=1/x&lt;/code&gt; を $\mathrm{TeX}$ 記法で記述する場合は &lt;code&gt;y=\frac{1}{x}&lt;/code&gt; と書くが，インライン数式の場合は&lt;/p&gt;
&lt;div class=&#34;box&#34;&gt;
たとえば &lt;code&gt;y=1/x&lt;/code&gt; は $y=\frac{1}{x}$ と書く
&lt;/div&gt;
&lt;p&gt;となり，別行立て数式の場合は&lt;/p&gt;
&lt;div class=&#34;box&#34;&gt;
たとえば &lt;code&gt;y=1/x&lt;/code&gt; は \[y=\frac{1}{x}\] と書く
&lt;/div&gt;
&lt;p&gt;となる。
しかしインライン数式の場合，これでは文字が小さくなりすぎるし，結局は本文からハミ出してしまう。
なのでインライン数式では &lt;code&gt;\frac&lt;/code&gt; を使うのではなくそのまま &lt;code&gt;$y=1/x$&lt;/code&gt; と書くのが良いとされている。&lt;/p&gt;
&lt;div class=&#34;box&#34;&gt;
たとえば &lt;code&gt;y=1/x&lt;/code&gt; は $y=1/x$ と書く
&lt;/div&gt;
&lt;p&gt;なお分数でも textstyle と displaystyle に相当する &lt;code&gt;\tfrac&lt;/code&gt; と &lt;code&gt;\dfrac&lt;/code&gt; がある。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;$\mathrm{TeX}$ 記法&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;表示&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;y=\tfrac{1}{x}&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;$y=\tfrac{1}{x}$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;y=\dfrac{1}{x}&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;$y=\dfrac{1}{x}$&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;ちなみに &lt;a href=&#34;https://www.mathjax.org/&#34;&gt;MathJax&lt;/a&gt; でも連分数（&lt;code&gt;\cfrac&lt;/code&gt;）が使える&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span class=&#34;sb&#34;&gt;\[&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\cfrac&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\cfrac&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\cfrac&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\cfrac&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\cdots&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;\]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;box&#34;&gt;
\[
b_0 + \cfrac{c_1}{b_1 +
  \cfrac{c_2}{b_2 +
  \cfrac{c_3}{b_3 +
  \cfrac{c_4}{b_4 + \cdots}}}}
\]
&lt;/div&gt;
&lt;p&gt;流石にこれはインライン数式じゃ無理だよね（笑）&lt;/p&gt;
&lt;h2&gt;インライン数式で高さを揃える。&lt;/h2&gt;
&lt;p&gt;インライン数式では &lt;code&gt;$\sqrt{g}$&lt;/code&gt; と &lt;code&gt;$\sqrt{h}$&lt;/code&gt; のように数式によって高さが不揃いになるものがある。&lt;/p&gt;
&lt;div class=&#34;box&#34;&gt;
インライン数式では $\sqrt{g}$ と $\sqrt{h}$ の高さが不揃い
&lt;/div&gt;
&lt;p&gt;高さを揃えるには &lt;code&gt;\mathstrut&lt;/code&gt; コマンドを使って以下のように記述する。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;\mathstrut コマンドを使って $\sqrt{\mathstrut g}$ と $\sqrt{\mathstrut h}$ の高さを揃えてみる
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;box&#34;&gt;
&lt;code&gt;\mathstrut&lt;/code&gt; コマンドを使って $\sqrt{\mathstrut g}$ と $\sqrt{\mathstrut h}$ の高さを揃えてみる
&lt;/div&gt;
&lt;p&gt;さらに &lt;code&gt;\smash&lt;/code&gt; コマンドとも組み合わせて&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;\smash コマンドも使って $\sqrt{\smash[b]{\mathstrut g}}$ と $\sqrt{\smash[b]{\mathstrut h}}$ を揃えてみる
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;box&#34;&gt;
&lt;code&gt;\smash&lt;/code&gt; コマンドも使って $\sqrt{\smash[b]{\mathstrut g}}$ と $\sqrt{\smash[b]{\mathstrut h}}$ を揃えてみる
&lt;/div&gt;
&lt;p&gt;とするともうちょっとだけいい感じになるようである&lt;sup id=&#34;fnref:4&#34;&gt;&lt;a href=&#34;#fn:4&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;4&lt;/a&gt;&lt;/sup&gt;。
折角なのでマクロに組み込んでしまおう。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;nx&#34;&gt;MathJax&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nx&#34;&gt;tex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;macros&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;nx&#34;&gt;ssqrt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;\\sqrt{\\smash[b]{\\mathstrut #1}}&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;これで以下のように書けば&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;\smash コマンドも使って $\ssqrt{g}$ と $\ssqrt{h}$ を揃えてみる
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;同じ結果が得られる。&lt;/p&gt;
&lt;div class=&#34;box&#34;&gt;
&lt;code&gt;\smash&lt;/code&gt; コマンドも使って $\ssqrt{g}$ と $\ssqrt{h}$ を揃えてみる
&lt;/div&gt;
&lt;h2&gt;別行立て数式に番号を振る&lt;/h2&gt;
&lt;p&gt;別行立て数式では数式に番号を振ることができる。たとえば &lt;code&gt;\[E=mc^2\]&lt;/code&gt; に (a) をいう番号を振りたければ &lt;code&gt;\tag&lt;/code&gt; コマンドを使って &lt;code&gt;\[E=mc^2 \tag{a}\]&lt;/code&gt; とする。&lt;/p&gt;
&lt;div class=&#34;box&#34;&gt;
\[E=mc^2 \tag{a}\]
&lt;/div&gt;
&lt;p&gt;この番号にはラベル &lt;code&gt;\label&lt;/code&gt; を付けて参照することができる。
たとえば &lt;code&gt;\[E=mc^2 \tag{b}\label{eq-b}\]&lt;/code&gt; としておいて&lt;/p&gt;
&lt;div class=&#34;box&#34;&gt;
\[E=mc^2 \tag{b}\label{eq-b}\]
&lt;/div&gt;
&lt;p&gt;このラベルを参照するには &lt;code&gt;\eqref{eq-b}&lt;/code&gt; でこのように →\eqref{eq-b}← 表示できる（&lt;code&gt;$...$&lt;/code&gt; で囲まなくてもよい）&lt;sup id=&#34;fnref:5&#34;&gt;&lt;a href=&#34;#fn:5&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;5&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;h3&gt;数式に通し番号を振る&lt;/h3&gt;
&lt;p&gt;ページ内で通し番号を振りたい場合は，以下のように設定を既定値（&lt;code&gt;none&lt;/code&gt;）から変更する（オプション設定については&lt;a href=&#34;https://text.baldanders.info/remark/2017/09/getting-started-mathjax-1/&#34; title=&#34;ちょこっと MathJax： 初期設定&#34;&gt;初期設定&lt;/a&gt;の回を参照）。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;nx&#34;&gt;MathJax&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nx&#34;&gt;tex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;tags&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ams&amp;#39;&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;実際に番号を振るには数式を &lt;code&gt;\[...\]&lt;/code&gt; で囲むのではなく &lt;code&gt;\begin{equation}...\end{equation}&lt;/code&gt; で囲む。
自動で番号が振られるので &lt;code&gt;\tag&lt;/code&gt; コマンドは不要である。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;エネルギーと質量には
&lt;span class=&#34;k&#34;&gt;\begin&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;equation&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
  E=mc&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;2 &lt;span class=&#34;k&#34;&gt;\label&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;eq-1st&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;\end&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;equation&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
の関係がある。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;box&#34;&gt;
エネルギーと質量には
\begin{equation}
  E=mc^2 \label{eq-1st}
\end{equation}
の関係がある。
&lt;/div&gt;
&lt;p&gt;参照も同様に →\eqref{eq-1st}← 表示できる。&lt;/p&gt;
&lt;p&gt;余談だが &lt;code&gt;\begin&lt;/code&gt; と &lt;code&gt;\end&lt;/code&gt; で囲まれた領域を $\mathrm{\LaTeX}$  では「環境」と呼ぶ。
&lt;code&gt;\begin{foober}...\end{foober}&lt;/code&gt; なら「&lt;code&gt;foobar&lt;/code&gt; 環境」と呼んだりする。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;equation&lt;/code&gt; にアスタリスクを付けた &lt;code&gt;equation*&lt;/code&gt; 環境では，環境内の数式を自動採番の対象外にできる&lt;sup id=&#34;fnref:6&#34;&gt;&lt;a href=&#34;#fn:6&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;6&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;エネルギーと質量には
&lt;span class=&#34;k&#34;&gt;\begin&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;equation*&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
  E=mc&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;2
&lt;span class=&#34;k&#34;&gt;\end&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;equation*&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
の関係がある。
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;box&#34;&gt;
エネルギーと質量には
\begin{equation*}
  E=mc^2
\end{equation*}
の関係がある。
&lt;/div&gt;
&lt;p&gt;&lt;code&gt;equation&lt;/code&gt; 環境以外にも &lt;code&gt;align&lt;/code&gt; 環境や &lt;code&gt;gather&lt;/code&gt; 環境なども自動採番の対象となる（自動採番を無効にするアスタリスクも有効）。
&lt;code&gt;align&lt;/code&gt; 環境などで特定の式に番号を振りたくない場合は &lt;code&gt;\notag&lt;/code&gt; コマンドを使って&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span class=&#34;k&#34;&gt;\begin&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;align&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
  (a+b)&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;2 &lt;span class=&#34;nb&#34;&gt;&amp;amp;&lt;/span&gt;= a&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;2+2ab+b&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;2 &lt;span class=&#34;k&#34;&gt;\\&lt;/span&gt;
  (a-b)&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;2 &lt;span class=&#34;nb&#34;&gt;&amp;amp;&lt;/span&gt;= a&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;2-2ab+b&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;2  &lt;span class=&#34;k&#34;&gt;\notag&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;\\&lt;/span&gt;
  (a+b)&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;3 &lt;span class=&#34;nb&#34;&gt;&amp;amp;&lt;/span&gt;= a&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;3+3a&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;2&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;b+3ab&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;2+b&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;3
&lt;span class=&#34;k&#34;&gt;\end&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;align&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;box&#34;&gt;
\begin{align}
  (a+b)^2 &amp;= a^2+2ab+b^2 \\
  (a-b)^2 &amp;= a^2-2ab+b^2  \notag \\
  (a+b)^3 &amp;= a^3+3a^{2}b+3ab^2+b^3
\end{align}
&lt;/div&gt;
&lt;p&gt;とすればよい。
また複数の数式を &lt;code&gt;split&lt;/code&gt; 環境や &lt;code&gt;aligned&lt;/code&gt; 環境で囲むことで複数の数式の塊に一つの番号を振ることもできる&lt;sup id=&#34;fnref:7&#34;&gt;&lt;a href=&#34;#fn:7&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;7&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span class=&#34;k&#34;&gt;\begin&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;equation&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;\begin&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;split&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
    (a+b)&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;2 &lt;span class=&#34;nb&#34;&gt;&amp;amp;&lt;/span&gt;= a&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;2+2ab+b&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;2 &lt;span class=&#34;k&#34;&gt;\\&lt;/span&gt;
    (a-b)&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;2 &lt;span class=&#34;nb&#34;&gt;&amp;amp;&lt;/span&gt;= a&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;2-2ab+b&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;2 &lt;span class=&#34;k&#34;&gt;\\&lt;/span&gt;
    (a+b)&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;3 &lt;span class=&#34;nb&#34;&gt;&amp;amp;&lt;/span&gt;= a&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;3+3a&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;2&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;b+3ab&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;2+b&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;3
  &lt;span class=&#34;k&#34;&gt;\end&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;split&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;\end&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;equation&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;box&#34;&gt;
\begin{equation}
\begin{split}
  (a+b)^2 &amp;= a^2+2ab+b^2 \\
  (a-b)^2 &amp;= a^2-2ab+b^2 \\
  (a+b)^3 &amp;= a^3+3a^{2}b+3ab^2+b^3
\end{split}
\end{equation}
&lt;/div&gt;
&lt;h2 id=&#34;books&#34;&gt;参考図書&lt;/h2&gt;
&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a class=&#34;item url&#34; href=&#34;https://www.amazon.co.jp/dp/4774187054?tag=baldandersinf-22&amp;linkCode=ogi&amp;th=1&amp;psc=1&#34;&gt;&lt;img src=&#34;https://m.media-amazon.com/images/I/51E5K7B53aL._SL160_.jpg&#34; width=&#34;127&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl class=&#34;fn&#34;&gt;
    &lt;dt&gt;&lt;a href=&#34;https://www.amazon.co.jp/dp/4774187054?tag=baldandersinf-22&amp;linkCode=ogi&amp;th=1&amp;psc=1&#34;&gt;[改訂第7版]LaTeX2ε美文書作成入門&lt;/a&gt;&lt;/dt&gt;
    &lt;dd&gt;奥村 晴彦 (著), 黒木 裕介 (著)&lt;/dd&gt;
    &lt;dd&gt;技術評論社 2017-01-24&lt;/dd&gt;
    &lt;dd&gt;大型本&lt;/dd&gt;
    &lt;dd&gt;4774187054 (ASIN), 9784774187051 (EAN), 4774187054 (ISBN)&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;4&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;far fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;ついに第7版が登場。紙の本で買って常に側に置いておくのが吉。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34;&gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2017-09-27&#34;&gt;2017-09-27&lt;/abbr&gt; (powered by &lt;a href=&#34;https://affiliate.amazon.co.jp/assoc_credentials/home&#34;&gt;PA-APIv5&lt;/a&gt;)&lt;/p&gt;
&lt;/div&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;「インライン数式」「別行立て数式」という言い回しは『&lt;a href=&#34;https://www.amazon.co.jp/dp/4774187054?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34; title=&#34;Amazon | [改訂第7版]LaTeX2ε美文書作成入門 | 奥村 晴彦, 黒木 裕介 通販&#34;&gt;LaTeX2ε美文書作成入門&lt;/a&gt;』を踏襲している。ちなみに “in-line math”, “displayed equations” は &lt;a href=&#34;https://www.mathjax.org/&#34;&gt;MathJax&lt;/a&gt; のドキュメントでの言い回し。 &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2017/09/getting-started-mathjax-1/&#34; title=&#34;ちょこっと MathJax： 初期設定&#34;&gt;初期設定&lt;/a&gt;の回でも言及しているが &lt;code&gt;processEscapes&lt;/code&gt; はパラグラフ &lt;code&gt;&amp;lt;p&amp;gt;...&amp;lt;/p&amp;gt;&lt;/code&gt; 内でのみ有効なようだ。つまり &lt;code&gt;processEscapes&lt;/code&gt; が有効な状態では，パラグラフ内の &lt;code&gt;\(...\)&lt;/code&gt; や &lt;code&gt;\[...\]&lt;/code&gt; がエスケープされてしまうので注意すること。 &lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;出典は『&lt;a href=&#34;https://www.amazon.co.jp/dp/4774187054?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34; title=&#34;Amazon | [改訂第7版]LaTeX2ε美文書作成入門 | 奥村 晴彦, 黒木 裕介 通販&#34;&gt;LaTeX2ε美文書作成入門&lt;/a&gt;』より。 &lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:4&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;これも『&lt;a href=&#34;https://www.amazon.co.jp/dp/4774187054?tag=baldandersinf-22&amp;amp;linkCode=ogi&amp;amp;th=1&amp;amp;psc=1&#34; title=&#34;Amazon | [改訂第7版]LaTeX2ε美文書作成入門 | 奥村 晴彦, 黒木 裕介 通販&#34;&gt;LaTeX2ε美文書作成入門&lt;/a&gt;』を参考にした。いつもお世話になっています。 &lt;a href=&#34;#fnref:4&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:5&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;数式参照用の id は &lt;a href=&#34;https://www.mathjax.org/&#34;&gt;MathJax&lt;/a&gt; で動的に生成されているので，ページ外からの参照はお勧めできない。 &lt;a href=&#34;#fnref:5&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:6&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;実は &lt;code&gt;\[...\]&lt;/code&gt; は &lt;code&gt;equation*&lt;/code&gt; 環境と等価である。 &lt;a href=&#34;#fnref:6&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:7&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;code&gt;split&lt;/code&gt; 環境は自動採番の対象外である。 &lt;a href=&#34;#fnref:7&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
	</entry><entry>
		<title>数式用フォントで遊ぶ</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2017/10/math-fonts/" />
		<id>tag:text.Baldanders.info,2017-10-05:/remark/2017/10/math-fonts/</id>
		<published>2017-10-04T21:58:54+00:00</published>
		<updated>2019-07-01T13:48:09+00:00</updated>
		<summary>数式用フォントに OpenType フォントを指定する場合は unicode-math パッケージを使う。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">&lt;p&gt;&lt;a href=&#34;https://text.baldanders.info/remark/2017/09/install-tex-live-2017-for-windows/&#34;&gt;TeX Live 2017 インストール&lt;/a&gt;後の「$\mathrm{\TeX}$ で遊ぼう」第四弾は&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;数式用フォントで遊ぼう&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;である。&lt;/p&gt;
&lt;h2&gt;既定状態での数式表示&lt;/h2&gt;
&lt;p&gt;$\mathrm{\TeX}$ および $\mathrm{\LaTeX}$ は元々が数式表現に優れている。
これは $\mathrm{Lua\TeX}$, $\mathrm{Lua\LaTeX}$ でも同じで，たとえばプリアンブルに特に何も書かなくても（『&lt;a href=&#34;https://www.amazon.co.jp/exec/obidos/ASIN/4774187054/baldandersinf-22/&#34; title=&#34;Amazon | [改訂第7版]LaTeX2ε美文書作成入門 | 奥村 晴彦, 黒木 裕介 通販&#34;&gt;LaTeX2ε美文書作成入門&lt;/a&gt;』より引用）&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span class=&#34;k&#34;&gt;\documentclass&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;[fleqn]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;ltjsarticle&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;\begin&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;document&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

``?`!`But aren&amp;#39;t Kafka&amp;#39;s &lt;span class=&#34;k&#34;&gt;\emph&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;Schlo&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\ss&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt; and &lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\AE&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;sop&amp;#39;s &lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\OE&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;uvres
often na&lt;span class=&#34;k&#34;&gt;\&amp;#34;&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\i&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;ve vis-&lt;span class=&#34;k&#34;&gt;\`&lt;/span&gt;a-vis the d&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\ae&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;monic ph&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\oe&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;nix&amp;#39;s
official r&lt;span class=&#34;k&#34;&gt;\^&lt;/span&gt;ole in fluffy souffl&lt;span class=&#34;k&#34;&gt;\&amp;#39;&lt;/span&gt;es!?&amp;#39;&amp;#39;

&lt;span class=&#34;sb&#34;&gt;\[&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\int&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\infty&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\frac&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\sin&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; x&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\sqrt&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; x&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; dx &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\sum&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\infty&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\frac&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\frac&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\prod&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\infty&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\frac&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\frac&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\pi&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;\]&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;\end&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;document&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;以下のような感じで適切に組んでくれる。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/37446584446/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/37446584446_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/37446584446_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;equation (1)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/37446584446/&#34;&gt;equation (1)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;もう少し変わった式やシンボルを使う場合には &lt;code&gt;amsmath&lt;/code&gt; および &lt;code&gt;amssymb&lt;/code&gt; パッケージを使って（同じく『&lt;a href=&#34;https://www.amazon.co.jp/exec/obidos/ASIN/4774187054/baldandersinf-22/&#34; title=&#34;Amazon | [改訂第7版]LaTeX2ε美文書作成入門 | 奥村 晴彦, 黒木 裕介 通販&#34;&gt;LaTeX2ε美文書作成入門&lt;/a&gt;』より引用）&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span class=&#34;k&#34;&gt;\documentclass&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;[fleqn]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;ltjsarticle&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;\usepackage&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;amsmath,amssymb&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;c&#34;&gt;% amsmath packages
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;\begin&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;document&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;\subsection&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;連分数（amsmathパッケージ）&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;\begin&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;equation&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
    b&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;0 + &lt;span class=&#34;k&#34;&gt;\cfrac&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;c&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;1&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;b&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;1 +
          &lt;span class=&#34;k&#34;&gt;\cfrac&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;c&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;2&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;b&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;2 +
          &lt;span class=&#34;k&#34;&gt;\cfrac&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;c&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;3&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;b&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;3 +
          &lt;span class=&#34;k&#34;&gt;\cfrac&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;c&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;4&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;b&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;4 + &lt;span class=&#34;k&#34;&gt;\cdots&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;\end&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;equation&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;\subsection&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;黒板文字（amssybパッケージ）&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;s&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\mathbb&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;ABCDEFGHIJELMN&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;$&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;\end&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;document&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;このように記述すれば，タイプセットの結果は&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/36825338243/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/36825338243_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/36825338243_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;equation (2)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/36825338243/&#34;&gt;equation (2)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;こんな感じになる。
ちなみに本文の欧文書体は Latin Modern，数式は Computer Modern で，&lt;code&gt;amssymb&lt;/code&gt; パッケージで提供される黒板太文字は AMSFonts と呼ばれるものだ&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;h2&gt;本文の欧文書体を OpenType フォントに変更する&lt;/h2&gt;
&lt;p&gt;$\mathrm{Lua\LaTeX}$ で本文の書体を OpenType フォントに変更するのはとても簡単になった。
本文の和文フォントを変更する方法は&lt;a href=&#34;https://text.baldanders.info/remark/2017/10/using-source-han-fonts-by-japanese-tex/&#34; title=&#34;TeX 日本語環境で「源ノ」フォントを使ってみた&#34;&gt;前々回に紹介した&lt;/a&gt;が，たとえば欧文書体として $\mathrm{\TeX}$ Gyre をセットする場合は&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span class=&#34;k&#34;&gt;\documentclass&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;[fleqn]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;ltjsarticle&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;k&#34;&gt;\usepackage&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;[no-math,sourcehan]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;luatexja-preset&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;c&#34;&gt;% Japanese fonts
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;c&#34;&gt;% Import fonts
&lt;/span&gt;&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\setmainfont&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;[Scale=MatchLowercase]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;TeXGyreTermes&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;k&#34;&gt;\setsansfont&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;[Scale=MatchLowercase]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;TeXGyreHeros&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;k&#34;&gt;\setmonofont&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;[AutoFakeSlant,BoldItalicFeatures={FakeSlant},Scale=MatchLowercase]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;Inconsolatazi4&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;\begin&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;document&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

...

&lt;span class=&#34;k&#34;&gt;\end&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;document&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;のように指定する。
欧文フォントの指定には &lt;code&gt;fontspec&lt;/code&gt; パッケージが必要だが，和文フォント設定用の &lt;code&gt;luatexja-preset&lt;/code&gt; パッケージに含まれているため，改めて &lt;code&gt;fontspec&lt;/code&gt; パッケージを明示する必要はない。&lt;/p&gt;
&lt;p&gt;ちなみにタイプライタ文字には &lt;a href=&#34;http://levien.com/type/myfonts/inconsolata.html&#34;&gt;Inconsolata&lt;/a&gt; を指定している&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;p&gt;書体を選択する場合は本文の書体と後述する数式用の書体があまりかけ離れないようバランスをとることが重要である。
『&lt;a href=&#34;https://www.amazon.co.jp/exec/obidos/ASIN/4774187054/baldandersinf-22/&#34; title=&#34;Amazon | [改訂第7版]LaTeX2ε美文書作成入門 | 奥村 晴彦, 黒木 裕介 通販&#34;&gt;LaTeX2ε美文書作成入門&lt;/a&gt;』には欧文書体についてかなりページを割いて解説されているので，一読することをお薦めする。&lt;/p&gt;
&lt;h2&gt;数式用の書体を変更する&lt;/h2&gt;
&lt;h3&gt;既存のパッケージを使う（Concrete ＋ Euler の場合）&lt;/h3&gt;
&lt;p&gt;たとえば，数学好きに人気の高い Concrete ＋ Euler フォントの組み合わだが，これは既存のパッケージを使ったほうがよさそうである（&lt;a href=&#34;#opt&#34;&gt;後述&lt;/a&gt;）。
フォントの指定も従来通り。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span class=&#34;k&#34;&gt;\documentclass&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;[fleqn]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;ltjsarticle&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c&#34;&gt;% Import fonts
&lt;/span&gt;&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\usepackage&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;ccfonts,eulervm&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;\begin&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;document&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;sb&#34;&gt;\[&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\int&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\infty&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\frac&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\sin&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; x&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\sqrt&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; x&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; dx &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\sum&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\infty&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\frac&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\frac&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\prod&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\infty&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\frac&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\frac&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\pi&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;\]&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;\end&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;document&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;結果は以下の通り。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/37464960082/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/37464960082_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/37464960082_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;equation (Concrete &amp;#43; Euler)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/37464960082/&#34;&gt;equation (Concrete &amp;#43; Euler)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h3&gt;OpenType フォントを使う（unicode-math パッケージ）&lt;/h3&gt;
&lt;p&gt;数式用の書体に OpenType フォントを指定する場合は &lt;a href=&#34;https://github.com/wspr/unicode-math&#34; title=&#34;wspr/unicode-math: XeLaTeX/LuaLaTeX package for using unicode/OpenType maths fonts&#34;&gt;&lt;code&gt;unicode-math&lt;/code&gt;&lt;/a&gt; パッケージを使うのが便利だ。
たとえば &lt;a href=&#34;https://ctan.org/pkg/tex-gyre-math-pagella&#34; title=&#34;CTAN: Package tex-gyre-math-pagella&#34;&gt;$\mathrm{\TeX}$ Gyre Pagella Math&lt;/a&gt; を使う場合は以下のように指定する&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span class=&#34;k&#34;&gt;\documentclass&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;[fleqn]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;ltjsarticle&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;k&#34;&gt;\usepackage&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;unicode-math&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;c&#34;&gt;% using unicode/OpenType maths fonts
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;c&#34;&gt;% Import fonts
&lt;/span&gt;&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\setmathfont&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;TeXGyrePagella-Math&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;\begin&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;document&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;sb&#34;&gt;\[&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\int&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\infty&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\frac&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\sin&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; x&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\sqrt&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; x&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; dx &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\sum&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\infty&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\frac&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\frac&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\prod&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\infty&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\frac&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\frac&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;\pi&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;\]&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;\end&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;document&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;結果は以下の通り。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/23644212118/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/23644212118_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/23644212118_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;equation (TeXGyrePagella-Math)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/23644212118/&#34;&gt;equation (TeXGyrePagella-Math)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;他の書体も紹介しよう。
&lt;a href=&#34;https://ctan.org/pkg/asana-math&#34; title=&#34;CTAN: Package asana-math&#34;&gt;Asana Math&lt;/a&gt; を利用する場合は，以下のように指定する。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span class=&#34;k&#34;&gt;\setmathfont&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;Asana-Math&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;結果は以下の通り。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/23644821888/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/23644821888_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/23644821888_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;equation (Asana-Math)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/23644821888/&#34;&gt;equation (Asana-Math)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/khaledhosny/euler-otf&#34; title=&#34;khaledhosny/euler-otf: An abandoned OpenType/Unicode math port of AMS Euler font&#34;&gt;Neo Euler&lt;/a&gt; を利用する場合は，&lt;a href=&#34;#elr-inst&#34;&gt;フォントを取得&lt;/a&gt;して以下のように指定する。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span class=&#34;k&#34;&gt;\setmathfont&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;Neo Euler&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;[math-style=upright]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;math-style&lt;/code&gt; オプションについては&lt;a href=&#34;#opt&#34;&gt;後述&lt;/a&gt;する。
結果は以下の通り。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/37239500550/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/37239500550_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/37239500550_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;equation (Neo Euler)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/37239500550/&#34;&gt;equation (Neo Euler)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;&lt;a href=&#34;http://www.stixfonts.org/&#34; title=&#34;STIX Fonts Project Website&#34;&gt;STIX&lt;/a&gt; については &lt;a href=&#34;http://www.tug.org/texlive/&#34; title=&#34;TeX Live - TeX Users Group&#34;&gt;TeX Live&lt;/a&gt; 2017 に収録されているものはデザインがイマイチな気がする。
なので&lt;a href=&#34;#stx2-inst&#34;&gt;バージョン2を取得&lt;/a&gt;して以下のように指定する。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span class=&#34;k&#34;&gt;\setmathfont&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;STIX Two Math&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;結果は以下の通り。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/36788335984/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/36788335984_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/36788335984_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;equation (STIX2 Math)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/36788335984/&#34;&gt;equation (STIX2 Math)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;&lt;a href=&#34;http://www.stixfonts.org/&#34; title=&#34;STIX Fonts Project Website&#34;&gt;STIX&lt;/a&gt; の fork とも言える（？） &lt;a href=&#34;https://github.com/khaledhosny/xits&#34; title=&#34;khaledhosny/xits: XITS - OpenType implementation of STIX fonts with math support&#34;&gt;XITS&lt;/a&gt; を利用する場合は，以下のように指定する。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span class=&#34;k&#34;&gt;\setmathfont&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;XITS-Math&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;結果は以下の通り。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/37450915146/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/37450915146_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/37450915146_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;equation (XITS Math)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/37450915146/&#34;&gt;equation (XITS Math)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&#34;opt&#34;&gt;unicode-math パッケージのオプション&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;unicode-math&lt;/code&gt; パッケージのオプションはいくつかあるが，今回はよく使うと思われるものについて紹介する。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;math-style&lt;/code&gt;, &lt;code&gt;bold-style&lt;/code&gt;, &lt;code&gt;sans-style&lt;/code&gt; 各オプションは数式の文字や記号のスタイルを指定する。
具体的には ラテン小文字，ラテン大文字，ギリシア小文字，ギリシア大文字 それぞれに対して「立体（upright）」または「斜体（slant）」の組み合わせを指定する。&lt;/p&gt;
&lt;p&gt;数式全体（&lt;code&gt;math-style&lt;/code&gt;）のスタイル設定は以下の通り。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;&lt;code&gt;math-style&lt;/code&gt;&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;L小文字&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;L大文字&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;G小文字&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;G大文字&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;ISO&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;斜体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;斜体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;斜体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;斜体&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;TeX&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;斜体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;斜体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;斜体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;立体&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;french&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;斜体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;立体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;立体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;立体&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;upright&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;立体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;立体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;立体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;立体&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;code&gt;\symbf&lt;/code&gt; 指定時（&lt;code&gt;bold-style&lt;/code&gt;）のスタイル設定は以下の通り。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;&lt;code&gt;bold-style&lt;/code&gt;&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;L小文字&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;L大文字&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;G小文字&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;G大文字&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;ISO&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;斜体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;斜体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;斜体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;斜体&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;TeX&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;立体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;立体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;斜体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;立体&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;upright&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;立体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;立体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;立体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;立体&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;code&gt;\symsf&lt;/code&gt; 指定時（&lt;code&gt;sans-style&lt;/code&gt;）のスタイル設定は以下の通り。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;&lt;code&gt;sans-style&lt;/code&gt;&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;L小文字&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;L大文字&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;G小文字&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;G大文字&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;italic&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;斜体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;斜体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;斜体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;斜体&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;upright&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;立体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;立体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;立体&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;立体&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;オプションの指定方法は以下の通り。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span class=&#34;k&#34;&gt;\usepackage&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;[math-style=ISO,bold-style=ISO]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;unicode-math&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;または&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span class=&#34;k&#34;&gt;\usepackage&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;unicode-math&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;\unimathsetup&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;%
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;    math-style=ISO,&lt;span class=&#34;c&#34;&gt;%
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;    bold-style=ISO&lt;span class=&#34;c&#34;&gt;%
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;フォント指定時にオプションを指定することもできる。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span class=&#34;k&#34;&gt;\setmathfont&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;Neo Euler&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;[math-style=upright]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;Neo Euler 書体について&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/khaledhosny/euler-otf&#34; title=&#34;khaledhosny/euler-otf: An abandoned OpenType/Unicode math port of AMS Euler font&#34;&gt;Neo Euler&lt;/a&gt; のギリシア文字には斜体がないようで， &lt;code&gt;math-style&lt;/code&gt; の値を &lt;code&gt;ISO&lt;/code&gt; または &lt;code&gt;TeX&lt;/code&gt; に設定するとギリシア文字が表示されない。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/23648392388/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/23648392388_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/23648392388_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;equation (Neo Euler 2)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/23648392388/&#34;&gt;equation (Neo Euler 2)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;他にも AMSFonts にあるシンボル（先程の黒板太文字とか）が存在しなかったりするようだ。
Euler フォントに関しては，使うのであれば， OpenType ではなく既存のパッケージを使うほうが簡単だろう。&lt;/p&gt;
&lt;h2 id=&#34;elr-inst&#34;&gt;【付録1】 euler.otf ファイルのインストール&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;euler.otf&lt;/code&gt; ファイルは &lt;a href=&#34;http://www.tug.org/texlive/&#34; title=&#34;TeX Live - TeX Users Group&#34;&gt;TeX Live&lt;/a&gt; 2017 には収録されていないため手動でインストールする必要がある。&lt;/p&gt;
&lt;p&gt;といっても簡単で，まず &lt;code&gt;{$TEXMFLOCAL}/fonts/opentype/public/&lt;/code&gt; フォルダを作成し，そこに &lt;a href=&#34;https://github.com/khaledhosny/euler-otf&#34; title=&#34;khaledhosny/euler-otf: An abandoned OpenType/Unicode math port of AMS Euler font&#34;&gt;&lt;code&gt;euler-otf&lt;/code&gt;&lt;/a&gt; リポジトリを &lt;code&gt;git clone&lt;/code&gt; すればOK。
ちなみに &lt;code&gt;$TEXMFLOCAL&lt;/code&gt; の場所は &lt;code&gt;kpsewhich&lt;/code&gt; コマンドで調べられる。
いつもの場所だね。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ kpsewhich -var-value=TEXMFLOCAL
C:/texlive/texmf-local
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;コピーできたら &lt;code&gt;mktexlsr&lt;/code&gt; コマンドを実行して &lt;code&gt;ls-R&lt;/code&gt; を更新し，さらに &lt;code&gt;luaotfload-tool&lt;/code&gt; も実行すること。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ mktexlsr
mktexlsr: Updating C:/texlive/texmf-local/ls-R...
mktexlsr: Updated C:/texlive/texmf-local/ls-R.
mktexlsr: Updating C:/texlive/2017/texmf-config/ls-R...
mktexlsr: Updated C:/texlive/2017/texmf-config/ls-R.
mktexlsr: Updating C:/texlive/2017/texmf-var/ls-R...
mktexlsr: Updated C:/texlive/2017/texmf-var/ls-R.
mktexlsr: Updating C:/texlive/2017/texmf-dist/ls-R...
mktexlsr: Updated C:/texlive/2017/texmf-dist/ls-R.
mktexlsr: Done.

$ luaotfload-tool --update
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ちゃんとインストールできたか確認も忘れずに。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ luaotfload-tool --fuzzy --find=&amp;#34;neo euler&amp;#34;
luaotfload | resolve : Font &amp;#34;neo euler&amp;#34; found!
luaotfload | resolve : Resolved file name &amp;#34;c:/texlive/texmf-local/fonts/opentype/public/euler-otf/euler.otf&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;stx2-inst&#34;&gt;【付録2】 STIX2 のインストール&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;http://www.stixfonts.org/&#34; title=&#34;STIX Fonts Project Website&#34;&gt;STIX&lt;/a&gt; バージョン2（zip ファイル）をダウンロード&lt;sup id=&#34;fnref:4&#34;&gt;&lt;a href=&#34;#fn:4&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;4&lt;/a&gt;&lt;/sup&gt; し， &lt;code&gt;Fonts/OTF/&lt;/code&gt; フォルダにある以下のファイルを &lt;code&gt;{$TEXMFLOCAL}/fonts/opentype/public/STIX2/&lt;/code&gt; フォルダにコピーする。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;STIX2Math.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;STIX2Text-Bold.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;STIX2Text-BoldItalic.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;STIX2Text-Italic.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;STIX2Text-Regular.otf&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;コピーできたら &lt;code&gt;mktexlsr&lt;/code&gt; コマンドを実行して &lt;code&gt;ls-R&lt;/code&gt; を更新し，さらに &lt;code&gt;luaotfload-tool&lt;/code&gt; も実行すること。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ mktexlsr
mktexlsr: Updating C:/texlive/texmf-local/ls-R...
mktexlsr: Updated C:/texlive/texmf-local/ls-R.
mktexlsr: Updating C:/texlive/2017/texmf-config/ls-R...
mktexlsr: Updated C:/texlive/2017/texmf-config/ls-R.
mktexlsr: Updating C:/texlive/2017/texmf-var/ls-R...
mktexlsr: Updated C:/texlive/2017/texmf-var/ls-R.
mktexlsr: Updating C:/texlive/2017/texmf-dist/ls-R...
mktexlsr: Updated C:/texlive/2017/texmf-dist/ls-R.
mktexlsr: Done.

$ luaotfload-tool --update
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ちゃんとインストールできたか確認も忘れずに。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ luaotfload-tool --fuzzy --find=&amp;#34;stix two math&amp;#34;
luaotfload | resolve : Font &amp;#34;stix two math&amp;#34; found!
luaotfload | resolve : Resolved file name &amp;#34;c:/texlive/texmf-local/fonts/opentype/public/stix2/stix2math.otf&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;ブックマーク&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span&gt;&lt;a href=&#34;http://mirrors.ibiblio.org/CTAN/macros/latex/contrib/unicode-math/unicode-math.pdf&#34;&gt;Experimental Unicode mathematical typesetting: The unicode-math package &lt;sup&gt;&lt;i class=&#34;far fa-file-pdf&#34;&gt;&lt;/i&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://org-technology.com/posts/lualatex-unicode-math.html&#34;&gt;LuaLaTeX で unicode-math を使う場合の書体変更コマンド | org-技術&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;books&#34;&gt;参考図書&lt;/h2&gt;
&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a class=&#34;item url&#34; href=&#34;https://www.amazon.co.jp/%E6%94%B9%E8%A8%82%E7%AC%AC7%E7%89%88-LaTeX2%CE%B5%E7%BE%8E%E6%96%87%E6%9B%B8%E4%BD%9C%E6%88%90%E5%85%A5%E9%96%80-%E5%A5%A5%E6%9D%91-%E6%99%B4%E5%BD%A6/dp/4774187054?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=4774187054&#34;&gt;&lt;img src=&#34;https://images-fe.ssl-images-amazon.com/images/I/51E5K7B53aL._SL160_.jpg&#34; width=&#34;127&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl class=&#34;fn&#34;&gt;
    &lt;dt&gt;&lt;a href=&#34;https://www.amazon.co.jp/%E6%94%B9%E8%A8%82%E7%AC%AC7%E7%89%88-LaTeX2%CE%B5%E7%BE%8E%E6%96%87%E6%9B%B8%E4%BD%9C%E6%88%90%E5%85%A5%E9%96%80-%E5%A5%A5%E6%9D%91-%E6%99%B4%E5%BD%A6/dp/4774187054?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=4774187054&#34;&gt;[改訂第7版]LaTeX2ε美文書作成入門&lt;/a&gt;&lt;/dt&gt;
	&lt;dd&gt;奥村 晴彦, 黒木 裕介&lt;/dd&gt;
    &lt;dd&gt;技術評論社 2017-01-24&lt;/dd&gt;
    &lt;dd&gt;Book 大型本&lt;/dd&gt;
    &lt;dd&gt;ASIN: 4774187054, EAN: 9784774187051&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;4&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;far fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;ついに第7版が登場。紙の本で買って常に側に置いておくのが吉。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34; &gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2017-09-27&#34;&gt;2017-09-27&lt;/abbr&gt; (powered by &lt;a href=&#34;https://github.com/spiegel-im-spiegel/amazon-item&#34; &gt;amazon-item&lt;/a&gt; v0.2.0)&lt;/p&gt;
&lt;/div&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;code&gt;amsmath&lt;/code&gt; および &lt;code&gt;amssymb&lt;/code&gt; パッケージは AMS (AmericanMathenatical Society; 米国数学会) が数学論文記述用に開発した $\mathrm{\TeX}$ 用のパッケージ及び文字・記号がベースになっていて，このうちの文字・記号のコレクションが AMSFonts と呼ばれている。 AMSFonts は &lt;code&gt;amssymb&lt;/code&gt; パッケージを指定することで使用できる。また $\mathrm{\TeX}$ 用の OpenType フォントには AMSFonts を収録したものもある。 &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;前回の「&lt;a href=&#34;https://text.baldanders.info/remark/2017/10/writing-code-with-lualatex/&#34;&gt;LuaLaTeX でコードを書いてみる&lt;/a&gt;」を参照のこと。 &lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;code&gt;amsmath&lt;/code&gt; パッケージを併用する場合は &lt;a href=&#34;https://github.com/wspr/unicode-math&#34; title=&#34;wspr/unicode-math: XeLaTeX/LuaLaTeX package for using unicode/OpenType maths fonts&#34;&gt;&lt;code&gt;unicode-math&lt;/code&gt;&lt;/a&gt; パッケージの前に&lt;code&gt;amsmath&lt;/code&gt; パッケージを指定しないとタイプセット時にエラーになる。なお &lt;code&gt;amssymb&lt;/code&gt; パッケージは必要ない。 &lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:4&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;ダウンロード・ページは広告だらけで且つ&lt;a href=&#34;http://gigazine.net/news/20150722-sourceforge/&#34; title=&#34;オープンソースソフトウェアの老舗サイト「SourceForge」はいかにして堕ちていったのか - GIGAZINE&#34;&gt;色々と悪名高い SourceForge&lt;/a&gt; なのでご注意を。 &lt;a href=&#34;#fnref:4&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
	</entry><entry>
		<title>LuaLaTeX でコードを書いてみる</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2017/10/writing-code-with-lualatex/" />
		<id>tag:text.Baldanders.info,2017-10-04:/remark/2017/10/writing-code-with-lualatex/</id>
		<published>2017-10-04T09:19:51+00:00</published>
		<updated>2019-05-05T02:50:26+00:00</updated>
		<summary>とりあえず Go 言語による以下のコードを LuaLaTeX で書くことを考える。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">&lt;p&gt;（なんか，すっかりシリーズ化しちゃったなぁ。別 section にすべきだったか？）&lt;/p&gt;
&lt;p&gt;さて，&lt;a href=&#34;https://text.baldanders.info/remark/2017/09/install-tex-live-2017-for-windows/&#34;&gt;TeX Live 2017 インストール&lt;/a&gt;後の「$\mathrm{\TeX}$ で遊ぼう」第三弾は&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;$\mathrm{Lua\LaTeX}$ でコードを書いてみる&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;である。
といっても $\mathrm{Lua\LaTeX}$ 特有の部分は少ないと思うので，後半のフォント指定以外は $\mathrm{p\LaTeX}$ とかでもいけるだろう。&lt;/p&gt;
&lt;p&gt;とりあえず &lt;a href=&#34;https://golang.org/&#34; title=&#34;The Go Programming Language&#34;&gt;Go 言語&lt;/a&gt;による以下のコードを $\mathrm{Lua\LaTeX}$ で書くことを考える。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Hello, world&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;安直に &lt;code&gt;verbatim&lt;/code&gt; 環境を使う手もあるが，世の中には &lt;a href=&#34;https://ctan.org/tex-archive/macros/latex/contrib/listings&#34; title=&#34;CTAN: /tex-archive/macros/latex/contrib/listings&#34;&gt;&lt;code&gt;listings&lt;/code&gt;&lt;/a&gt; パッケージなる便利なものがあるらしい。
これを使ってまずは&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span class=&#34;k&#34;&gt;\documentclass&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;ltjsarticle&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;\usepackage&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;[no-math,sourcehan]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;luatexja-preset&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;c&#34;&gt;% Japanese fonts
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;k&#34;&gt;\usepackage&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;listings&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;k&#34;&gt;\lstset&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;span class=&#34;hl&#34;&gt;    frame=single,
&lt;/span&gt;&lt;span class=&#34;hl&#34;&gt;    basicstyle=&lt;span class=&#34;k&#34;&gt;\small&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\ttfamily&lt;/span&gt;,
&lt;/span&gt;&lt;span class=&#34;hl&#34;&gt;    tabsize=4
&lt;/span&gt;&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;\begin&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;document&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;\section&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;Go 言語による Hello World&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;k&#34;&gt;\begin&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;lstlisting&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;package main

import &amp;#34;fmt&amp;#34;

func main() &lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;
    for i := 0; i &amp;lt; 10; i++ &lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;
        fmt.Println(&amp;#34;Hello, world&amp;#34;)
    &lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;k&#34;&gt;\end&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;lstlisting&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;\end&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;document&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;と書いてみる。
結果はこんな感じ。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/37440154426/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/37440154426_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/37440154426_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;code with LuaLaTeX (1)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/37440154426/&#34;&gt;code with LuaLaTeX (1)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;悪かないけど，キーワードの強調表示くらい欲しいよね。
&lt;a href=&#34;https://ctan.org/tex-archive/macros/latex/contrib/listings&#34; title=&#34;CTAN: /tex-archive/macros/latex/contrib/listings&#34;&gt;&lt;code&gt;listings&lt;/code&gt;&lt;/a&gt; パッケージでは &lt;code&gt;language=C++&lt;/code&gt; みたいな感じに言語を指定できるらしい。
じゃあ，ってんで早速 &lt;code&gt;language=Go&lt;/code&gt; とかやってみたんだけど「知らんがな」って怒られた。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;! Package Listings Error: Couldn&amp;#39;t load requested language.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;んー。
ってことは誰か &lt;a href=&#34;https://golang.org/&#34; title=&#34;The Go Programming Language&#34;&gt;Go 言語&lt;/a&gt;用の補助パッケージを作ってくれていれば&amp;hellip; というわけで探したらありましたよ。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/julienc91/listings-golang&#34;&gt;julienc91/listings-golang: Golang support for the listings package in LaTeX&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;神！！！&lt;/p&gt;
&lt;p&gt;というわけで，ここにある &lt;code&gt;listings-golang.sty&lt;/code&gt; を取ってきて作業フォルダに置けばいいんだけど，折角なら定常的に使いたいので，以下のフォルダを掘って，そこにリポジトリを git clone してしまった。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;{$TEXMFLOCAL}/tex/latex/&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ちなみに &lt;code&gt;$TEXMFLOCAL&lt;/code&gt; の場所は &lt;code&gt;kpsewhich&lt;/code&gt; コマンドで調べられる。
いつもの場所だね。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ kpsewhich -var-value=TEXMFLOCAL
C:/texlive/texmf-local
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;mktexlsr&lt;/code&gt; コマンドで &lt;code&gt;ls-R&lt;/code&gt; を更新するのも忘れずに。&lt;/p&gt;
&lt;p&gt;では，先程の文書を &lt;a href=&#34;https://github.com/julienc91/listings-golang&#34; title=&#34;julienc91/listings-golang: Golang support for the listings package in LaTeX&#34;&gt;&lt;code&gt;listings-golang&lt;/code&gt;&lt;/a&gt; パッケージを使って以下のように書き換える&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span class=&#34;k&#34;&gt;\documentclass&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;ltjsarticle&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;\usepackage&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;[no-math,sourcehan]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;luatexja-preset&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;c&#34;&gt;% Japanese fonts
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;k&#34;&gt;\usepackage&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;graphicx,xcolor&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\usepackage&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;listings&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;k&#34;&gt;\usepackage&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;listings-golang&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;c&#34;&gt;% import this package after listings
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\lstset&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;
    frame=single,
    basicstyle=&lt;span class=&#34;k&#34;&gt;\small&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\ttfamily&lt;/span&gt;,
    tabsize=4,
&lt;span class=&#34;hl&#34;&gt;    keywordstyle=&lt;span class=&#34;k&#34;&gt;\color&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;red&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;span class=&#34;hl&#34;&gt;    stringstyle=&lt;span class=&#34;k&#34;&gt;\color&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;blue&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;\begin&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;document&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;\section&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;Go 言語による Hello World&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;k&#34;&gt;\begin&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;lstlisting&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;[language=Golang]
&lt;/span&gt;package main

import &amp;#34;fmt&amp;#34;

func main() &lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;
    for i := 0; i &amp;lt; 10; i++ &lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;
        fmt.Println(&amp;#34;Hello, world&amp;#34;)
    &lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;\end&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;lstlisting&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;\end&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;document&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;結果はこんな感じ。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/37488315861/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/37488315861_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/37488315861_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;code with LuaLaTeX (2)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/37488315861/&#34;&gt;code with LuaLaTeX (2)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;おっとお。
原色は派手すぎたか。
まぁ，ここでは分かりやすさ優先ってことで。&lt;/p&gt;
&lt;p&gt;実は &lt;a href=&#34;https://github.com/julienc91/listings-golang&#34; title=&#34;julienc91/listings-golang: Golang support for the listings package in LaTeX&#34;&gt;&lt;code&gt;listings-golang&lt;/code&gt;&lt;/a&gt; パッケージの中身はそれほど難しくなくて（でも自分でやれって言われたらやっぱり面倒くさいんだけど）&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span class=&#34;c&#34;&gt;%% Golang definition for listings
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;%% http://github.io/julienc91/lstlistings-golang
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;%%
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\RequirePackage&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;listings&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;\lstdefinelanguage&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;Golang&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;%
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;morekeywords=[1]&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;package,import,func,type,struct,return,defer,panic,&lt;span class=&#34;c&#34;&gt;%
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;     recover,select,var,const,iota,&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;,&lt;span class=&#34;c&#34;&gt;%
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;   morekeywords=[2]&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;string,uint,uint8,uint16,uint32,uint64,int,int8,int16,&lt;span class=&#34;c&#34;&gt;%
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;     int32,int64,bool,float32,float64,complex64,complex128,byte,rune,uintptr,&lt;span class=&#34;c&#34;&gt;%
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;     error,interface&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;,&lt;span class=&#34;c&#34;&gt;%
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;   morekeywords=[3]&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;map,slice,make,new,nil,len,cap,copy,close,true,false,&lt;span class=&#34;c&#34;&gt;%
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;     delete,append,real,imag,complex,chan,&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;,&lt;span class=&#34;c&#34;&gt;%
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;   morekeywords=[4]&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;for,break,continue,range,goto,switch,case,fallthrough,if,&lt;span class=&#34;c&#34;&gt;%
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;     else,default,&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;,&lt;span class=&#34;c&#34;&gt;%
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;   morekeywords=[5]&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;Println,Printf,Error,&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;,&lt;span class=&#34;c&#34;&gt;%
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;   sensitive=true,&lt;span class=&#34;c&#34;&gt;%
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;   morecomment=[l]&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;//&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;,&lt;span class=&#34;c&#34;&gt;%
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;   morecomment=[s]&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;/*&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;*/&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;,&lt;span class=&#34;c&#34;&gt;%
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;   morestring=[b]&amp;#39;,&lt;span class=&#34;c&#34;&gt;%
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;   morestring=[b]&amp;#34;,&lt;span class=&#34;c&#34;&gt;%
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;   morestring=[s]&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;`&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;`&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;,&lt;span class=&#34;c&#34;&gt;%
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;という感じでキーワードと文字列とコメントの3つの定義でできている。
このようにして &lt;a href=&#34;https://ctan.org/tex-archive/macros/latex/contrib/listings&#34; title=&#34;CTAN: /tex-archive/macros/latex/contrib/listings&#34;&gt;&lt;code&gt;listings&lt;/code&gt;&lt;/a&gt; パッケージが対応していない言語にも対応できる。&lt;/p&gt;
&lt;p&gt;最後に，やっぱタイプライタ文字なら &lt;a href=&#34;http://levien.com/type/myfonts/inconsolata.html&#34;&gt;Inconsolata&lt;/a&gt; だよね，ってことで，タイプライタ文字を以下のように変更する&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span class=&#34;k&#34;&gt;\documentclass&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;ltjsarticle&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;\usepackage&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;[no-math,sourcehan]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;luatexja-preset&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;c&#34;&gt;% Japanese fonts
&lt;/span&gt;&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\setmonofont&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;[AutoFakeSlant,BoldItalicFeatures={FakeSlant},Scale=MatchLowercase]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;Inconsolatazi4&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;\usepackage&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;graphicx,xcolor&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;\usepackage&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;listings&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;\usepackage&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;listings-golang&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;c&#34;&gt;% import this package after listings
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\lstset&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;
    frame=single,
    basicstyle=&lt;span class=&#34;k&#34;&gt;\small&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\ttfamily&lt;/span&gt;,
    tabsize=4,
    keywordstyle=&lt;span class=&#34;k&#34;&gt;\color&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;red&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;,
    stringstyle=&lt;span class=&#34;k&#34;&gt;\color&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;blue&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;\begin&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;document&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;\section&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;Go 言語による Hello World&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;\begin&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;lstlisting&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;[language=Golang]
package main

import &amp;#34;fmt&amp;#34;

func main() &lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;
    for i := 0; i &amp;lt; 10; i++ &lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;
        fmt.Println(&amp;#34;Hello, world&amp;#34;)
    &lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;\end&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;lstlisting&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;\end&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;document&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;昔の $\mathrm{Lua\TeX}$-ja では，欧文フォントと和文フォントが干渉するので，指定の順番とかうるさかったが，エラく簡単になったものである。&lt;/p&gt;
&lt;p&gt;結果はこんな感じ。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/37441473856/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/37441473856_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/37441473856_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;code with LuaLaTeX (3)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/37441473856/&#34;&gt;code with LuaLaTeX (3)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;数字のゼロに斜線が入っているのがお分かりだろうか。
以前は&lt;a href=&#34;http://d.hatena.ne.jp/zrbabbler/20130421/1366560678&#34; title=&#34;LaTeX の inconsolata がアレなので何とかする - マクロツイーター&#34;&gt;ゼロやバッククォート等の表示で苦労してた&lt;/a&gt;気がするが，最近のものなら問題ないようだ。&lt;/p&gt;
&lt;p&gt;ちなみに，フォント指定にある &lt;code&gt;AutoFakeSlant&lt;/code&gt; や &lt;code&gt;BoldItalicFeatures={FakeSlant}&lt;/code&gt; といった記述は斜体の定義である。
&lt;a href=&#34;http://levien.com/type/myfonts/inconsolata.html&#34;&gt;Inconsolata&lt;/a&gt; フォントには斜体やイタリック体はないので $\mathrm{Lua\LaTeX}$ 内部で擬似的な斜体を作るよう指示しているのだ。&lt;/p&gt;
&lt;h2&gt;ブックマーク&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://turgure.hatenablog.com/entry/2016/08/19/183501&#34;&gt;LaTeXでソースコードを書く - しがないプログラマ（仮）のブログ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.biwako.shiga-u.ac.jp/sensei/kumazawa/tex/listings.html&#34;&gt;listings.sty: LaTeX パッケージ&lt;/a&gt; : &lt;code&gt;\lstset&lt;/code&gt; について簡単な解説&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;参考図書&lt;/h2&gt;
&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a class=&#34;item url&#34; href=&#34;https://www.amazon.co.jp/%E6%94%B9%E8%A8%82%E7%AC%AC7%E7%89%88-LaTeX2%CE%B5%E7%BE%8E%E6%96%87%E6%9B%B8%E4%BD%9C%E6%88%90%E5%85%A5%E9%96%80-%E5%A5%A5%E6%9D%91-%E6%99%B4%E5%BD%A6/dp/4774187054?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=4774187054&#34;&gt;&lt;img src=&#34;https://images-fe.ssl-images-amazon.com/images/I/51E5K7B53aL._SL160_.jpg&#34; width=&#34;127&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl class=&#34;fn&#34;&gt;
    &lt;dt&gt;&lt;a href=&#34;https://www.amazon.co.jp/%E6%94%B9%E8%A8%82%E7%AC%AC7%E7%89%88-LaTeX2%CE%B5%E7%BE%8E%E6%96%87%E6%9B%B8%E4%BD%9C%E6%88%90%E5%85%A5%E9%96%80-%E5%A5%A5%E6%9D%91-%E6%99%B4%E5%BD%A6/dp/4774187054?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=4774187054&#34;&gt;[改訂第7版]LaTeX2ε美文書作成入門&lt;/a&gt;&lt;/dt&gt;
	&lt;dd&gt;奥村 晴彦, 黒木 裕介&lt;/dd&gt;
    &lt;dd&gt;技術評論社 2017-01-24&lt;/dd&gt;
    &lt;dd&gt;Book 大型本&lt;/dd&gt;
    &lt;dd&gt;ASIN: 4774187054, EAN: 9784774187051&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;4&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;far fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;ついに第7版が登場。紙の本で買って常に側に置いておくのが吉。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34; &gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2017-09-27&#34;&gt;2017-09-27&lt;/abbr&gt; (powered by &lt;a href=&#34;https://github.com/spiegel-im-spiegel/amazon-item&#34; &gt;amazon-item&lt;/a&gt; v0.2.0)&lt;/p&gt;
&lt;/div&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/julienc91/listings-golang&#34; title=&#34;julienc91/listings-golang: Golang support for the listings package in LaTeX&#34;&gt;&lt;code&gt;listings-golang&lt;/code&gt;&lt;/a&gt; パッケージは &lt;code&gt;\RequirePackage&lt;/code&gt; コマンドで &lt;a href=&#34;https://ctan.org/tex-archive/macros/latex/contrib/listings&#34; title=&#34;CTAN: /tex-archive/macros/latex/contrib/listings&#34;&gt;&lt;code&gt;listings&lt;/code&gt;&lt;/a&gt; パッケージを内部で呼び出しているため，記述上は &lt;a href=&#34;https://ctan.org/tex-archive/macros/latex/contrib/listings&#34; title=&#34;CTAN: /tex-archive/macros/latex/contrib/listings&#34;&gt;&lt;code&gt;listings&lt;/code&gt;&lt;/a&gt; パッケージを置き換えることができる。のだが，今回は README にしたがっている。 &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;厳密に言うと，今回使うのはオリジナルの &lt;a href=&#34;http://levien.com/type/myfonts/inconsolata.html&#34;&gt;Inconsolata&lt;/a&gt; を改良した zi4 版である。 &lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
	</entry><entry>
		<title>TeX 日本語環境で「源ノ」フォントを使ってみた</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/remark/2017/10/using-source-han-fonts-by-japanese-tex/" />
		<id>tag:text.Baldanders.info,2017-10-03:/remark/2017/10/using-source-han-fonts-by-japanese-tex/</id>
		<published>2017-10-03T11:10:56+00:00</published>
		<updated>2019-06-09T10:26:47+00:00</updated>
		<summary>第二弾は TeX で「源ノ」フォントを使ってみる である。</summary>
		<author>
			<name>Spiegel</name>
			<uri>https://baldanders.info/profile/</uri>
		</author>
		
	<link rel="cc:license" type="application/rdf+xml" href="https://creativecommons.org/licenses/by-sa/4.0/rdf" />


		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">&lt;p&gt;さて，&lt;a href=&#34;https://text.baldanders.info/remark/2017/09/install-tex-live-2017-for-windows/&#34;&gt;TeX Live 2017 インストール&lt;/a&gt;後の「$\mathrm{\TeX}$ で遊ぼう」第二弾は&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;$\mathrm{\TeX}$ で「源ノ」フォントを使ってみる&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;である。&lt;/p&gt;
&lt;p&gt;「源ノ」フォントとは「&lt;a href=&#34;https://github.com/adobe-fonts/source-han-sans&#34; title=&#34;adobe-fonts/source-han-sans: Source Han Sans | 思源黑体 | 思源黑體 | 源ノ角ゴシック | 본고딕&#34;&gt;源ノ角ゴシック&lt;/a&gt;（Source Han Sans）」および「&lt;a href=&#34;https://github.com/adobe-fonts/source-han-serif&#34; title=&#34;adobe-fonts/source-han-serif: Source Han Serif | 思源宋体 | 思源宋體 | 源ノ明朝 | 본명조&#34;&gt;源ノ明朝&lt;/a&gt;（Source Han Serif）」で構成される CJK 統一デザインの書体を指す。
「源ノ」フォントは Adobe と Google が共同で開発していて，かつオープンソースで公開されている。
この成果の一部は Google により NOTO プロジェクトに取り込まれている。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.google.com/get/noto/&#34;&gt;Google Noto Fonts&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://developers-jp.googleblog.com/2014/07/noto.html&#34;&gt;Google Developers Japan: オープンソースの美しい Noto フォントファミリーに日本語、中国語、韓国語が加わりました。&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://developers-jp.googleblog.com/2017/04/noto-serif-cjk-is-here.html&#34;&gt;Google Developers Japan: Noto Serif CJK が登場！&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;いわゆる CJK 漢字圏の文字は漢字だけでも非常に数が多く ☂ や ☃ みたいな非漢字も合わせると想像するだけでも目眩がする。
開発に携われた方々には足を向けて寝られない（何処に足を向けたらいいのだろう&lt;code&gt;w&lt;/code&gt;）。
そして勿論，世の $\mathrm{\TeX}$nician たちがこれに指を咥えて見ているはずはないのだ。
なので私もその成果に便乗することにする。&lt;/p&gt;
&lt;p&gt;皆さん，ありがとう！&lt;/p&gt;
&lt;h2 id=&#34;install&#34;&gt;「源ノ」フォントのインストール&lt;/h2&gt;
&lt;p&gt;早速インストールをはじめるが，&lt;a href=&#34;https://github.com/adobe-fonts/source-han-sans&#34; title=&#34;adobe-fonts/source-han-sans: Source Han Sans | 思源黑体 | 思源黑體 | 源ノ角ゴシック | 본고딕&#34;&gt;源ノ角ゴシック&lt;/a&gt;および&lt;a href=&#34;https://github.com/adobe-fonts/source-han-serif&#34; title=&#34;adobe-fonts/source-han-serif: Source Han Serif | 思源宋体 | 思源宋體 | 源ノ明朝 | 본명조&#34;&gt;源ノ明朝&lt;/a&gt;は GitHub で公開されている。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/adobe-fonts/source-han-sans&#34;&gt;adobe-fonts/source-han-sans: Source Han Sans | 思源黑体 | 思源黑體 | 源ノ角ゴシック | 본고딕&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/adobe-fonts/source-han-serif&#34;&gt;adobe-fonts/source-han-serif: Source Han Serif | 思源宋体 | 思源宋體 | 源ノ明朝 | 본명조&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;これらのリポジトリから最新リリース（zip または tar.gz ファイル）をダウンロードする。
1.6 から 2 GB ほどの巨大パッケージなのでダウンロードの際はご注意を。
取得したパッケージの内，今回使うのは &lt;code&gt;OTF/Japanese&lt;/code&gt; フォルダにある以下のファイルである。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/adobe-fonts/source-han-sans&#34; title=&#34;adobe-fonts/source-han-sans: Source Han Sans | 思源黑体 | 思源黑體 | 源ノ角ゴシック | 본고딕&#34;&gt;源ノ角ゴシック&lt;/a&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;SourceHanSans-ExtraLight.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SourceHanSans-Light.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SourceHanSans-Normal.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SourceHanSans-Regular.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SourceHanSans-Medium.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SourceHanSans-Bold.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SourceHanSans-Heavy.otf&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/adobe-fonts/source-han-serif&#34; title=&#34;adobe-fonts/source-han-serif: Source Han Serif | 思源宋体 | 思源宋體 | 源ノ明朝 | 본명조&#34;&gt;源ノ明朝&lt;/a&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;SourceHanSerif-ExtraLight.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SourceHanSerif-Light.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SourceHanSerif-Regular.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SourceHanSerif-Medium.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SourceHanSerif-SemiBold.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SourceHanSerif-Bold.otf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SourceHanSerif-Heavy.otf&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;それぞれのファイルの違いはウェイトの違いで，軽いものから昇順に並べている。
さらに各パッケージ内の &lt;code&gt;Resources&lt;/code&gt; フォルダにある以下の CMap ファイル&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt; も使用する。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/adobe-fonts/source-han-sans&#34; title=&#34;adobe-fonts/source-han-sans: Source Han Sans | 思源黑体 | 思源黑體 | 源ノ角ゴシック | 본고딕&#34;&gt;源ノ角ゴシック&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;UniSourceHanSansJP-UTF16-H&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/adobe-fonts/source-han-serif&#34; title=&#34;adobe-fonts/source-han-serif: Source Han Serif | 思源宋体 | 思源宋體 | 源ノ明朝 | 본명조&#34;&gt;源ノ明朝&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;UniSourceHanSerifJP-UTF16-H&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;これらのファイルを，以下のフォルダを作成して放り込む&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/adobe-fonts/source-han-sans&#34; title=&#34;adobe-fonts/source-han-sans: Source Han Sans | 思源黑体 | 思源黑體 | 源ノ角ゴシック | 본고딕&#34;&gt;源ノ角ゴシック&lt;/a&gt;： &lt;code&gt;{$TEXMFLOCAL}/fonts/opentype/adobe/sourcehansansjp/&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/adobe-fonts/source-han-serif&#34; title=&#34;adobe-fonts/source-han-serif: Source Han Serif | 思源宋体 | 思源宋體 | 源ノ明朝 | 본명조&#34;&gt;源ノ明朝&lt;/a&gt;： &lt;code&gt;{$TEXMFLOCAL}/fonts/opentype/adobe/sourcehanserifjp/&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;CMap ファイル： &lt;code&gt;{$TEXMFLOCAL}/fonts/cmap/sourcehanjp/&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ちなみに &lt;code&gt;$TEXMFLOCAL&lt;/code&gt; の場所は &lt;code&gt;kpsewhich&lt;/code&gt; コマンドで調べられる。
いつもの場所だね。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ kpsewhich -var-value=TEXMFLOCAL
C:/texlive/texmf-local
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;コピーできたら &lt;code&gt;mktexlsr&lt;/code&gt; コマンドを実行して &lt;code&gt;ls-R&lt;/code&gt; を更新しておくことを忘れずに。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ mktexlsr
mktexlsr: Updating C:/texlive/texmf-local/ls-R...
mktexlsr: Updated C:/texlive/texmf-local/ls-R.
mktexlsr: Updating C:/texlive/2017/texmf-config/ls-R...
mktexlsr: Updated C:/texlive/2017/texmf-config/ls-R.
mktexlsr: Updating C:/texlive/2017/texmf-var/ls-R...
mktexlsr: Updated C:/texlive/2017/texmf-var/ls-R.
mktexlsr: Updating C:/texlive/2017/texmf-dist/ls-R...
mktexlsr: Updated C:/texlive/2017/texmf-dist/ls-R.
mktexlsr: Done.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;これで「源ノ」フォントのインストールは完了。
一応 &lt;code&gt;kpsewhich&lt;/code&gt; コマンドでインストールできたかどうか確認しておくとよい。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ kpsewhich SourceHanSerif-Regular.otf
c:/texlive/texmf-local/fonts/opentype/adobe/sourcehanserifjp/SourceHanSerif-Regular.otf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;uplatex&#34;&gt;upLaTeX で「源ノ」フォントを使ってみる&lt;/h2&gt;
&lt;p&gt;では文書ファイルを用意しよう。
こんな感じでどうだろうか。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;k&#34;&gt;\documentclass&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;[uplatex,a4paper]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;jsarticle&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;k&#34;&gt;\usepackage&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;[deluxe]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;otf&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;\begin&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;document&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\mcfamily&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\ltseries&lt;/span&gt; ☂ は夜更け過ぎに ☃ へとかわるだろう。（明朝体・細字）&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\par&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\mcfamily&lt;/span&gt;          ☂ は夜更け過ぎに ☃ へとかわるだろう。（明朝体・中字）&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\par&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\mcfamily&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\bfseries&lt;/span&gt; ☂ は夜更け過ぎに ☃ へとかわるだろう。（明朝体・太字）&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\par&lt;/span&gt;

&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\gtfamily&lt;/span&gt;          ☂ は夜更け過ぎに ☃ へとかわるだろう。（ゴシック体・中字）&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\par&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\gtfamily&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\bfseries&lt;/span&gt; ☂ は夜更け過ぎに ☃ へとかわるだろう。（ゴシック体・太字）&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\par&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\gtfamily&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\ebseries&lt;/span&gt; ☂ は夜更け過ぎに ☃ へとかわるだろう。（ゴシック体・極太）&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

森鷗外と内田百閒が髙島屋に行った。

&lt;span class=&#34;k&#34;&gt;\UTF&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;845B&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;飾区の&lt;span class=&#34;k&#34;&gt;\UTF&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;20BB7&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;野家  &lt;span class=&#34;c&#34;&gt;% 葛飾区の𠮷野家
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;\end&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;document&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;タイプセット処理は $\mathrm{up\LaTeX}$ を選択した。
$\mathrm{up\LaTeX}$ で処理したあと &lt;code&gt;dvipdfmx&lt;/code&gt; コマンドで PDF に変換しないといけないんだけど，「源ノ」フォント用の map ファイルは &lt;a href=&#34;http://www.tug.org/texlive/&#34; title=&#34;TeX Live - TeX Users Group&#34;&gt;TeX Live&lt;/a&gt; 2017 には存在しないようなので，自前で用意しないといけない。
他の書体の map ファイルを参考に自作してみた（正しいかどうかわからないが）。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;% CID
otf-cjml-h    Identity-H    SourceHanSerif-Light.otf
otf-cjml-v    Identity-V    SourceHanSerif-Light.otf
otf-cjmr-h    Identity-H    SourceHanSerif-Regular.otf
otf-cjmr-v    Identity-V    SourceHanSerif-Regular.otf
otf-cjmb-h    Identity-H    SourceHanSerif-Bold.otf
otf-cjmb-v    Identity-V    SourceHanSerif-Bold.otf
otf-cjgr-h    Identity-H    SourceHanSans-Regular.otf
otf-cjgr-v    Identity-V    SourceHanSans-Regular.otf
otf-cjgb-h    Identity-H    SourceHanSans-Bold.otf
otf-cjgb-v    Identity-V    SourceHanSans-Bold.otf
otf-cjge-h    Identity-H    SourceHanSans-Heavy.otf
otf-cjge-v    Identity-V    SourceHanSans-Heavy.otf
otf-cjmgr-h   Identity-H    SourceHanSans-Heavy.otf
otf-cjmgr-v   Identity-V    SourceHanSans-Heavy.otf

% Unicode 90JIS
otf-ujml-h    UniSourceHanSerifJP-UTF16-H   SourceHanSerif-Light.otf
otf-ujml-v    UniSourceHanSerifJP-UTF16-V   SourceHanSerif-Light.otf
otf-ujmr-h    UniSourceHanSerifJP-UTF16-H   SourceHanSerif-Regular.otf
otf-ujmr-v    UniSourceHanSerifJP-UTF16-V   SourceHanSerif-Regular.otf
otf-ujmb-h    UniSourceHanSerifJP-UTF16-H   SourceHanSerif-Bold.otf
otf-ujmb-v    UniSourceHanSerifJP-UTF16-V   SourceHanSerif-Bold.otf
otf-ujgr-h    UniSourceHanSansJP-UTF16-H    SourceHanSans-Regular.otf
otf-ujgr-v    UniSourceHanSansJP-UTF16-V    SourceHanSans-Regular.otf
otf-ujgb-h    UniSourceHanSansJP-UTF16-H    SourceHanSans-Bold.otf
otf-ujgb-v    UniSourceHanSansJP-UTF16-V    SourceHanSans-Bold.otf
otf-ujge-h    UniSourceHanSansJP-UTF16-H    SourceHanSans-Heavy.otf
otf-ujge-v    UniSourceHanSansJP-UTF16-V    SourceHanSans-Heavy.otf
otf-ujmgr-h   UniSourceHanSansJP-UTF16-H    SourceHanSans-Heavy.otf
otf-ujmgr-v   UniSourceHanSansJP-UTF16-V    SourceHanSans-Heavy.otf

% Unicode JIS04
otf-ujmln-h    UniJIS2004-UTF16-H    SourceHanSerif-Light.otf
otf-ujmln-v    UniJIS2004-UTF16-V    SourceHanSerif-Light.otf
otf-ujmrn-h    UniJIS2004-UTF16-H    SourceHanSerif-Regular.otf
otf-ujmrn-v    UniJIS2004-UTF16-V    SourceHanSerif-Regular.otf
otf-ujmbn-h    UniJIS2004-UTF16-H    SourceHanSerif-Bold.otf
otf-ujmbn-v    UniJIS2004-UTF16-V    SourceHanSerif-Bold.otf
otf-ujgrn-h    UniJIS2004-UTF16-H    SourceHanSans-Regular.otf
otf-ujgrn-v    UniJIS2004-UTF16-V    SourceHanSans-Regular.otf
otf-ujgbn-h    UniJIS2004-UTF16-H    SourceHanSans-Bold.otf
otf-ujgbn-v    UniJIS2004-UTF16-V    SourceHanSans-Bold.otf
otf-ujgen-h    UniJIS2004-UTF16-H    SourceHanSans-Heavy.otf
otf-ujgen-v    UniJIS2004-UTF16-V    SourceHanSans-Heavy.otf
otf-ujmgrn-h   UniJIS2004-UTF16-H    SourceHanSans-Heavy.otf
otf-ujmgrn-v   UniJIS2004-UTF16-V    SourceHanSans-Heavy.otf

% TEXT, 90JIS
uphminl-h   UniSourceHanSerifJP-UTF16-H SourceHanSerif-Light.otf
uphminl-v   UniSourceHanSerifJP-UTF16-V SourceHanSerif-Light.otf
uphminr-h   UniSourceHanSerifJP-UTF16-H SourceHanSerif-Regular.otf
uphminr-v   UniSourceHanSerifJP-UTF16-V SourceHanSerif-Regular.otf
uphminb-h   UniSourceHanSerifJP-UTF16-H SourceHanSerif-Bold.otf
uphminb-v   UniSourceHanSerifJP-UTF16-V SourceHanSerif-Bold.otf
uphgothr-h  UniSourceHanSansJP-UTF16-H  SourceHanSans-Regular.otf
uphgothr-v  UniSourceHanSansJP-UTF16-V  SourceHanSans-Regular.otf
uphgothb-h  UniSourceHanSansJP-UTF16-H  SourceHanSans-Bold.otf
uphgothb-v  UniSourceHanSansJP-UTF16-V  SourceHanSans-Bold.otf
uphgotheb-h UniSourceHanSansJP-UTF16-H  SourceHanSans-Heavy.otf
uphgotheb-v UniSourceHanSansJP-UTF16-V  SourceHanSans-Heavy.otf
uphmgothr-h UniSourceHanSansJP-UTF16-H  SourceHanSans-Heavy.otf
uphmgothr-v UniSourceHanSansJP-UTF16-V  SourceHanSans-Heavy.otf

% TEXT, JIS04
uphminln-h  UniJIS2004-UTF16-H  SourceHanSerif-Light.otf
uphminln-v  UniJIS2004-UTF16-V  SourceHanSerif-Light.otf
uphminrn-h  UniJIS2004-UTF16-H  SourceHanSerif-Regular.otf
uphminrn-v  UniJIS2004-UTF16-V  SourceHanSerif-Regular.otf
uphminbn-h  UniJIS2004-UTF16-H  SourceHanSerif-Bold.otf
uphminbn-v  UniJIS2004-UTF16-V  SourceHanSerif-Bold.otf
uphgothrn-h UniJIS2004-UTF16-H  SourceHanSans-Regular.otf
uphgothrn-v UniJIS2004-UTF16-V  SourceHanSans-Regular.otf
uphgothbn-h UniJIS2004-UTF16-H  SourceHanSans-Bold.otf
uphgothbn-v UniJIS2004-UTF16-V  SourceHanSans-Bold.otf
uphgothebn-h    UniJIS2004-UTF16-H  SourceHanSans-Heavy.otf
uphgothebn-v    UniJIS2004-UTF16-V  SourceHanSans-Heavy.otf
uphmgothrn-h    UniJIS2004-UTF16-H  SourceHanSans-Heavy.otf
uphmgothrn-v    UniJIS2004-UTF16-V  SourceHanSans-Heavy.otf

urml    UniSourceHanSerifJP-UTF16-H SourceHanSerif-Regular.otf
urmlv   UniSourceHanSerifJP-UTF16-V SourceHanSerif-Regular.otf
ugbm    UniSourceHanSansJP-UTF16-H  SourceHanSans-Medium.otf
ugbmv   UniSourceHanSansJP-UTF16-V  SourceHanSans-Medium.otf
uprml-h UniSourceHanSerifJP-UTF16-H SourceHanSerif-Regular.otf
uprml-v UniSourceHanSerifJP-UTF16-V SourceHanSerif-Regular.otf
upgbm-h UniSourceHanSansJP-UTF16-H  SourceHanSans-Medium.otf
upgbm-v UniSourceHanSansJP-UTF16-V  SourceHanSans-Medium.otf
uprml-hq    UniJIS-UCS2-H   SourceHanSerif-Regular.otf
upgbm-hq    UniJIS-UCS2-H   SourceHanSans-Medium.otf

% TEXT, 90JIS
hminl-h     H    SourceHanSerif-Light.otf
hminl-v     V    SourceHanSerif-Light.otf
hminr-h     H    SourceHanSerif-Regular.otf
hminr-v     V    SourceHanSerif-Regular.otf
hminb-h     H    SourceHanSerif-Bold.otf
hminb-v     V    SourceHanSerif-Bold.otf
hgothr-h    H    SourceHanSans-Regular.otf
hgothr-v    V    SourceHanSans-Regular.otf
hgothb-h    H    SourceHanSans-Bold.otf
hgothb-v    V    SourceHanSans-Bold.otf
hgotheb-h   H    SourceHanSans-Heavy.otf
hgotheb-v   V    SourceHanSans-Heavy.otf
hmgothr-h   H    SourceHanSans-Heavy.otf
hmgothr-v   V    SourceHanSans-Heavy.otf

% TEXT, JIS04
hminln-h    H    SourceHanSerif-Light.otf
hminln-v    V    SourceHanSerif-Light.otf
hminrn-h    H    SourceHanSerif-Regular.otf
hminrn-v    V    SourceHanSerif-Regular.otf
hminbn-h    H    SourceHanSerif-Bold.otf
hminbn-v    V    SourceHanSerif-Bold.otf
hgothrn-h   H    SourceHanSans-Regular.otf
hgothrn-v   V    SourceHanSans-Regular.otf
hgothbn-h   H    SourceHanSans-Bold.otf
hgothbn-v   V    SourceHanSans-Bold.otf
hgothebn-h  H    SourceHanSans-Heavy.otf
hgothebn-v  V    SourceHanSans-Heavy.otf
hmgothrn-h  H    SourceHanSans-Heavy.otf
hmgothrn-v  V    SourceHanSans-Heavy.otf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;分かりにくいとは思うが，フォントの選択は以下のように対応付けている。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;字体とウエイト&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;フォント名&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;明朝体・細字&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;SourceHanSerif-Light.otf&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;明朝体・中字&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;SourceHanSerif-Regular.otf&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;明朝体・太字&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;SourceHanSerif-Bold.otf&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;ゴシック体・中字&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;SourceHanSans-Regular.otf&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;ゴシック体・太字&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;SourceHanSans-Bold.otf&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;ゴシック体・極太&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;SourceHanSans-Heavy.otf&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;また &lt;code&gt;UniSourceHanSerifJP-UTF16-V&lt;/code&gt; や &lt;code&gt;UniSourceHanSansJP-UTF16-V&lt;/code&gt; という CMap ファイルは存在しないが，まぁ縦書きは使わないから，私。
縦書き用の CMap ファイルはネットを探したらあるかもしれない。
&lt;code&gt;UniJIS2004-UTF16-H&lt;/code&gt; や &lt;code&gt;UniJIS-UCS2-H&lt;/code&gt; は他のフォントの設定をそのまま流用してるけど，正しいのかどうかよく分からない。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;dvipdfmx&lt;/code&gt; コマンドで map ファイルを直接指定する必要があるため &lt;code&gt;.latexmkrc&lt;/code&gt; ファイルを以下のように設定した。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-perl&#34; data-lang=&#34;perl&#34;&gt;&lt;span class=&#34;ch&#34;&gt;#!/usr/bin/env perl&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;latex&lt;/span&gt;        &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;uplatex -synctex=1&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;latex_silent&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;uplatex -synctex=1 -interaction=batchmode&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;bibtex&lt;/span&gt;       &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;upbibtex&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;biber&lt;/span&gt;        &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;biber --bblencoding=utf8 -u -U --output_safechars&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;dvipdf&lt;/span&gt;       &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;dvipdfmx -z9 -V 4 -f sourcehanjp.map %O -o %D %S&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;makeindex&lt;/span&gt;    &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;mendex %O -o %D %S&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;max_repeat&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;pdf_mode&lt;/span&gt;     &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# generates pdf via dvipdfmx&lt;/span&gt;

&lt;span class=&#34;nv&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;pvc_view_file_via_temporary&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ようやく準備完了。
やっとビルドできるよ。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ latexmk otf-sample.tex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;結果はこんな感じ。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/36799783933/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/36799783933_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/36799783933_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;Output PDF by upLaTeX with Source Han Fonts (1)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/36799783933/&#34;&gt;Output PDF by upLaTeX with Source Han Fonts (1)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;ちなみに埋め込まれたフォントの状態は以下の通り。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/23617581598/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/23617581598_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/23617581598_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;Output PDF by upLaTeX with Source Han Fonts (2)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/23617581598/&#34;&gt;Output PDF by upLaTeX with Source Han Fonts (2)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&#34;lualatex&#34;&gt;LuaLaTeX で「源ノ」フォントを使ってみる&lt;/h2&gt;
&lt;p&gt;さて，では同じことを $\mathrm{Lua\LaTeX}$-ja でやってみようと思う。&lt;/p&gt;
&lt;p&gt;さきほど&lt;a href=&#34;#install&#34;&gt;フォントファイルをインストールした&lt;/a&gt;が， $\mathrm{Lua\LaTeX}$ で使うにはそのままではダメで，以下のコマンドを実行しておく必要がある。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ luaotfload-tool --update
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;上手くいったかどうかは以下のコマンドで確認できる。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ luaotfload-tool --fuzzy --find=&amp;#34;sourcehanserif&amp;#34;
luaotfload | resolve : Font &amp;#34;sourcehanserif&amp;#34; found!
luaotfload | resolve : Resolved file name &amp;#34;c:/texlive/texmf-local/fonts/opentype/adobe/sourcehanserifjp/sourcehanserif-regular.otf&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;では，文書ファイルを作ってみよう。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;k&#34;&gt;\documentclass&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;ltjsarticle&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;k&#34;&gt;\usepackage&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;[sourcehan,deluxe]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;luatexja-preset&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;span class=&#34;hl&#34;&gt;&lt;span class=&#34;k&#34;&gt;\usepackage&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;luatexja-otf&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;\begin&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;document&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\mcfamily&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\ltseries&lt;/span&gt; ☂ は夜更け過ぎに ☃ へとかわるだろう。（明朝体・細字）&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\par&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\mcfamily&lt;/span&gt;          ☂ は夜更け過ぎに ☃ へとかわるだろう。（明朝体・中字）&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\par&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\mcfamily&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\bfseries&lt;/span&gt; ☂ は夜更け過ぎに ☃ へとかわるだろう。（明朝体・太字）&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\par&lt;/span&gt;

&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\gtfamily&lt;/span&gt;          ☂ は夜更け過ぎに ☃ へとかわるだろう。（ゴシック体・中字）&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\par&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\gtfamily&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\bfseries&lt;/span&gt; ☂ は夜更け過ぎに ☃ へとかわるだろう。（ゴシック体・太字）&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\par&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\gtfamily&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;\ebseries&lt;/span&gt; ☂ は夜更け過ぎに ☃ へとかわるだろう。（ゴシック体・極太）&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;

森鷗外と内田百閒が髙島屋に行った。

&lt;span class=&#34;k&#34;&gt;\UTF&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;845B&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;飾区の&lt;span class=&#34;k&#34;&gt;\UTF&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;20BB7&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;野家  &lt;span class=&#34;c&#34;&gt;% 葛飾区の𠮷野家
&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;\end&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;document&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;luatexja-preset&lt;/code&gt; パッケージでは「源ノ」フォントを指定できる。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-tex&#34; data-lang=&#34;tex&#34;&gt;&lt;span class=&#34;k&#34;&gt;\usepackage&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;[sourcehan]&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;{&lt;/span&gt;luatexja-preset&lt;span class=&#34;nb&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;また &lt;code&gt;\UTF&lt;/code&gt; コマンドが使えるように &lt;code&gt;luatexja-otf&lt;/code&gt; パッケージを読み込んでいる。
いやぁ，すんごい楽ちん。&lt;/p&gt;
&lt;p&gt;タイプセットも前準備なしで簡単にできる（だだし，めがっさ遅い）。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;$ lualatex otf-sample.tex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;結果は以下の通り。&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/36800606433/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/36800606433_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/36800606433_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;Output PDF by LuaLaTeX with Source Han Fonts (1)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/36800606433/&#34;&gt;Output PDF by LuaLaTeX with Source Han Fonts (1)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;んー。
ウェイトがさっきと違う？&lt;/p&gt;
&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/36800606553/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/36800606553_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/36800606553_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;Output PDF by LuaLaTeX with Source Han Fonts (2)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/36800606553/&#34;&gt;Output PDF by LuaLaTeX with Source Han Fonts (2)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;いや，同じか。
まぁいいや。
「極太」なんてまず使わんし。&lt;/p&gt;
&lt;p&gt;他に気になることと言えば， $\mathrm{up\LaTeX}$ ＋ dvipdfmx のときもそうだったんだけど，「葛（U+845B）」の字形が JIS X 0213:2004 だよね。
どちらも &lt;code&gt;jis2004&lt;/code&gt; オプションは付けてないんだが。
やはり &lt;code&gt;jis2004&lt;/code&gt; オプションは相当特殊な気がする。
これからは JIS X 0213:2004 前提で考えて，むしろ &lt;code&gt;jis2000&lt;/code&gt; オプションを作ったほうがいいんじゃないだろうか。&lt;/p&gt;
&lt;p&gt;ま，それはともかく&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;時代は $\mathrm{Lua\TeX}$ で「源ノ」フォント&lt;/strong&gt; ってことですね！&lt;/p&gt;
&lt;p&gt;ちなみに，&lt;a href=&#34;https://text.baldanders.info/remark/2017/10/lualatex-ja-on-cloud/&#34;&gt;前回&lt;/a&gt;紹介した &lt;a href=&#34;https://cloudlatex.io/&#34; title=&#34;Cloud LaTeX | Build your own LaTeX environment, in seconds&#34;&gt;Cloud LaTeX&lt;/a&gt; で同じことをしようとしたら「&lt;code&gt;sourcehan&lt;/code&gt; なんぞ知らん！」と怒られた（笑）&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;/usr/local/texlive/2016/texmf-dist/tex/latex/fontspec/fontspec-luatex.sty
line 392
! LaTeX Error: Unknown option `sourcehan&amp;#39; for package `fontspec-luatex&amp;#39;.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;まぁしょうがないね。
&lt;a href=&#34;http://ipafont.ipa.go.jp/node26#ja&#34; title=&#34;IPAexフォント Ver.003.01(IPAexFont Ver.003.01) | IPAexフォント/IPAフォント&#34;&gt;IPAex&lt;/a&gt; が使えるのなら支障はないし。&lt;/p&gt;
&lt;h2&gt;ブックマーク&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.typekit.com/alternate/source-han-sans-jp/&#34;&gt;The Typekit Blog | Source Han Sansの紹介：オープンソースのPan-CJK書体&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://source.typekit.com/source-han-serif/jp/&#34;&gt;源ノ明朝&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://jp.techcrunch.com/2016/10/08/20161006google-and-monotype-unveil-the-noto-projects-unified-font-for-all-languages/&#34;&gt;GoogleとMonotypeが全言語対応フォントのNotoを公開 | TechCrunch Japan&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://wired.jp/2017/04/08/noto-serif-cjk/&#34;&gt;日中韓に対応したグーグルの新フォント「Noto Serif CJK」は、なぜ生まれたか｜WIRED.jp&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://texwiki.texjp.org/?%E3%83%95%E3%82%A9%E3%83%B3%E3%83%88&#34;&gt;フォント - TeX Wiki&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://jb102.blogspot.jp/2017/04/11-luatex.html&#34;&gt;源ノ明朝/源ノ角ゴシックをLuaLaTeXで使用する (Windows)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://qiita.com/zr_tex8r/items/9dfeafecca2d091abd02&#34;&gt;upLaTeX文書で源ノ明朝／Noto Serif CJKを簡単に使う方法（最新のdvipdfmxとpxchfonを使用） - Qiita&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://internet.watch.impress.co.jp/www/column/ogata/index.htm&#34;&gt;小形克宏の「文字の海、ビットの舟」――文字コードが私たちに問いかけるもの&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.tug.org/texlive/updmap-kanji.html&#34;&gt;updmap and kanji - TeX Live - TeX Users Group&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;参考図書&lt;/h2&gt;
&lt;div class=&#34;hreview&#34;&gt;
  &lt;div class=&#34;photo&#34;&gt;&lt;a class=&#34;item url&#34; href=&#34;https://www.amazon.co.jp/%E6%94%B9%E8%A8%82%E7%AC%AC7%E7%89%88-LaTeX2%CE%B5%E7%BE%8E%E6%96%87%E6%9B%B8%E4%BD%9C%E6%88%90%E5%85%A5%E9%96%80-%E5%A5%A5%E6%9D%91-%E6%99%B4%E5%BD%A6/dp/4774187054?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=4774187054&#34;&gt;&lt;img src=&#34;https://images-fe.ssl-images-amazon.com/images/I/51E5K7B53aL._SL160_.jpg&#34; width=&#34;127&#34; alt=&#34;photo&#34;&gt;&lt;/a&gt;&lt;/div&gt;
  &lt;dl class=&#34;fn&#34;&gt;
    &lt;dt&gt;&lt;a href=&#34;https://www.amazon.co.jp/%E6%94%B9%E8%A8%82%E7%AC%AC7%E7%89%88-LaTeX2%CE%B5%E7%BE%8E%E6%96%87%E6%9B%B8%E4%BD%9C%E6%88%90%E5%85%A5%E9%96%80-%E5%A5%A5%E6%9D%91-%E6%99%B4%E5%BD%A6/dp/4774187054?SubscriptionId=AKIAJYVUJ3DMTLAECTHA&amp;tag=baldandersinf-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=4774187054&#34;&gt;[改訂第7版]LaTeX2ε美文書作成入門&lt;/a&gt;&lt;/dt&gt;
	&lt;dd&gt;奥村 晴彦, 黒木 裕介&lt;/dd&gt;
    &lt;dd&gt;技術評論社 2017-01-24&lt;/dd&gt;
    &lt;dd&gt;Book 大型本&lt;/dd&gt;
    &lt;dd&gt;ASIN: 4774187054, EAN: 9784774187051&lt;/dd&gt;
    &lt;dd&gt;評価&lt;abbr class=&#34;rating fa-sm&#34; title=&#34;4&#34;&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;fas fa-star&#34;&gt;&lt;/i&gt;&amp;nbsp;&lt;i class=&#34;far fa-star&#34;&gt;&lt;/i&gt;&lt;/abbr&gt;&lt;/dd&gt;
  &lt;/dl&gt;
  &lt;p class=&#34;description&#34;&gt;ついに第7版が登場。紙の本で買って常に側に置いておくのが吉。&lt;/p&gt;
  &lt;p class=&#34;powered-by&#34; &gt;reviewed by &lt;a href=&#39;#maker&#39; class=&#39;reviewer&#39;&gt;Spiegel&lt;/a&gt; on &lt;abbr class=&#34;dtreviewed&#34; title=&#34;2017-09-27&#34;&gt;2017-09-27&lt;/abbr&gt; (powered by &lt;a href=&#34;https://github.com/spiegel-im-spiegel/amazon-item&#34; &gt;amazon-item&lt;/a&gt; v0.2.0)&lt;/p&gt;
&lt;/div&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;CMap とは Unicode 等の文字集合とフォントの CID (Character IDentifier) を対応付けるマッピング情報である。 OpenType フォントのフルセットは Unicode を含む複数の文字集合の字形を包括している。たとえば JIS X 0213 では「葛（U+845B）」の字について2000年版と現行の2004年版で字形が異なるという混乱があるが（厳密には例示字体で示される字の形が異なる。異体字のことではない）， OpenType フォント（のフルセット）はそういった差異も包括し CID で識別することができる。従って CMap は文字集合やそのバージョンごとに存在することになる。 &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;&lt;code&gt;adobe&lt;/code&gt;, &lt;code&gt;sourcehansansjp&lt;/code&gt;, &lt;code&gt;sourcehanjp&lt;/code&gt; のフォルダ名には特に意味はなく，自分で管理しやすい名前にすればいいらしい。 &lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</content>
	</entry>
</feed>
