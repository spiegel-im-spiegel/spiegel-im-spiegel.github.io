<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<feed xmlns="http://www.w3.org/2005/Atom" xmlns:cc="http://web.resource.org/cc/">
	<title>Thunderbird - text.Baldanders.info</title>
	<link rel="alternate" type="text/html" href="https://text.baldanders.info/tags/thunderbird/" />
	<link rel="self" type="application/atom+xml" href="https://text.baldanders.info/tags/thunderbird/index.xml" />
	<id>tag:text.Baldanders.info,2018-06-25:/tags</id>
	<updated>2018-06-25T21:32:25+09:00</updated>
	<subtitle>帰ってきた「しっぽのさきっちょ」</subtitle>
	<icon>https://text.baldanders.info//images/avatar.jpg</icon>
	<logo>https://text.baldanders.info//images/avatar.jpg</logo>
	<generator uri="https://gohugo.io/">Hugo 0.54.0</generator>

	
	<entry>
		<title>Thunderbird でメール暗号化 - openpgp</title>
		<link rel="alternate" type="text/html" href="https://text.baldanders.info/openpgp/encrypted-mail-with-thunderbird/" />
		<id>tag:text.Baldanders.info,2018-06-25:/openpgp/encrypted-mail-with-thunderbird/</id>
		<published>2018-06-25T21:32:25+09:00</published>
		<updated>2018-06-25T21:32:25+09:00</updated>
		<summary>今回は Thunderbird で OpenPGP 暗号化メールをやり取りする手順について簡単に紹介する。</summary>
		
			<author>
				<name>Spiegel</name>
				<uri>https://baldanders.info/spiegel/profile/</uri>
			</author>
			
	<link rel="cc:license" type="application/rdf+xml" href="http://creativecommons.org/licenses/by-sa/4.0/rdf" />


		
		<category term="openpgp" label="openpgp" scheme="https://text.baldanders.info/openpgp" />
		<content type="html" xml:lang="ja" xml:base="https://text.baldanders.info/">

&lt;p&gt;フィードバックで少しやり取りして分かったのだが JPCERT/CC の記事は古いまま更新されていないようだ。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.jpcert.or.jp/magazine/security/pgpquick.html&#34;&gt;はじめての暗号化メール (Thunderbird編)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;なので今回は &lt;a href=&#34;https://www.thunderbird.net/&#34; title=&#34;Thunderbird — Software made to make email easier. — Mozilla&#34;&gt;Thunderbird&lt;/a&gt; で &lt;a href=&#34;http://openpgp.org/&#34;&gt;OpenPGP&lt;/a&gt; 暗号化メールをやり取りする手順について簡単に紹介する。
なお &lt;a href=&#34;https://gnupg.org/&#34; title=&#34;The GNU Privacy Guard&#34;&gt;GnuPG&lt;/a&gt; の導入と鍵の生成は完了しているものとする。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/openpgp/using-gnupg-for-windows-1/&#34;&gt;GnuPG for Windows インストール編&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/openpgp/using-gnupg-for-windows-2/&#34;&gt;GnuPG for Windows : gpg-agent について&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://text.baldanders.info/openpgp/gnupg-cheat-sheet/&#34;&gt;GnuPG チートシート（鍵作成から失効まで）&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;enigmail-の導入&#34;&gt;&lt;a href=&#34;https://addons.mozilla.org/thunderbird/addon/enigmail/&#34; title=&#34;Enigmail :: Add-ons for Thunderbird&#34;&gt;Enigmail&lt;/a&gt; の導入&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://www.thunderbird.net/&#34; title=&#34;Thunderbird — Software made to make email easier. — Mozilla&#34;&gt;Thunderbird&lt;/a&gt; で &lt;a href=&#34;http://openpgp.org/&#34;&gt;OpenPGP&lt;/a&gt; 暗号化メールをやり取りするには &lt;a href=&#34;https://addons.mozilla.org/thunderbird/addon/enigmail/&#34; title=&#34;Enigmail :: Add-ons for Thunderbird&#34;&gt;Enigmail&lt;/a&gt; アドオンを導入する。&lt;/p&gt;

&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/29123820638/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/29123820638_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/29123820638_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;Search Enigmail&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/29123820638/&#34;&gt;Search Enigmail&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;この状態で &lt;code&gt;[インストール]&lt;/code&gt; ボタンを押してインストールを完了させる。&lt;/p&gt;

&lt;h2 id=&#34;enigmail-の設定&#34;&gt;&lt;a href=&#34;https://addons.mozilla.org/thunderbird/addon/enigmail/&#34; title=&#34;Enigmail :: Add-ons for Thunderbird&#34;&gt;Enigmail&lt;/a&gt; の設定&lt;/h2&gt;

&lt;p&gt;インストールが完了したらメニューから &lt;a href=&#34;https://addons.mozilla.org/thunderbird/addon/enigmail/&#34; title=&#34;Enigmail :: Add-ons for Thunderbird&#34;&gt;Enigmail&lt;/a&gt; の「セットアップウィザード」を開く。&lt;/p&gt;

&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/41186104180/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/41186104180_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/41186104180_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;Enigmail menu&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/41186104180/&#34;&gt;Enigmail menu&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/42946809382/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/42946809382_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/42946809382_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;Enigmail setup-wizard (1)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/42946809382/&#34;&gt;Enigmail setup-wizard (1)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;ここでは初心者向けの設定を紹介する。&lt;/p&gt;

&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/42278121714/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/42278121714_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/42278121714_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;Enigmail setup-wizard (2)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/42278121714/&#34;&gt;Enigmail setup-wizard (2)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;メールアカウントに対応する鍵を既に作成している場合はその鍵を選択する（&lt;a href=&#34;https://addons.mozilla.org/thunderbird/addon/enigmail/&#34; title=&#34;Enigmail :: Add-ons for Thunderbird&#34;&gt;Enigmail&lt;/a&gt; はメールアカウントと &lt;a href=&#34;http://openpgp.org/&#34;&gt;OpenPGP&lt;/a&gt; 鍵との関連をメールアドレスで行っている）。
対応する鍵がない場合には「メッセージ署名/暗号に使用する鍵ペアを新規に作成する」を選択して &lt;a href=&#34;http://openpgp.org/&#34;&gt;OpenPGP&lt;/a&gt; 鍵を作成する&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:key1&#34;&gt;&lt;a href=&#34;#fn:key1&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;

&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/29124707788/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/29124707788_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/29124707788_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;Enigmail setup-wizard (3)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/29124707788/&#34;&gt;Enigmail setup-wizard (3)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/42278604034/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/42278604034_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/42278604034_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;Enigmail setup-wizard (5)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/42278604034/&#34;&gt;Enigmail setup-wizard (5)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/42278604034/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/42278604034_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/42278604034_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;Enigmail setup-wizard (5)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/42278604034/&#34;&gt;Enigmail setup-wizard (5)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;ここで失効証明書を作っておく&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:rvk1&#34;&gt;&lt;a href=&#34;#fn:rvk1&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;。
&lt;code&gt;[失効証明書の生成]&lt;/code&gt; ボタンを押して失効証明書を保存すると &lt;code&gt;[次へ]&lt;/code&gt; ボタンが有効になる。&lt;/p&gt;

&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/42997052861/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/42997052861_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/42997052861_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;Enigmail setup-wizard (6)&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/42997052861/&#34;&gt;Enigmail setup-wizard (6)&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;これでセットアップ完了。
なお，アカウント設定ではもう少し詳細な設定が可能である。&lt;/p&gt;

&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/29125191098/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/29125191098_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/29125191098_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;Enigmail settings&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/29125191098/&#34;&gt;Enigmail settings&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h2 id=&#34;暗号化メールの作成と表示&#34;&gt;暗号化メールの作成と表示&lt;/h2&gt;

&lt;p&gt;では自分自身宛にメールを作成して動作確認してみよう。&lt;/p&gt;

&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/29125311968/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/29125311968_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/29125311968_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;Make mail&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/29125311968/&#34;&gt;Make mail&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;矢印で示した部分で暗号化および電子署名の有無を指定する。
ここでは暗号化と電子署名を有効にしてメールを送信する。&lt;/p&gt;

&lt;p&gt;送信時に件名を保護するか問い合わせがある。&lt;/p&gt;

&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/42948011252/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/42948011252_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/42948011252_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;Encrypt title&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/42948011252/&#34;&gt;Encrypt title&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;&lt;code&gt;[件名を保護する]&lt;/code&gt; を選択すると件名を “Encrypted Message” に置き換えて送信する。
本来の件名は復号時に表示される。&lt;/p&gt;

&lt;p&gt;では実際に受信したメールを復号して表示してみよう。&lt;/p&gt;

&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/29125520728/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/29125520728_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/29125520728_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;Receive message&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/29125520728/&#34;&gt;Receive message&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;メールの復号と署名検証が正しく行われていることが確認できた。&lt;/p&gt;

&lt;h2 id=&#34;openpgp-鍵の管理&#34;&gt;&lt;a href=&#34;http://openpgp.org/&#34;&gt;OpenPGP&lt;/a&gt; 鍵の管理&lt;/h2&gt;

&lt;p&gt;メニューから &lt;a href=&#34;https://addons.mozilla.org/thunderbird/addon/enigmail/&#34; title=&#34;Enigmail :: Add-ons for Thunderbird&#34;&gt;Enigmail&lt;/a&gt; の「鍵の管理」を開く。&lt;/p&gt;

&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/41188654830/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/41188654830_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/41188654830_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;key management&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/41188654830/&#34;&gt;key management&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure style=&#39;margin:0 auto;text-align:center;&#39;&gt;
&lt;a href=&#34;https://photo.baldanders.info/flickr/42949496932/&#34;&gt;&lt;img src=&#34;https://photo.baldanders.info/flickr/image/42949496932_m.png&#34; srcset=&#34;https://photo.baldanders.info/flickr/image/42949496932_m.png 500w&#34; sizes=&#34;(min-width:600px) 500px, 80vw&#34; alt=&#34;enigmail-key-management&#34;&gt;&lt;/a&gt;
&lt;figcaption&gt;&lt;a href=&#34;https://photo.baldanders.info/flickr/42949496932/&#34;&gt;enigmail-key-management&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;鍵の管理で公開鍵のインポート・エクスポートや電子署名等の操作ができる。&lt;/p&gt;
&lt;div class=&#34;footnotes&#34;&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li id=&#34;fn:key1&#34;&gt;セットアップウィザードでは RSA 4096ビット長の &lt;a href=&#34;http://openpgp.org/&#34;&gt;OpenPGP&lt;/a&gt; 鍵を生成する。
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:key1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:rvk1&#34;&gt;失効証明書は鍵を失効させる際に必要となる。失効した公開鍵を配布するのを忘れずに。詳しくは「&lt;a href=&#34;https://text.baldanders.info/openpgp/gnupg-cheat-sheet/&#34;&gt;GnuPG チートシート（鍵作成から失効まで）&lt;/a&gt;」を参照のこと。
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:rvk1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</content>
	</entry>
	
</feed>
